(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b1df568"],{"4b0d":function(e,t,s){e.exports=s.p+"img/nft.9212b8ff.svg"},"9eb4":function(e,t,s){},a4e5:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"nft-mining "+e.theme},[n("div",{staticClass:"container"},[e._m(0),n("div",{staticClass:"info"},[n("div",[n("span",[e._v("年化利率：")]),n("span",[e._v(e._s(e.apy)+"%")])]),e._m(1),n("div",[n("span",[e._v("总质押AcSwap NFT：")]),n("span",[e._v(e._s(e.totalPledge))])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isPledge,expression:"!isPledge"}],staticClass:"pledge"},[n("div",{staticClass:"pledge-amount"},[e._m(2),n("router-link",{attrs:{to:""}},[e._v("获得NFT")])],1),n("button",{staticClass:"ant-btn",on:{click:e.showPledge}},[e._v("质押")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isPledge,expression:"isPledge"}],staticClass:"pledged"},[n("div",{staticClass:"info"},[e._m(3),n("div",[n("span",[e._v(e._s(e.pledged))]),n("div",{staticClass:"buttons"},[n("button",{staticClass:"ant-btn",on:{click:e.showRedeem}},[n("img",{attrs:{src:s("b4fc")}})]),n("button",{staticClass:"ant-btn",on:{click:e.showPledge}},[n("img",{attrs:{src:s("cabd")}})])])])])])]),n("nft-pledge",{ref:"NftPledge",on:{reload:e.reload}}),n("nft-redeem",{ref:"NftRedeem",on:{reload:e.reload}})],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tokens"},[n("img",{attrs:{src:s("4b0d")}}),n("div",{staticClass:"content"},[n("span",[e._v("AcSwap NFT")]),n("div",[n("span",[e._v("核心")]),n("span",[e._v("5X")])])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("span",[e._v("赚取：")]),s("span",[e._v("AC")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("span",[e._v("AcSwap NFT "),s("span",[e._v("已质押")])]),s("span",[e._v("0")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[e._v("AcSwap NFT "),s("span",[e._v("已质押")])])}],i=s("1da1"),r=s("5530"),d=(s("96cf"),s("d3b7"),s("3ca3"),s("ddb0"),s("a9e3"),s("b680"),s("aca7")),o={components:{"nft-pledge":function(){return s.e("chunk-07b223a7").then(s.bind(null,"26f7"))},"nft-redeem":function(){return s.e("chunk-3fbbf818").then(s.bind(null,"2782"))}},data:function(){return{isPledge:!1,apy:"0",totalPledge:"0",pledged:"0",NftPledge:[],NftRedeem:[]}},computed:Object(r["a"])({},Vuex.mapState(["contracts","address","theme"])),created:function(){this.$contracts&&this.init()},methods:{init:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=new e.$web3.BatchRequest,t.t0=Number,t.next=4,e.$web3.eth.getBlock("latest");case 4:t.t1=t.sent.timestamp,n=(0,t.t0)(t.t1),a=86400*Math.floor(n/86400),i="0.1e18".toBN(),s.add(e.$contracts.Farm.methods.userPoolInfo(d["b"].NFT,e.address).call.request({from:e.address})),s.add(e.$contracts.Farm.methods.getOutPut(a,n).call.request({from:e.address})),s.add(e.$contracts.Genesis.methods.price(e.$contracts.USDTToken.options.address).call.request({from:e.address})),s.add(e.$contracts.Farm.methods.pools(d["b"].NFT).call.request({from:e.address})),s.add(e.$contracts.Farm.methods.totalAllocPoint().call.request({from:e.address})),s.requestManager.sendBatch(s.requests,(function(t,s){if(!t){var n=s[0].result.decode([{name:"supply",type:"uint256"},{name:"reward",type:"uint256"},{name:"taked",type:"uint256"},{name:"rewardDebt",type:"uint256"}]),a=s[3].result.decode([{name:"token",type:"address"},{name:"allocPoint",type:"uint256"},{name:"lastTime",type:"uint256"},{name:"totalSupply",type:"uint256"},{name:"accTokenPerShare",type:"uint256"},{name:"types",type:"uint8"},{name:"extraReward",type:"address"}]),r=s[1].result.toBN().times(365),d=s[2].result,o=a.allocPoint,c=a.totalSupply,l=s[4].result,u=r.times(d).times(o).div(c.toBN().times(i).times(l));e.totalPledge=c.fromWei(),e.isPledge=n.supply.toBN().gt(0),e.pledged=n.supply.fromWei(),u.gt(0)&&(e.apy=u.toFixed())}}));case 14:case"end":return t.stop()}}),t)})))()},showPledge:function(){this.$refs.NftPledge.toggle()},showRedeem:function(){this.$refs.NftRedeem.toggle()},reload:function(){this.$emit("reload"),this.init(),this.$refs.NftPledge.init(),this.$refs.NftRedeem.init()}}},c=o,l=c,u=(s("d3f5"),s("2877")),p=Object(u["a"])(l,n,a,!1,null,"9494e464",null);t["default"]=p.exports},b4fc:function(e,t,s){e.exports=s.p+"img/less.d613d57e.svg"},cabd:function(e,t,s){e.exports=s.p+"img/plus.cd7bc63a.svg"},d3f5:function(e,t,s){"use strict";s("9eb4")}}]);