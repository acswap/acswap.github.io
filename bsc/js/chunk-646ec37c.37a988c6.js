(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-646ec37c"],{"0499":function(e,t,s){e.exports=s.p+"img/fsv.07dace5d.svg"},"0535":function(e,t,s){e.exports=s.p+"img/plus.cd7bc63a.svg"},3641:function(e,t,s){},"62c2":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:"fsv-mining "+e.theme},[a("div",{staticClass:"container"},[e._m(0),a("div",{staticClass:"info"},[a("div",[a("span",[e._v("年化利率：")]),a("span",[e._v(e._s(e.apy)+"%")])]),e._m(1),a("div",[a("span",[e._v("总质押FSV-AC/LP：")]),a("span",[e._v(e._s(e.totalPledge))])]),a("div",[a("span",[e._v("流动池$：")]),a("span",[e._v(e._s(e.liquidityReward))])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isPledge,expression:"!isPledge"}],staticClass:"pledge"},[a("div",{staticClass:"pledge-amount"},[e._m(2),a("router-link",{attrs:{to:""}},[e._v("获得LP")])],1),a("van-button",{on:{click:e.showPledge}},[e._v(e._s(e.binded?"质押":"去绑定"))])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isPledge,expression:"isPledge"}],staticClass:"pledged"},[a("div",{staticClass:"income"},[a("div",[e._m(3),a("span",[e._v(e._s(e.reward))])]),a("van-button",[e._v("领取")])],1),a("div",{staticClass:"amounts"},[a("div",{staticClass:"info"},[e._m(4),a("span",[e._v(e._s(e.pledged))]),a("span",[e._v("～"+e._s(e.pledgedUSD)+" USD")]),a("span",[e._v(e._s(e.pledgedFSV)+" FSV    "+e._s(e.pledgedAC)+" AC")])]),a("div",{staticClass:"buttons"},[a("van-button",{on:{click:e.showRedeem}},[a("img",{attrs:{src:s("8adf")}})]),a("van-button",{on:{click:e.showPledge}},[a("img",{attrs:{src:s("0535")}})])],1)])])]),a("fsv-pledge",{ref:"FsvPledge",on:{reload:e.reload}}),a("fsv-redeem",{ref:"FsvRedeem",attrs:{pledged:e.pledged},on:{reload:e.reload}})],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tokens"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:s("0499")}}),a("img",{attrs:{src:s("c776")}})]),a("div",{staticClass:"content"},[a("span",[e._v("FSV-AC/LP")]),a("span",[e._v("100X")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("span",[e._v("赚取：")]),s("span",[e._v("FSV+流动池费用")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("span",[e._v("FSV-AC/LP "),s("span",[e._v("已质押")])]),s("span",[e._v("0")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[e._v("FSV "),s("span",[e._v("已赚取")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[e._v("FSV-AC/LP "),s("span",[e._v("已质押")])])}],o=s("3835"),d=s("1da1"),i=s("5530"),r=(s("96cf"),s("d3b7"),s("3ca3"),s("ddb0"),s("b680"),{components:{"fsv-pledge":function(){return s.e("chunk-34f6d8ae").then(s.bind(null,"0038"))},"fsv-redeem":function(){return s.e("chunk-0ee76ec8").then(s.bind(null,"d22c"))}},data:function(){return{isPledge:!1,apy:"0",totalPledge:"0",pledged:"0",pledgedUSD:"0",pledgedFSV:"0",pledgedAC:"0",liquidityReward:"0",reward:"0"}},computed:Object(i["a"])({},Vuex.mapState(["theme","binded"])),created:function(){this.$contracts&&this.init()},methods:{showPledge:function(){this.binded?this.$refs.FsvPledge.toggle():this.$emit("showBind")},showRedeem:function(){this.$refs.FsvRedeem.toggle()},reload:function(){this.$emit("reload"),this.init()},init:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$web3.eth.getBlock("latest");case 2:s=t.sent.timestamp,a="0.1e18".toBN(),e.$contracts.Multicall.methods.aggregate([[e.$contracts.FSVToken.options.address,e.$contracts.FSVToken.methods.balanceOf(e.$contracts.FSV_AC_LP.options.address).encodeABI()],[e.$contracts.ACToken.options.address,e.$contracts.ACToken.methods.balanceOf(e.$contracts.FSV_AC_LP.options.address).encodeABI()],[e.$contracts.FSV_AC_LP.options.address,e.$contracts.FSV_AC_LP.methods.totalSupply().encodeABI()],[e.$contracts.DaoFarm.options.address,e.$contracts.DaoFarm.methods.totalSupply().encodeABI()],[e.$contracts.DaoFarm.options.address,e.$contracts.DaoFarm.methods.dayIndex(s).encodeABI()],[e.$contracts.DaoFarm.options.address,e.$contracts.DaoFarm.methods.userPoolInfo(e.$address).encodeABI()],[e.$contracts.DaoFarm.options.address,e.$contracts.DaoFarm.methods.takeReward().encodeABI()]]).call({from:e.$address},(function(t,s){if(!t){var n=Object(o["a"])(s.returnData,7),d=n[0],i=n[1],r=n[2],c=n[3],l=n[4],p=n[5],m=n[6],u=p.decode([{name:"supply",type:"uint256"},{name:"reward",type:"uint256"},{name:"taked",type:"uint256"},{name:"rewardDebt",type:"uint256"}]),v=u.supply.toBN().div(r);e.pledged=u.supply.fromWei(),e.isPledge=u.supply.toBN().gt(0),e.reward=m.fromWei(),e.totalPledge=c.fromWei(),e.liquidityReward=m.fromWei(),e.pledgedFSV=d.toBN().times(v).times(2).toFixed().fromWei(),e.pledgedAC=i.toBN().times(v).times(2).toFixed().fromWei(),e.$contracts.Multicall.methods.aggregate([[e.$contracts.Oracle.options.address,e.$contracts.Oracle.methods.getTokenPrice(e.$contracts.FSVToken.options.address,d).encodeABI()],[e.$contracts.DaoFarm.options.address,e.$contracts.DaoFarm.methods.dayOutPut(l).encodeABI()]]).call({from:e.$address},(function(t,s){if(!t){var n=Object(o["a"])(s.returnData,2),d=n[0],i=n[1],l=d.toBN().times(2).div(r),p=i.toBN().times(365),m=p.times(l).div(a.times(c));e.pledgedUSD=u.supply.toBN().times(l.toFixed().toWei()).toFixed().fromWei(),m.gt(0)&&(e.apy=m.toFixed())}}))}}));case 5:case"end":return t.stop()}}),t)})))()}}}),c=r,l=c,p=(s("d7d8"),s("2877")),m=Object(p["a"])(l,a,n,!1,null,"24d4483f",null);t["default"]=m.exports},"8adf":function(e,t,s){e.exports=s.p+"img/less.d613d57e.svg"},c776:function(e,t,s){e.exports=s.p+"img/nft-token.834fd726.svg"},d7d8:function(e,t,s){"use strict";s("3641")}}]);