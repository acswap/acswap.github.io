(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30292ab4"],{"4c64":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:"board-mining "+e.theme},[a("div",{staticClass:"container"},[a("div",{staticClass:"tokens"},[a("div",{staticClass:"logo"},[a("span",[e._v(e._s(e.$t("boardMining.text1")))]),a("span",[e._v(e._s(e.$t("boardMining.text2")))])]),a("div",{staticClass:"content"},[a("span",[e._v(e._s(e.$t("boardMining.text3")))]),a("span",[e._v("20X")])])]),a("div",{staticClass:"info"},[a("div",[a("span",[e._v(e._s(e.$t("boardMining.text4")))]),a("span",[e._v(e._s(e.apy.toFixed(4))+"%")])]),a("div",[a("span",[e._v(e._s(e.$t("boardMining.text5")))]),a("span",[e._v("AC")])]),a("div",[a("span",[e._v(e._s(e.$t("boardMining.text6")))]),a("span",[e._v(e._s(e.totalPledge.toFixed(4)))])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isPledge,expression:"!isPledge"}],staticClass:"pledge"},[a("div",{staticClass:"pledge-amount"},[a("div",[a("span",[e._v("BOD "),a("span",[e._v(e._s(e.$t("boardMining.text7")))])]),a("span",[e._v("0")])]),a("router-link",{attrs:{to:""}},[e._v(e._s(e.$t("boardMining.text8")))])],1),a("button",{staticClass:"ant-btn",on:{click:e.showPledge}},[e._v(e._s(e.$t("boardMining.text9")))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isPledge,expression:"isPledge"}],staticClass:"pledged"},[a("div",{staticClass:"info"},[a("span",[e._v("BOD "),a("span",[e._v(e._s(e.$t("boardMining.text7")))])]),a("span",[e._v(e._s(e.pledged.toFixed(4)))]),a("span",[e._v("ï½ž"+e._s(e.pledgedUSD.toFixed(4))+" USD")])]),a("div",{staticClass:"buttons"},[a("button",{staticClass:"ant-btn",on:{click:e.showRedeem}},[a("img",{attrs:{src:s("b4fc")}})]),a("button",{staticClass:"ant-btn",on:{click:e.showPledge}},[a("img",{attrs:{src:s("cabd")}})])])])]),a("board-pledge",{ref:"BoardPledge",on:{reload:e.reload}}),a("board-redeem",{ref:"BoardRedeem",attrs:{pledged:e.pledged},on:{reload:e.reload}})],1)},n=[],d=s("1da1"),o=s("5530"),i=(s("96cf"),s("d3b7"),s("3ca3"),s("ddb0"),s("a9e3"),s("b680"),s("aca7")),r={components:{"board-pledge":function(){return s.e("chunk-447cf1da").then(s.bind(null,"1bc1"))},"board-redeem":function(){return s.e("chunk-9ea9280c").then(s.bind(null,"8065"))}},props:{liquidityReward:String},data:function(){return{isPledge:!1,apy:"0",totalPledge:"0",pledged:"0",pledgedUSD:"0",BoardPledge:[],BoardRedeem:[]}},computed:Object(o["a"])({},Vuex.mapState(["contracts","address","theme"])),created:function(){this.$contracts&&this.init()},methods:{init:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=new e.$web3.BatchRequest,t.t0=Number,t.next=4,e.$web3.eth.getBlock("latest");case 4:t.t1=t.sent.timestamp,a=(0,t.t0)(t.t1),86400*Math.floor(a/86400),"0.1e18".toBN(),s.add(e.$contracts.Farm.methods.userPoolInfo(i["a"].BOARD,e.$address).call.request({from:e.$address})),s.add(e.$contracts.Farm.methods.getTodayOutPut().call.request({from:e.$address})),s.add(e.$contracts.Oracle.methods.getTokenPrice(e.$contracts.BoardToken.options.address,"1".toWei()).call.request({from:e.$address})),s.add(e.$contracts.Farm.methods.pools(i["a"].BOARD).call.request({from:e.$address})),s.add(e.$contracts.Farm.methods.totalAllocPoint().call.request({from:e.$address})),s.add(e.$contracts.Oracle.methods.getTokenPrice(e.$contracts.ACToken.options.address,"1".toWei()).call.request({from:e.$address})),s.requestManager.sendBatch(s.requests,(function(t,s){if(!t){var a=("string"===typeof s[0]?s[0]:s[0].result).decode([{name:"supply",type:"uint256"},{name:"reward",type:"uint256"},{name:"taked",type:"uint256"},{name:"rewardDebt",type:"uint256"}]),n=s[3].result.decode([{name:"token",type:"address"},{name:"allocPoint",type:"uint256"},{name:"lastTime",type:"uint256"},{name:"totalSupply",type:"uint256"},{name:"accTokenPerShare",type:"uint256"},{name:"types",type:"uint8"},{name:"extraReward",type:"address"}]),d=s[1].result.toBN().times(365),o=s[2].result,i=n.allocPoint,r=n.totalSupply,c=s[4].result,l=s[5].result,u=d.times(l.fromWei()).times(i).div(r.toBN().times(o.fromWei()).times(c));e.totalPledge=r.fromWei(),e.isPledge=a.supply.toBN().gt(0),e.pledged=a.supply.fromWei(),e.pledgedUSD=a.supply.toBN().times(o.fromWei()).toFixed().fromWei(),u.gt(0)&&u.isFinite()&&(e.apy=u.toFixed())}}));case 15:case"end":return t.stop()}}),t)})))()},showPledge:function(){this.$refs.BoardPledge.toggle()},showRedeem:function(){this.$refs.BoardRedeem.toggle()},reload:function(){this.$emit("reload"),this.init()}}},c=r,l=c,u=(s("8c1f"),s("2877")),p=Object(u["a"])(l,a,n,!1,null,"f927ec18",null);t["default"]=p.exports},"8c1f":function(e,t,s){"use strict";s("dbeb")},b4fc:function(e,t,s){e.exports=s.p+"img/less.1207c938.svg"},cabd:function(e,t,s){e.exports=s.p+"img/plus.2f1de441.svg"},dbeb:function(e,t,s){}}]);