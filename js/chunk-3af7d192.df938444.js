(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3af7d192"],{"051d":function(t,e,n){},"058e":function(t,e,n){t.exports=n.p+"img/pledge-mining.83c96ad9.svg"},"0ac9":function(t,e,n){"use strict";var i=n("faa4");t.exports="NODE"===i},"0f64":function(t,e,n){var i=n("2e80"),s=n("3d6c"),a=n("17a8"),o=NaN,r=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,d=/^0o[0-7]+$/i,l=parseInt;function u(t){if("number"==typeof t)return t;if(a(t))return o;if(s(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=s(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=i(t);var n=c.test(t);return n||d.test(t)?l(t.slice(2),n?2:8):r.test(t)?o:+t}t.exports=u},"26b5":function(t,e,n){"use strict";var i=n("67e7"),s=n("43d9"),a=n("e627"),o=n("805d"),r=TypeError,c="Reduce of empty array with no initial value",d=function(t){return function(e,n,d,l){var u=s(e),p=a(u),f=o(u);if(i(n),0===f&&d<2)throw new r(c);var h=t?f-1:0,m=t?-1:1;if(d<2)while(1){if(h in p){l=p[h],h+=m;break}if(h+=m,t?h<0:f<=h)throw new r(c)}for(;t?h>=0:f>h;h+=m)h in p&&(l=n(l,p[h],h,u));return l}};t.exports={left:d(!1),right:d(!0)}},"2e80":function(t,e,n){var i=n("f961"),s=/^\s+/;function a(t){return t?t.slice(0,i(t)+1).replace(s,""):t}t.exports=a},"3d6c":function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},"416d":function(t,e,n){t.exports=n.p+"img/dao-mining.5f518b4f.svg"},"76e0":function(t,e,n){t.exports=n.p+"img/history.4d73d81d.svg"},"88bf":function(t,e,n){"use strict";n("051d")},"89b4":function(t,e,n){"use strict";n.r(e);n("d999");var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"mining"},[e("div",{staticClass:"header"},[e("div",{staticClass:"income"},[e("div",[e("span",[t._v(t._s(t.$t("mining.text1")))]),e("span",[t._v(t._s(t.totalEarn.toFixed(2)))]),e("a-button",{on:{click:function(e){return t.$router.push("/farms/log")}}},[e("img",{attrs:{src:n("76e0")}}),e("span",[t._v(t._s(t.$t("mining.text2")))])])],1),e("a-button",{directives:[{name:"show",rawName:"v-show",value:t.isCanTake,expression:"isCanTake"}],on:{click:t.showAward}},[t._v(t._s(t.$t("mining.text3")))]),e("a-button",{directives:[{name:"show",rawName:"v-show",value:!t.isCanTake,expression:"!isCanTake"}],on:{click:t.distribute}},[e("span",{directives:[{name:"show",rawName:"v-show",value:!t.trading,expression:"!trading"}]},[t._v(t._s(t.$t("renew")))]),e("a-spin",{directives:[{name:"show",rawName:"v-show",value:t.trading,expression:"trading"}]},[e("a-icon",{staticStyle:{"font-size":"24px"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1)],1)],1),e("div",{staticClass:"amounts"},[e("div",[e("div",[e("img",{attrs:{src:n("fbc4")}}),e("span",[t._v(t._s(t.$t("lp_mining")))])]),e("span",[t._v(t._s(t.earnLP.toFixed(0)))])]),e("div",[e("div",[e("img",{attrs:{src:n("416d")}}),e("span",[t._v(t._s(t.$t("nft_mining")))])]),e("span",[t._v(t._s(t.earnNFT.toFixed(0)))])]),e("div",[e("div",[e("img",{attrs:{src:n("058e")}}),e("span",[t._v(t._s(t.$t("node_mining")))])]),e("span",[t._v(t._s(t.earnDAO.toFixed(0)))])])])]),e("div",{staticClass:"title"},[e("div",[e("span",{class:{active:"LP"===t.tag},on:{click:function(e){t.tag="LP"}}},[t._v(t._s(t.$t("mining.text7")))])]),e("div",[e("span",{class:{active:"NFT"===t.tag},on:{click:function(e){t.tag="NFT"}}},[t._v(t._s(t.$t("mining.text5")))])]),e("div",[e("span",{class:{active:"BOARD"===t.tag},on:{click:function(e){t.tag="BOARD"}}},[t._v(t._s(t.$t("mining.text8")))])])]),e("lp-mining",{directives:[{name:"show",rawName:"v-show",value:"LP"===t.tag,expression:"tag === 'LP'"}],attrs:{poolsInfo:t.poolsInfo},on:{reload:t.init}}),e("nft-mining",{directives:[{name:"show",rawName:"v-show",value:"NFT"===t.tag,expression:"tag === 'NFT'"}],on:{reload:t.init}}),e("board-mining",{directives:[{name:"show",rawName:"v-show",value:"BOARD"===t.tag,expression:"tag === 'BOARD'"}],on:{reload:t.init}}),e("take-award",{ref:"TakeAward",attrs:{earnLP:t.earnLP,earnNFT:t.earnNFT,earnDAO:t.earnDAO,totalEarn:t.totalEarn,poolsInfo:t.poolsInfo},on:{reload:t.init}})],1)},s=[],a=(n("277a"),n("8d0a")),o=(n("38c6"),n("64c8")),r=(n("0c63"),n("e626"),n("11ce")),c=n.n(r),d=n("32d5"),l=n.n(d),u=n("f33e"),p=n.n(u),f=n("8ccc"),h=n.n(f),m=n("2aeb"),v=n("e509"),g=n("3f62"),b=n("bc05"),w=n("f9c8"),y=m["a"].oneOf(["small","default","large"]),x=function(){return{prefixCls:m["a"].string,spinning:m["a"].bool,size:y,wrapperClassName:m["a"].string,tip:m["a"].string,delay:m["a"].number,indicator:m["a"].any}},O=void 0;function $(t,e){return!!t&&!!e&&!isNaN(Number(e))}function k(t){O="function"===typeof t.indicator?t.indicator:function(e){return e(t.indicator)}}var N={name:"ASpin",mixins:[v["a"]],props:Object(g["m"])(x(),{size:"default",spinning:!0,wrapperClassName:""}),inject:{configProvider:{default:function(){return w["a"]}}},data:function(){var t=this.spinning,e=this.delay,n=$(t,e);return this.originalUpdateSpinning=this.updateSpinning,this.debouncifyUpdateSpinning(this.$props),{sSpinning:t&&!n}},mounted:function(){this.updateSpinning()},updated:function(){var t=this;this.$nextTick((function(){t.debouncifyUpdateSpinning(),t.updateSpinning()}))},beforeDestroy:function(){this.cancelExistingSpin()},methods:{debouncifyUpdateSpinning:function(t){var e=t||this.$props,n=e.delay;n&&(this.cancelExistingSpin(),this.updateSpinning=h()(this.originalUpdateSpinning,n))},updateSpinning:function(){var t=this.spinning,e=this.sSpinning;e!==t&&this.setState({sSpinning:t})},cancelExistingSpin:function(){var t=this.updateSpinning;t&&t.cancel&&t.cancel()},getChildren:function(){return this.$slots&&this.$slots["default"]?Object(g["b"])(this.$slots["default"]):null},renderIndicator:function(t,e){var n=e+"-dot",i=Object(g["d"])(this,"indicator");return null===i?null:(Array.isArray(i)&&(i=Object(g["b"])(i),i=1===i.length?i[0]:i),Object(g["n"])(i)?Object(b["a"])(i,{class:n}):O&&Object(g["n"])(O(t))?Object(b["a"])(O(t),{class:n}):t("span",{class:n+" "+e+"-dot-spin"},[t("i",{class:e+"-dot-item"}),t("i",{class:e+"-dot-item"}),t("i",{class:e+"-dot-item"}),t("i",{class:e+"-dot-item"})]))}},render:function(t){var e,n=this.$props,i=n.size,s=n.prefixCls,a=n.tip,o=n.wrapperClassName,r=p()(n,["size","prefixCls","tip","wrapperClassName"]),d=this.configProvider.getPrefixCls,u=d("spin",s),f=this.sSpinning,h=(e={},l()(e,u,!0),l()(e,u+"-sm","small"===i),l()(e,u+"-lg","large"===i),l()(e,u+"-spinning",f),l()(e,u+"-show-text",!!a),e),m=t("div",c()([r,{class:h}]),[this.renderIndicator(t,u),a?t("div",{class:u+"-text"},[a]):null]),v=this.getChildren();if(v){var b,w=(b={},l()(b,u+"-container",!0),l()(b,u+"-blur",f),b);return t("div",c()([{on:Object(g["g"])(this)},{class:[u+"-nested-loading",o]}]),[f&&t("div",{key:"loading"},[m]),t("div",{class:w,key:"container"},[v])])}return m}},S=n("de50");N.setDefaultIndicator=k,N.install=function(t){t.use(S["a"]),t.component(N.name,N)};var T=N,_=(n("a215"),n("0c68"),n("abfe"),n("815a"),n("ae55"),n("6eef")),A=n("b9cc"),D=n("e549"),F={components:{[T.name]:T,[o["a"].name]:o["a"],"take-award":()=>n.e("chunk-a626d226").then(n.bind(null,"2443")),"lp-mining":()=>n.e("chunk-3d8a8a8c").then(n.bind(null,"6956")),"nft-mining":()=>n.e("chunk-30bbf002").then(n.bind(null,"a4e5")),"board-mining":()=>n.e("chunk-034c70fb").then(n.bind(null,"4c64"))},data(){return{tag:"LP",earnNFT:0,earnDAO:0,poolsInfo:[],isCanTake:!1,trading:!1}},computed:{...Object(_["b"])(["connect","address","chainId"]),earnLP(){return this.poolsInfo.reduce((t,e)=>t.plus(e.earn),"0".toBN()).toFixed()},totalEarn(){return this.earnLP.toBN().plus(this.earnNFT).plus(this.earnDAO).toFixed()}},created(){this.connect&&56===this.chainId&&this.init()},methods:{showAward(){this.$refs.TakeAward.toggle()},async distribute(){this.trading=!0;const t=this.$contracts.Farm.methods.distribute();try{await t.call({from:this.address}),t.send({from:this.address}).on("receipt",()=>{a["a"].success(this.$t("renew_successful")),this.init(),this.trading=!1}).on("error",t=>{console.log(t),this.trading=!1})}catch(e){console.log(e),this.trading=!1}},init(){this.$contracts.Farm.methods.poolLength().call((t,e)=>{if(!t){const t=new this.$web3.BatchRequest;for(let n=0;n<+e;n++)t.add(this.$contracts.Farm.methods.pools(n).call.request("latest"));t.requestManager.sendBatch(t.requests,(t,e)=>{if(!t){const t=e.map(t=>(t.result||t).decode(["address"])).filter(t=>!(t.toBN().eq(this.$contracts.AcNFT.options.address.toBN())||t.toBN().eq(this.$contracts.AcDAO.options.address.toBN())));this.getPoolsInfo(t)}})}}),this.$contracts.Farm.methods.earn(this.$contracts.AcNFT.options.address,this.address).call((t,e)=>{t||(this.earnNFT=e.fromWei())}),this.$contracts.Farm.methods.earn(this.$contracts.AcDAO.options.address,this.address).call((t,e)=>{t||(this.earnDAO=e.fromWei())}),this.$contracts.Farm.methods.callable().call((t,e)=>{t||(this.isCanTake=!e)})},getPoolsInfo(t){const e=new this.$web3.BatchRequest;e.add(this.$contracts.Farm.methods.getDayOutpus().call.request("latest")),e.add(this.$contracts.AcSwapRouter.methods.getAmountsOut("1".toWei(),[this.$contracts.AcToken.options.address,this.$contracts.USDTToken.options.address]).call.request("latest")),e.add(this.$contracts.Farm.methods.totalRadio().call.request("latest"));for(let n=0;n<t.length;n++){const i=new this.$web3.eth.Contract(D,t[n]);e.add(i.methods.token0().call.request("latest")),e.add(i.methods.token1().call.request("latest")),e.add(this.$contracts.Farm.methods.poolInfo(t[n]).call.request("latest")),e.add(i.methods.balanceOf(this.$contracts.Farm.options.address).call.request("latest")),e.add(this.$contracts.Farm.methods.userInfo(t[n],this.address).call.request("latest")),e.add(this.$contracts.Farm.methods.earn(t[n],this.address).call.request("latest"))}e.requestManager.sendBatch(e.requests,async(e,n)=>{if(!e){const e=(n[0].result||n[0]).toBN().div(1e18).times(365),i=n[1].result.decode(["uint256[]"])[1].fromWei(),s=Number(n[2].result),a=[];let o=0;for(let r=3;r<n.length;r+=6){const c=n[r+2].result.decode([{type:"bool",name:"isNft"},{type:"address",name:"token"},{type:"uint256",name:"radio"},{type:"uint256",name:"accTokenPerShare"},{type:"uint256",name:"totalPower"}]),d=n[r+4].result.decode([{type:"uint256",name:"power"},{type:"uint256",name:"reward"},{type:"uint256",name:"taked"},{type:"uint256",name:"rewardDebt"}]),l=e.times(i).times(c.radio);a.push({pair:t[o++],token0:n[r].result.decode(["address"]),token1:n[r+1].result.decode(["address"]),radio:c.radio,totalDeposited:n[r+3].result.fromWei(),deposited:d.power.fromWei(),earn:n[r+5].result.fromWei(),priceAnnualOutput:l,totalRadio:s})}this.poolsInfo=await this.getTokensSymbol(a)}})},getTokensSymbol(t){return new Promise(e=>{const n=new this.$web3.BatchRequest;for(let i=0;i<t.length;i++){const e=new this.$web3.eth.Contract(A,t[i].token0),s=new this.$web3.eth.Contract(A,t[i].token1),a=new this.$web3.eth.Contract(D,t[i].pair);n.add(e.methods.symbol().call.request("latest")),n.add(s.methods.symbol().call.request("latest")),n.add(a.methods.totalSupply().call.request("latest")),n.add(this.$contracts.USDTToken.methods.balanceOf(t[i].pair).call.request("latest"))}n.requestManager.sendBatch(n.requests,(n,i)=>{if(!n){let n=0;for(let e=0;e<i.length;e+=4){const s=(i[e].result||i[e]).decode(["string"]),a=i[e+1].result.decode(["string"]),o=i[e+2].result.fromWei(),r=i[e+3].result.toBN().times(2).div(1e18).div(o),c=r.times(t[n].totalDeposited).times(t[n].totalRadio);t[n]={...t[n],symbol0:s,symbol1:a,symbol:`${s}-${a}/LP`,apy:t[n].priceAnnualOutput.div(c).toFixed(),depositedUSD:r.times(t[n].deposited).toFixed()},n++}e(t)}})})}}},C=F,q=C,B=(n("88bf"),n("c6fb")),E=Object(B["a"])(q,i,s,!1,null,"8c5b9306",null);e["default"]=E.exports},"8ccc":function(t,e,n){var i=n("3d6c"),s=n("d78b"),a=n("0f64"),o="Expected a function",r=Math.max,c=Math.min;function d(t,e,n){var d,l,u,p,f,h,m=0,v=!1,g=!1,b=!0;if("function"!=typeof t)throw new TypeError(o);function w(e){var n=d,i=l;return d=l=void 0,m=e,p=t.apply(i,n),p}function y(t){return m=t,f=setTimeout($,e),v?w(t):p}function x(t){var n=t-h,i=t-m,s=e-n;return g?c(s,u-i):s}function O(t){var n=t-h,i=t-m;return void 0===h||n>=e||n<0||g&&i>=u}function $(){var t=s();if(O(t))return k(t);f=setTimeout($,x(t))}function k(t){return f=void 0,b&&d?w(t):(d=l=void 0,p)}function N(){void 0!==f&&clearTimeout(f),m=0,d=h=l=f=void 0}function S(){return void 0===f?p:k(s())}function T(){var t=s(),n=O(t);if(d=arguments,l=this,h=t,n){if(void 0===f)return y(h);if(g)return clearTimeout(f),f=setTimeout($,e),w(h)}return void 0===f&&(f=setTimeout($,e)),p}return e=a(e)||0,i(n)&&(v=!!n.leading,g="maxWait"in n,u=g?r(a(n.maxWait)||0,e):u,b="trailing"in n?!!n.trailing:b),T.cancel=N,T.flush=S,T}t.exports=d},a215:function(t,e,n){"use strict";var i=n("7636"),s=n("26b5").left,a=n("c803"),o=n("0da2"),r=n("0ac9"),c=!r&&o>79&&o<83,d=c||!a("reduce");i({target:"Array",proto:!0,forced:d},{reduce:function(t){var e=arguments.length;return s(this,t,e,e>1?arguments[1]:void 0)}})},ae55:function(t,e,n){"use strict";var i=n("7636"),s=n("77b5"),a=n("67e7"),o=n("f1a3"),r=n("55d4"),c=n("2129"),d=n("73b3"),l=n("c0bc"),u=n("b91a"),p=TypeError,f=u((function(){[].keys().reduce((function(){}),void 0)})),h=!f&&d("reduce",p);i({target:"Iterator",proto:!0,real:!0,forced:f||h},{reduce:function(t){o(this);try{a(t)}catch(u){c(this,"throw",u)}var e=arguments.length<2,n=e?void 0:arguments[1];if(h)return l(h,this,e?[t]:[t,n]);var i=r(this),d=0;if(s(i,(function(i){e?(e=!1,n=i):n=t(n,i,d),d++}),{IS_RECORD:!0}),e)throw new p("Reduce of empty iterator with no initial value");return n}})},bc05:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n("b024"),s=n.n(i),a=n("e590"),o=n.n(a),r=n("3f62"),c=n("b899"),d=n.n(c);function l(t,e){var n=t.componentOptions,i=t.data,s={};n&&n.listeners&&(s=o()({},n.listeners));var a={};i&&i.on&&(a=o()({},i.on));var r=new t.constructor(t.tag,i?o()({},i,{on:a}):i,t.children,t.text,t.elm,t.context,n?o()({},n,{listeners:s}):n,t.asyncFactory);return r.ns=t.ns,r.isStatic=t.isStatic,r.key=t.key,r.isComment=t.isComment,r.fnContext=t.fnContext,r.fnOptions=t.fnOptions,r.fnScopeId=t.fnScopeId,r.isCloned=!0,e&&(t.children&&(r.children=u(t.children,!0)),n&&n.children&&(n.children=u(n.children,!0))),r}function u(t,e){for(var n=t.length,i=new Array(n),s=0;s<n;s++)i[s]=l(t[s],e);return i}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],i=t;if(Array.isArray(t)&&(i=Object(r["b"])(t)[0]),!i)return null;var a=l(i,n),c=e.props,u=void 0===c?{}:c,p=e.key,f=e.on,h=void 0===f?{}:f,m=e.nativeOn,v=void 0===m?{}:m,g=e.children,b=e.directives,w=void 0===b?[]:b,y=a.data||{},x={},O={},$=e.attrs,k=void 0===$?{}:$,N=e.ref,S=e.domProps,T=void 0===S?{}:S,_=e.style,A=void 0===_?{}:_,D=e["class"],F=void 0===D?{}:D,C=e.scopedSlots,q=void 0===C?{}:C;return O="string"===typeof y.style?Object(r["p"])(y.style):o()({},y.style,O),O="string"===typeof A?o()({},O,Object(r["p"])(O)):o()({},O,A),"string"===typeof y["class"]&&""!==y["class"].trim()?y["class"].split(" ").forEach((function(t){x[t.trim()]=!0})):Array.isArray(y["class"])?d()(y["class"]).split(" ").forEach((function(t){x[t.trim()]=!0})):x=o()({},y["class"],x),"string"===typeof F&&""!==F.trim()?F.split(" ").forEach((function(t){x[t.trim()]=!0})):x=o()({},x,F),a.data=o()({},y,{style:O,attrs:o()({},y.attrs,k),class:x,domProps:o()({},y.domProps,T),scopedSlots:o()({},y.scopedSlots,q),directives:[].concat(s()(y.directives||[]),s()(w))}),a.componentOptions?(a.componentOptions.propsData=a.componentOptions.propsData||{},a.componentOptions.listeners=a.componentOptions.listeners||{},a.componentOptions.propsData=o()({},a.componentOptions.propsData,u),a.componentOptions.listeners=o()({},a.componentOptions.listeners,h),g&&(a.componentOptions.children=g)):(g&&(a.children=g),a.data.on=o()({},a.data.on||{},h)),a.data.on=o()({},a.data.on||{},v),void 0!==p&&(a.key=p,a.data.key=p),"string"===typeof N&&(a.data.ref=N),a}},c0bc:function(t,e,n){"use strict";var i=n("4fbd"),s=Function.prototype,a=s.apply,o=s.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(a):function(){return o.apply(a,arguments)})},c803:function(t,e,n){"use strict";var i=n("b91a");t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){return 1},1)}))}},d78b:function(t,e,n){var i=n("3b8c"),s=function(){return i.Date.now()};t.exports=s},e626:function(t,e,n){},f961:function(t,e){var n=/\s/;function i(t){var e=t.length;while(e--&&n.test(t.charAt(e)));return e}t.exports=i},faa4:function(t,e,n){"use strict";var i=n("e52c"),s=n("f41b"),a=n("f32c"),o=function(t){return s.slice(0,t.length)===t};t.exports=function(){return o("Bun/")?"BUN":o("Cloudflare-Workers")?"CLOUDFLARE":o("Deno/")?"DENO":o("Node.js/")?"NODE":i.Bun&&"string"==typeof Bun.version?"BUN":i.Deno&&"object"==typeof Deno.version?"DENO":"process"===a(i.process)?"NODE":i.window&&i.document?"BROWSER":"REST"}()},fbc4:function(t,e,n){t.exports=n.p+"img/power-mining.b0a26270.svg"}}]);