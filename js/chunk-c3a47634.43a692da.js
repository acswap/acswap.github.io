(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c3a47634","chunk-2d237c35"],{"27a3":function(t,e,n){},"3dee":function(t,e,n){"use strict";n("ca94")},"4c4a":function(t,e,n){},6582:function(t,e,n){t.exports=n.p+"img/success.b5ad3b68.png"},"7d8c":function(t,e,n){"use strict";n("1651"),n("80fd")},"905d":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t._self._c;t._self._setupProxy;return t.info?e("div",{staticClass:"remove"},[e("div",{staticClass:"box"},[e("div",{staticClass:"content"},[e("div",{staticClass:"logos"},[e("div",[e("img",{attrs:{src:t.info.logo0}}),e("img",{attrs:{src:t.info.logo1}})]),e("span",[t._v(t._s(t.info.symbol0)+"/"+t._s(t.info.symbol1))])]),e("div",{staticClass:"info"},[e("div",[e("span",[t._v(t._s(t.info.symbol0))]),e("span",{domProps:{textContent:t._s(t.info.amount0.toFixed())}})]),e("div",[e("span",[t._v(t._s(t.info.symbol1))]),e("span",{domProps:{textContent:t._s(t.info.amount1.toFixed())}})]),e("div",[e("span",[t._v(t._s(t.$t("redemption.text2")))]),e("span",{domProps:{textContent:t._s(t.info.lp.toFixed())}})])]),e("div",{staticClass:"setting"},[e("span",[t._v(t._s(t.$t("redemption.text3")))]),e("span",[t._v(t._s(t.amountLP.toFixed()))]),e("van-slider",{attrs:{"active-color":"#02EAD0","inactive-color":"#252C32"},model:{value:t.prop,callback:function(e){t.prop=e},expression:"prop"}}),t._m(0)],1),e("div",{staticClass:"rate"},[e("span",{directives:[{name:"show",rawName:"v-show",value:!t.rateChanged,expression:"!rateChanged"}]},[t._v(t._s(t.$t("redemption.text5"))+" 1 "+t._s(t.info.symbol0)+" = "+t._s(t.rate.toFixed())+" "+t._s(t.info.symbol1))]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.rateChanged,expression:"rateChanged"}]},[t._v(t._s(t.$t("redemption.text5"))+" 1 "+t._s(t.info.symbol1)+" = "+t._s(t.reRate.toFixed())+" "+t._s(t.info.symbol0))])]),e("div",{staticClass:"coin"},[e("img",{attrs:{src:t.info.logo0}}),e("span",[t._v(t._s(t.amount0.toFixed())+" "+t._s(t.info.symbol0))])]),e("div",{staticClass:"coin"},[e("img",{attrs:{src:t.info.logo1}}),e("span",[t._v(t._s(t.amount1.toFixed())+" "+t._s(t.info.symbol1))])]),e("van-button",{attrs:{type:"info"},on:{click:t.approve}},[t._v(t._s(t.$t("redemption.text6")))])],1)]),e("van-overlay",{staticClass:"approve",attrs:{show:["approve","approved"].includes(t.state)}},[e("div",{staticClass:"before-transaction"},[e("span",[t._v(t._s(t.$t("NFTRedemption.text1")))]),e("div",{staticClass:"info"},[e("div",[e("span",{domProps:{textContent:t._s(t.info.symbol0)}}),e("span",{domProps:{textContent:t._s(t.amount0.toFixed(4))}})]),e("div",{staticClass:"addpicture"},[e("img",{attrs:{src:n("ad5c")}})]),e("div",[e("span",{domProps:{textContent:t._s(t.info.symbol1)}}),e("span",{domProps:{textContent:t._s(t.amount1.toFixed(4))}})])]),e("div",{staticClass:"message"},[e("ul",[e("li",{class:"approved"===t.state?"done":""},[e("i"),e("i"),e("span",[t._v(t._s(t.$t("NFTRedemption.text2"))+" "+t._s(t.info.symbol0)+"-"+t._s(t.info.symbol1)+"-LP")]),e("van-loading",{directives:[{name:"show",rawName:"v-show",value:"approve"===t.state,expression:"state === 'approve'"}],attrs:{type:"spinner",color:"#9FD9D0"}})],1),e("li",[t._v(t._s(t.$t("NFTRedemption.text3")))])])]),e("van-button",{directives:[{name:"show",rawName:"v-show",value:"approved"===t.state,expression:"state === 'approved'"}],on:{click:function(e){t.state="before"}}},[t._v(t._s(t.$t("NFTRedemption.text4")))]),e("van-button",{directives:[{name:"show",rawName:"v-show",value:"approve"===t.state,expression:"state === 'approve'"}],attrs:{disabled:"",loading:"","loading-text":t.$t("transacting"),"loading-type":"spinner"}})],1)]),e("van-overlay",{staticClass:"redemption-confirm",attrs:{show:["before","in","done"].includes(t.state)}},[e("div",{directives:[{name:"show",rawName:"v-show",value:["before","in"].includes(t.state),expression:"['before', 'in'].includes(state)"}],staticClass:"transaction"},[e("span",[t._v(t._s(t.$t("NFTRedemption.text6")))]),e("div",{staticClass:"tokens"},[e("div",[e("span",[t._v(t._s(t.info.symbol0))]),e("span",[t._v(t._s(t.amount0.toFixed(4)))])]),e("div",{staticClass:"addpicture"},[e("img",{attrs:{src:n("ad5c")}})]),e("div",[e("span",[t._v(t._s(t.info.symbol1))]),e("span",[t._v(t._s(t.amount1.toFixed(4)))])])]),e("div",{staticClass:"info"},[e("span",[t._v(t._s(t.$t("NFTRedemption.text7")))]),e("div",[e("span",[t._v("1 "+t._s(t.info.symbol0)+" ≈ "+t._s(t.rate.toFixed(4))+" "+t._s(t.info.symbol1))]),e("span",[t._v("1 "+t._s(t.info.symbol1)+" ≈ "+t._s(t.reRate.toFixed(4))+" "+t._s(t.info.symbol0))])]),e("span",[t._v(t._s(t.$t("NFTRedemption.text8")))]),e("div",[e("span",[t._v(t._s(t.amountLP.toFixed(4)))])])]),e("van-button",{directives:[{name:"show",rawName:"v-show",value:"before"===t.state,expression:"state === 'before'"}],on:{click:t.removeLiquidity}},[t._v(t._s(t.$t("NFTRedemption.text9")))]),e("van-button",{directives:[{name:"show",rawName:"v-show",value:"in"===t.state,expression:"state === 'in'"}],staticClass:"block",attrs:{disabled:"",loading:"","loading-type":"spinner","loading-text":t.$t("transacting")}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"done"===t.state,expression:"state === 'done'"}],staticClass:"transacted"},[e("img",{attrs:{src:n("6582")}}),e("span",[t._v(t._s(t.$t("NFTRedemption.text11")))]),e("div",{staticClass:"tokens"},[e("div",[e("span",[t._v(t._s(t.info.symbol0))]),e("span",[t._v(t._s(t.amount0.toFixed(4)))])]),e("div",{staticClass:"addpicture"},[e("img",{attrs:{src:n("ad5c")}})]),e("div",[e("span",[t._v(t._s(t.info.symbol1))]),e("span",[t._v(t._s(t.amount1.toFixed(4)))])])]),e("van-button",{on:{click:t.close}},[t._v(t._s(t.$t("NFTRedemption.text12")))]),e("span",[t._v(t._s(t.$t("NFTRedemption.text13")))])],1)])],1):t._e()},i=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"props"},[e("span",[t._v("0%")]),e("span",[t._v("25%")]),e("span",[t._v("50%")]),e("span",[t._v("75%")]),e("span",[t._v("100%")])])}],a=(n("f8b6"),n("36ad")),o=(n("b58e"),n("4fc1")),r=(n("7d8c"),n("7541")),d=(n("b500"),n("c55c")),u={components:{"mk-navbar":()=>n.e("chunk-d95d756e").then(n.bind(null,"0861")),[d["a"].name]:d["a"],[r["a"].name]:r["a"],[o["a"].name]:o["a"]},data(){return{prop:25,info:null,deadline:600,pairAddress:"",decimals0:0,decimals1:0,address0:"",address1:"",rate:0,reRate:0,rateChanged:!1,state:"none",allowance:0,contract:null}},computed:{amountLP(){return this.info?this.info.lp.toWei(18).toBN().div(100).times(this.prop).toFixed(0).fromWei(18):0},amount0(){return this.info?this.info.amount0.toWei(this.decimals0).toBN().div(100).times(this.prop).toFixed(0).fromWei(this.decimals0):0},amount1(){return this.info?this.info.amount1.toWei(this.decimals1).toBN().div(100).times(this.prop).toFixed(0).fromWei(this.decimals1):0}}},l=n("b9cc"),p={...u,created(){if(!this.$address)return!1;const{logo0:t,logo1:e,symbol0:n,symbol1:s,amount0:i,amount1:a,reserve0:o,reserve1:r,lp:d,address0:u,address1:l,decimals0:p,decimals1:c,pair:m}=JSON.parse(this.$route.query.info);this.info={logo0:t,logo1:e,symbol0:n,symbol1:s,amount0:i,amount1:a,lp:d},this.reserve0=o,this.reserve1=r,this.decimals0=p,this.decimals1=c,this.$address0=u,this.$address1=l,this.pair=m,this.init()},methods:{close(){this.state="none",this.$router.back()},init(){this.rate="1".toWei(this.decimals0).toBN().times(this.reserve1).div(this.reserve0).toFixed(0).fromWei(this.decimals1),this.reRate="1".toWei(this.decimals1).toBN().times(this.reserve0).div(this.reserve1).toFixed(0).fromWei(this.decimals0),this.contract=new this.$web3.eth.Contract(l,this.pair),this.contract.methods.allowance(this.$address,this.$Router._address).call((t,e)=>{t||(this.allowance=e.fromWei(18).toBN())})},approve(){if(this.allowance.gte(this.amountLP))return this.state="before";this.contract.methods.approve(this.$Router._address,this.amountLP.toWei(18).toBN().times(10).toFixed()).send({from:this.$address}).on("transactionHash",t=>{this.state="approve"}).on("receipt",t=>{this.state="approved"}).on("error",t=>{this.state="none"})},removeLiquidity(){if([this.info.symbol0,this.info.symbol1].includes("HT"))return this.removeLiquidityETH();const t=Math.floor((new Date).getTime()/1e3)+this.deadline;this.$Router.methods.removeLiquidity(this.$address0,this.$address1,this.amountLP.toWei(18),this.amount0.toWei(this.decimals0).toBN().times(.99).toFixed(0),this.amount1.toWei(this.decimals1).toBN().times(.99).toFixed(0),this.$address,t).send({from:this.$address}).on("transactionHash",t=>{this.state="in"}).on("receipt",t=>{this.state="done"}).on("error",t=>{this.state="none",a["a"].fail("暂无可赎回额度！")})},removeLiquidityETH(){const t=Math.floor((new Date).getTime()/1e3)+this.deadline,e="HT"===this.info.symbol0?"0":"1",n="HT"===this.info.symbol0?"1":"0";this.$Router.methods.removeLiquidityETH(this["address"+n],this.amountLP.toWei(18),this["amount"+n].toWei(this["decimals"+n]).toBN().times(.99).toFixed(0),this["amount"+e].toWei(this["decimals"+e]).toBN().times(.99).toFixed(0),this.$address,t).send({from:this.$address}).on("transactionHash",t=>{this.state="in"}).on("receipt",t=>{this.state="done"}).on("error",t=>{this.state="none",a["a"].fail("暂无可赎回额度！")})}}},c=p,m=c,h=(n("3dee"),n("df20"),n("b01b")),v=Object(h["a"])(m,s,i,!1,null,"3b708c0d",null);e["default"]=v.exports},ad5c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAA4CAYAAADjLujzAAAAvUlEQVRYR+2XwQkCMRREZ46WYBXbijawNmEB692LdqANbAtaiDVYwogQFxExfwNGWCeQUz6Z8Hg/IUSlwUo5cFAxaaMzuoGAZbAMlqHYAaOriE5SA2CRIk8kz2Piw3edpBbAIW3ekdw4KETA6F4xTdg6SZeMFTMA81RzBXCfn8aaZP8oGNBJUki/eNGK5PF3QbmDuo/+qI8swzdf2CWAbUK8I7nP4X5eD9/eYzZ9V+ugYoJGZ3T+iBU7MGF0N4YWaznZlWnAAAAAAElFTkSuQmCC"},b500:function(t,e,n){"use strict";n("1651"),n("4c4a")},b58e:function(t,e,n){"use strict";n("1651"),n("035d")},b9cc:function(t){t.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"address","name":"pauser","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"uint8","name":"decimal","type":"uint8"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"new_operator","type":"address"},{"internalType":"address","name":"new_pauser","type":"address"}],"name":"changeUser","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},c55c:function(t,e,n){"use strict";var s=n("f9e1"),i=n("c84c"),a=n("8223");function o(t){if(!Object(a["c"])(t))return t;if(Array.isArray(t))return t.map((function(t){return o(t)}));if("object"===typeof t){var e={};return Object.keys(t).forEach((function(n){e[n]=o(t[n])})),e}return t}var r=n("2090"),d=n("fd01"),u=n("687c"),l={inject:{vanField:{default:null}},watch:{value:function(){var t=this.vanField;t&&(t.resetValidation(),t.validateWithTrigger("onChange"))}},created:function(){var t=this.vanField;t&&!t.children&&(t.children=this)}},p=Object(s["a"])("slider"),c=p[0],m=p[1],h=function(t,e){return JSON.stringify(t)===JSON.stringify(e)};e["a"]=c({mixins:[u["a"],l],props:{disabled:Boolean,vertical:Boolean,range:Boolean,barHeight:[Number,String],buttonSize:[Number,String],activeColor:String,inactiveColor:String,min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},value:{type:[Number,Array],default:0}},data:function(){return{dragStatus:""}},computed:{scope:function(){return this.max-this.min},buttonStyle:function(){if(this.buttonSize){var t=Object(i["a"])(this.buttonSize);return{width:t,height:t}}}},created:function(){this.updateValue(this.value)},mounted:function(){this.range?(this.bindTouchEvent(this.$refs.wrapper0),this.bindTouchEvent(this.$refs.wrapper1)):this.bindTouchEvent(this.$refs.wrapper)},methods:{onTouchStart:function(t){this.disabled||(this.touchStart(t),this.currentValue=this.value,this.range?this.startValue=this.value.map(this.format):this.startValue=this.format(this.value),this.dragStatus="start")},onTouchMove:function(t){if(!this.disabled){"start"===this.dragStatus&&this.$emit("drag-start"),Object(r["c"])(t,!0),this.touchMove(t),this.dragStatus="draging";var e=this.$el.getBoundingClientRect(),n=this.vertical?this.deltaY:this.deltaX,s=this.vertical?e.height:e.width,i=n/s*this.scope;this.range?this.currentValue[this.index]=this.startValue[this.index]+i:this.currentValue=this.startValue+i,this.updateValue(this.currentValue)}},onTouchEnd:function(){this.disabled||("draging"===this.dragStatus&&(this.updateValue(this.currentValue,!0),this.$emit("drag-end")),this.dragStatus="")},onClick:function(t){if(t.stopPropagation(),!this.disabled){var e=this.$el.getBoundingClientRect(),n=this.vertical?t.clientY-e.top:t.clientX-e.left,s=this.vertical?e.height:e.width,i=+this.min+n/s*this.scope;if(this.range){var a=this.value,o=a[0],r=a[1],d=(o+r)/2;i<=d?o=i:r=i,i=[o,r]}this.startValue=this.value,this.updateValue(i,!0)}},handleOverlap:function(t){return t[0]>t[1]?(t=o(t),t.reverse()):t},updateValue:function(t,e){t=this.range?this.handleOverlap(t).map(this.format):this.format(t),h(t,this.value)||this.$emit("input",t),e&&!h(t,this.startValue)&&this.$emit("change",t)},format:function(t){var e=+this.min,n=+this.max,s=+this.step;t=Object(d["c"])(t,e,n);var i=Math.round((t-e)/s)*s;return Object(d["a"])(e,i)}},render:function(){var t,e,n=this,s=arguments[0],a=this.vertical,o=a?"height":"width",r=a?"width":"height",d=(t={background:this.inactiveColor},t[r]=Object(i["a"])(this.barHeight),t),u=function(){var t=n.value,e=n.min,s=n.range,i=n.scope;return s?100*(t[1]-t[0])/i+"%":100*(t-e)/i+"%"},l=function(){var t=n.value,e=n.min,s=n.range,i=n.scope;return s?100*(t[0]-e)/i+"%":null},p=(e={},e[o]=u(),e.left=this.vertical?null:l(),e.top=this.vertical?l():null,e.background=this.activeColor,e);this.dragStatus&&(p.transition="none");var c=function(t){var e=["left","right"],i="number"===typeof t,a=i?n.value[t]:n.value,o=function(){return i?"button-wrapper-"+e[t]:"button-wrapper"},r=function(){return i?"wrapper"+t:"wrapper"},d=function(){if(i){var e=n.slots(0===t?"left-button":"right-button",{value:a});if(e)return e}return n.slots("button")?n.slots("button"):s("div",{class:m("button"),style:n.buttonStyle})};return s("div",{ref:r(),attrs:{role:"slider",tabindex:n.disabled?-1:0,"aria-valuemin":n.min,"aria-valuenow":n.value,"aria-valuemax":n.max,"aria-orientation":n.vertical?"vertical":"horizontal"},class:m(o()),on:{touchstart:function(){i&&(n.index=t)},click:function(t){return t.stopPropagation()}}},[d()])};return s("div",{style:d,class:m({disabled:this.disabled,vertical:a}),on:{click:this.onClick}},[s("div",{class:m("bar"),style:p},[this.range?[c(0),c(1)]:c()])])}})},ca94:function(t,e,n){},df20:function(t,e,n){"use strict";n("27a3")},fd01:function(t,e,n){"use strict";function s(t,e,n){return Math.min(Math.max(t,e),n)}function i(t,e,n){var s=t.indexOf(e),i="";return-1===s?t:"-"===e&&0!==s?t.slice(0,s):("."===e&&t.match(/^(\.|-\.)/)&&(i=s?"-0":"0"),i+t.slice(0,s+1)+t.slice(s).replace(n,""))}function a(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!0),t=e?i(t,".",/\./g):t.split(".")[0],t=n?i(t,"-",/-/g):t.replace(/-/,"");var s=e?/[^-0-9.]/g:/[^-0-9]/g;return t.replace(s,"")}function o(t,e){var n=Math.pow(10,10);return Math.round((t+e)*n)/n}n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o}))}}]);