(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["joinFundPool"],{"0615":function(e,t,n){},"0861":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:1==e.$ccstyle1?"mk-navbar":"mk-navbar1"},[e.$ccstyle1?o("img",{attrs:{src:n("c590")},on:{click:function(t){return e.$router.back(1)}}}):o("img",{attrs:{src:n("86d4")},on:{click:function(t){return e.$router.back(1)}}}),o("span",{domProps:{textContent:e._s(e.title)}})])},r=[],s={props:{title:{type:String,required:!0}}},a=s,i=a,u=(n("f9c5"),n("2877")),c=Object(u["a"])(i,o,r,!1,null,"3822fa6e",null);t["default"]=c.exports},1500:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"join-fund-pool"},[o("div",{staticClass:"box"},[o("div",{staticClass:"container"},[o("div",{class:1==e.$ccstyle1?"menus":"menus1"},[o("div",{class:e.isJustswap?"":"active",on:{click:function(t){e.isJustswap=!1}}},[e._v("AcSwap")]),o("div",{class:e.isJustswap?"active":"",on:{click:function(t){e.isJustswap=!0}}},[e._v("JustSwap")])]),o("nft-swap",{directives:[{name:"show",rawName:"v-show",value:!e.isJustswap,expression:"!isJustswap"}],on:{change:e.getNftswapPool}}),o("just-swap",{directives:[{name:"show",rawName:"v-show",value:e.isJustswap,expression:"isJustswap"}]})],1),e.nftswapPool?o("div",{class:1==e.$ccstyle1?"your-share":"your-share1"},[o("div",{staticClass:"tokens nftswap"},[o("div",[o("div",[o("img",{attrs:{src:e.nftswapPool.logo0}}),o("img",{attrs:{src:e.nftswapPool.logo1}})]),o("span",[e._v(e._s(e.nftswapPool.symbol0)+"/"+e._s(e.nftswapPool.symbol1))])]),o("div",[o("span",[e._v("LP: "+e._s(e.nftswapPool.lp))]),o("span",[e._v(e._s(e.nftswapPool.myShare)+"%")])])]),o("div",{staticClass:"amounts"},[o("div",[o("span",[e._v(e._s(e.nftswapPool.symbol0)+": "+e._s(e.nftswapPool.token0))]),o("span",[e._v(e._s(e.nftswapPool.symbol1)+": "+e._s(e.nftswapPool.token1))])]),o("van-button",{on:{click:function(t){e.$router.push({path:"/nftredemption",query:{info:JSON.stringify(e.nftswapPool)}})}}},[e._v(e._s(e.$t("joinFundPool.text11")))])],1)]):e._e(),e._l(e.justswapPools,(function(t){return o("div",{key:t.address,class:1==e.$ccstyle1?"your-share":"your-share1"},[o("div",{staticClass:"tokens justswap"},[o("div",[o("div",[o("img",{attrs:{src:n("90bd")}}),o("img",{attrs:{src:t.logo}})]),o("span",[e._v("TRX/"+e._s(t.symbol))])]),o("div",[o("span",[e._v("LP: "+e._s(t.lp))]),o("span",[e._v(e._s(t.myShare)+"%")])])]),o("div",{staticClass:"amounts"},[o("div",[o("span",[e._v("TRX: "+e._s(t.trx))]),o("span",[e._v(e._s(t.symbol)+": "+e._s(t.token))])]),o("van-button",{on:{click:function(n){e.$router.push({path:"/redemption",query:{info:JSON.stringify(t)}})}}},[e._v(e._s(e.$t("joinFundPool.text11")))])],1)])})),e.justswapPools.length<1&&!e.nftswapPool?o("div",{staticClass:"not-liquidity"},[(e.$ccstyle1,o("img",{attrs:{src:n("8e5c")}})),o("span",[e._v(e._s(e.$t("joinFundPool.text16")))])]):o("div",{staticClass:"swap-acsetting"},[o("img",{attrs:{src:n("a4e6")}}),o("span",[e._v(e._s(e.$t("joinFundPool.text17")))])])],2)])},r=[],s=(n("4de4"),n("d81d"),n("0d03"),n("a9e3"),n("b680"),n("d3b7"),n("25f0"),n("96cf"),n("1da1")),a=n("aca7"),i={components:{"mk-navbar":function(){return Promise.resolve().then(n.bind(null,"0861"))},"just-swap":function(){return Promise.resolve().then(n.bind(null,"3817"))},"nft-swap":function(){return Promise.resolve().then(n.bind(null,"7877"))}},data:function(){return{nftswapPool:null,justswapPools:[],isJustswap:!1,title:this.$t("joinFundPool.text15")}},created:function(){this.$utils&&this.init()},methods:{init:function(){this.getJustswapPool()},getNftswapPool:function(e,t){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function o(){var r,s,a,i,u,c,d,l,p,k;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,n.$utils.call({contractAddress:n.$contracts.Factory.address,method:"getPair(address,address)",parameter:[{type:"address",value:e.tokenAddress},{type:"address",value:t.tokenAddress}]});case 2:if(r=o.sent.constant_result[0],s=0===Number(r)?null:r.decode(["address"]),!s){o.next=22;break}return o.next=7,n.$utils.call({contractAddress:s,method:"getReserves()"});case 7:return a=o.sent.constant_result[0].decode(["uint112","uint112","uint","uint","uint","uint"],["_reserve0","_reserve1","_tradeFeeRate","_burn0or1","_rate","_posRate"]),i=a._reserve0,u=a._reserve1,o.next=12,n.$utils.call({contractAddress:s,method:"balanceOf(address)",parameter:[{type:"address",value:n.$address}]});case 12:if(c=o.sent.constant_result[0].decode(["uint"]).toString().toBN(),"0"!==c.toString()){o.next=15;break}return o.abrupt("return",!1);case 15:return o.next=17,n.$utils.call({contractAddress:s,method:"totalSupply()"});case 17:d=o.sent.constant_result[0].decode(["uint"]).toString().toBN(),l="0x".concat(tronWeb.address.toHex(e.tokenAddress)).toBN().gt("0x".concat(tronWeb.address.toHex(t.tokenAddress))),p=l?u.toString():i.toString(),k=l?i.toString():u.toString(),n.nftswapPool={logo0:e.tokenLogoUrl,logo1:t.tokenLogoUrl,symbol0:e.tokenSymbol,symbol1:t.tokenSymbol,token0:c.times(p).div(d).toFixed(0).fromSun(e.tokenDecimal).toFixed(6),token1:c.times(k).div(d).toFixed(0).fromSun(t.tokenDecimal).toFixed(6),reserve0:p,reserve1:k,lp:c.toString().fromSun(18).toFixed(6),myShare:c.div(d).times(100).toString().toFixed(2),token0Address:e.tokenAddress,token1Address:t.tokenAddress,token0Decimal:e.tokenDecimal,token1Decimal:t.tokenDecimal,address:s,source:{lp:c,token0:c.times(p).div(d),token1:c.times(k).div(d)}};case 22:case"end":return o.stop()}}),o)})))()},getJustswapPool:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,o,r,s,i,u,c,d,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["j"])(e.$address);case 2:return n=t.sent.data.liquidityList.filter((function(e){return e.jswapBalance>0})),o=n.map((function(e){return e.address})),t.next=6,e.$utils.call({contractAddress:"TCNYd8L5hBey9FwPpvgtvDaY2cHjMFVLZu",method:"getPool(address,address[])",parameter:[{type:"address",value:e.$address},{type:"address[]",value:o}]});case 6:for(r=t.sent.constant_result[0].decode(["uint256[]","uint256[]","uint256[]","uint256[]"],["_token","_trx","_uniToken","_totalsupply"]),s=r._token,i=r._trx,u=r._uniToken,c=r._totalsupply,d=[],l=0;l<o.length;l++)d.push({logo:n[l].tokenLogoUrl,symbol:n[l].tokenSymbol,token:s[l].toString().fromSun(n[l].tokenDecimal),trx:i[l].toString().fromSun(),lp:u[l].toString().fromSun(),myShare:u[l].toString().toBN().div(c[l].toString().toBN()).multipliedBy("100".toBN()).toString().toFixed(2),address:n[l].address,tokenAddress:n[l].tokenAddress,tokenDecimal:n[l].tokenDecimal});e.justswapPools=d;case 14:case"end":return t.stop()}}),t)})))()}}},u=i,c=u,d=(n("a54a"),n("2877")),l=Object(d["a"])(c,o,r,!1,null,"6e3b21ea",null);t["default"]=l.exports},"22a8":function(e,t,n){"use strict";n("d01f")},"249f":function(e,t,n){},3817:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"just-swap"},[o("div",{class:1==e.$ccstyle1?"content":"content1"},[o("div",{staticClass:"tokens"},[o("div",{staticClass:"token"},[e._m(0),o("span",{domProps:{textContent:e._s(e.$t("joinFundPool.text2"))}}),o("span",[e._v(e._s(e.trxBalance))])]),o("div",{staticClass:"logos"},[o("img",{attrs:{src:n("90bd")}}),o("img",{attrs:{src:e.tokenInfo.tokenLogoUrl}})]),o("div",{staticClass:"token"},[o("div",{staticClass:"symbol select",on:{click:e.openSearch}},[e.tokenInfo?o("span",[e._v(e._s(e.tokenInfo.tokenSymbol))]):o("span",{staticClass:"placeholder"},[e._v(e._s(e.$t("joinFundPool.text3")))]),o("img",{attrs:{src:n("9e58")}})]),o("span",{domProps:{textContent:e._s(e.$t("joinFundPool.text2"))}}),o("span",[e._v(e._s(e.tokenBalance))])])]),o("div",{class:"en"==e.$i18n.locale?"inputs1   ":"inputs"},[o("van-field",{attrs:{type:"number",placeholder:e.$t("joinFundPool.text4")},on:{input:e.inputTRX},model:{value:e.trxAmount,callback:function(t){e.trxAmount=t},expression:"trxAmount"}}),o("span",[e._v("+")]),o("van-field",{attrs:{type:"number",placeholder:e.$t("joinFundPool.text4")},on:{input:e.inputToken},model:{value:e.tokenAmount,callback:function(t){e.tokenAmount=t},expression:"tokenAmount"}})],1),o("div",{staticClass:"rate"},[o("div",[o("span",{directives:[{name:"show",rawName:"v-show",value:!e.rateChanged,expression:"!rateChanged"}]},[e._v(e._s(e.$t("joinFundPool.text5"))+" 1TRX = "+e._s(e.rate)+e._s(e.tokenInfo.tokenSymbol))]),o("span",{directives:[{name:"show",rawName:"v-show",value:e.rateChanged,expression:"rateChanged"}]},[e._v(e._s(e.$t("joinFundPool.text5"))+" 1"+e._s(e.tokenInfo.tokenSymbol)+" = "+e._s(e.rate)+"TRX")]),o("img",{attrs:{src:n("fe12")},on:{click:e.switchRate}})]),o("div",[o("span",[e._v(e._s(e.$t("joinFundPool.text6"))+" "+e._s(e.prop))]),o("img",{attrs:{src:n("4fe1")},on:{click:e.openSetting,change:e.changeDeadline}})])]),o("van-button",{on:{click:e.addLiquidity}},[e._v(e._s(e.$t("joinFundPool.text7")))])],1),o("search-tokens",{ref:"searchTokens",on:{select:e.select}}),o("fundpool-state",{attrs:{state:e.state,trxAmount:e.trxAmount,tokenInfo:{amount:e.tokenAmount,symbol:e.tokenInfo.tokenSymbol},lp:e.min_liquidity,rate:e.rate,reRate:e.reRate,prop:e.prop},on:{addLiquidity:e.addLiquidity,close:e.close}}),o("trading-setup",{ref:"tradingSetup",on:{change:e.changeDeadline}})],1)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"symbol"},[n("span",[e._v("TRX")])])}],s=(n("99af"),n("0d03"),n("a9e3"),n("b680"),n("d3b7"),n("25f0"),n("96cf"),n("1da1")),a=n("e549"),i=n("aca7"),u={components:{"search-tokens":function(){return Promise.resolve().then(n.bind(null,"bab4"))},"fundpool-state":function(){return Promise.resolve().then(n.bind(null,"e0d3"))},"trading-setup":function(){return Promise.resolve().then(n.bind(null,"0430"))}},data:function(){return{trxAmount:"",tokenAmount:"",trxBalance:"--",tokenBalance:"--",tokenInfo:{},contract:{},exTrxBalance:0,exTokenBalace:0,totalLiquidity:0,allowance:0,rate:"--",reRate:"",trxInputing:!1,tokenInputing:!1,prop:"--",rateChanged:!1,state:"none",min_liquidity:100.0001,slipPoint:2,deadline:600}},created:function(){if(this.$utils){var e=this.$route.query;e.token?this.select({token:JSON.parse(e.token)}):this.select({token:i["e"]}),this.init()}},methods:{miningMessage:function(){vant.Toast.fail(this.$t("justswap.text1"))},init:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tronWeb.trx.getBalance(e.$address);case 2:e.trxBalance=t.sent.fromSun().toFixed(2);case 3:case"end":return t.stop()}}),t)})))()},addLiquidity:function(){var e=this;if(this.trxBalance<Number(this.trxAmount))return vant.Toast.fail("TRX"+this.$t("joinFundPool.text13"));if(this.tokenBalance<Number(this.tokenAmount))return vant.Toast.fail("".concat(this.tokenInfo.tokenSymbol).concat(this.$t("joinFundPool.text13")));if(this.allowance<Number(this.tokenAmount))return this.approve();var t=Math.floor((new Date).getTime()/1e3)+this.deadline,n=this.trxAmount.toSun().toBN(),o=n.div(100).multipliedBy(this.slipPoint),r=n.minus(o).div(this.exTrxBalance).multipliedBy(this.totalLiquidity).toFixed(0),a=n.plus(o).multipliedBy(this.exTokenBalace).div(this.exTrxBalance).toFixed(0);this.min_liquidity=r.fromSun(),this.contract.addLiquidity(r,a,t).send({callValue:this.trxAmount.toSun()}).then(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.state="in",t.next=3,e.$loading(n);case 3:if(!t.sent){t.next=7;break}e.state="done",t.next=8;break;case 7:e.state="none";case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},approve:function(){var e=this,t=tronWeb.contract(trc20Abi,this.tokenInfo.tokenAddress);t.approve(this.tokenInfo.address,(10*Number(this.tokenAmount)).toSun(this.tokenInfo.tokenDecimal)).send().then(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.state="approve",t.next=3,e.$loading(n);case 3:if(!t.sent){t.next=10;break}return t.next=6,e.$utils.call({contractAddress:e.tokenInfo.tokenAddress,method:"allowance(address,address)",parameter:[{type:"address",value:e.$address},{type:"address",value:e.tokenInfo.address}]});case 6:e.allowance=t.sent.constant_result[0].decode(["uint256"]).toString().fromSun(e.tokenInfo.tokenDecimal),e.state="approved",t.next=11;break;case 10:e.state="none";case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},select:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var o,r,s,i,u,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=e.token,"TRX"!==o.tokenSymbol){n.next=3;break}return n.abrupt("return",vant.Toast.fail(t.$t("joinFundPool.text12")));case 3:return t.tokenInfo=o,t.contract=tronWeb.contract(a,o.address),n.next=7,t.$utils.call({contractAddress:o.tokenAddress,method:"balanceOf(address)",parameter:[{type:"address",value:t.$address}]});case 7:return t.tokenBalance=n.sent.constant_result[0].decode(["uint256"]).toString().fromSun(o.tokenDecimal).toFixed(2),n.next=10,t.$utils.call({contractAddress:"TCNYd8L5hBey9FwPpvgtvDaY2cHjMFVLZu",method:"getSingleInfo(address,address)",parameter:[{type:"address",value:t.$address},{type:"address",value:o.tokenAddress}]});case 10:r=n.sent.constant_result[0].decode(["address","uint256","uint256","uint256","uint256","uint256","uint256","uint256"],["_exchangeAddr","_allowance","_exTokenBalace","_exTrxBalance","_totalLiquidity","_userUniAmount","_userTrxAmount","_userTokenAmount"]),s=r._exTrxBalance,i=r._exTokenBalace,u=r._totalLiquidity,c=r._allowance,t.exTrxBalance=s.toString().toBN(),t.exTokenBalace=i.toString().toBN(),t.totalLiquidity=u.toString().toBN(),t.allowance=c.toString().fromSun(o.tokenDecimal),t.rate="1".toSun().toBN().multipliedBy(t.exTokenBalace).div(t.exTrxBalance).toString().fromSun(t.tokenInfo.tokenDecimal).toFixed(t.tokenInfo.tokenDecimal),t.reRate="1".toSun(t.tokenInfo.tokenDecimal).toBN().multipliedBy(t.exTrxBalance).div(t.exTokenBalace).toString().fromSun().toFixed(6);case 21:case"end":return n.stop()}}),n)})))()},inputTRX:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.tokenInputing){t.next=2;break}return t.abrupt("return",e.tokenInputing=!1);case 2:if(""!==e.trxAmount){t.next=6;break}return e.tokenAmount="",e.prop="--",t.abrupt("return",!1);case 6:e.trxInputing=!0,e.trxAmount.length>0&&(e.tokenAmount=e.trxAmount.toSun().toBN().multipliedBy(e.exTokenBalace).div(e.exTrxBalance).toString().fromSun(e.tokenInfo.tokenDecimal).toFixed(e.tokenInfo.tokenDecimal)),n=e.trxAmount.toSun().toBN(),e.prop="".concat(n.div(e.exTrxBalance.plus(n)).multipliedBy("100".toBN()).toString().toFixed(6),"%");case 10:case"end":return t.stop()}}),t)})))()},inputToken:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.trxInputing){t.next=2;break}return t.abrupt("return",e.trxInputing=!1);case 2:if(""!==e.tokenAmount){t.next=6;break}return e.trxAmount="",e.prop="--",t.abrupt("return",!1);case 6:e.tokenInputing=!0,e.tokenAmount.length>0&&(e.trxAmount=e.tokenAmount.toSun(e.tokenInfo.tokenDecimal).toBN().multipliedBy(e.exTrxBalance).div(e.exTokenBalace).toString().fromSun().toFixed(6)),n=e.trxAmount.toSun().toBN(),e.prop="".concat(n.div(e.exTrxBalance.plus(n)).multipliedBy("100".toBN()).toString().toFixed(6),"%");case 10:case"end":return t.stop()}}),t)})))()},switchRate:function(){if(!this.tokenInfo.address)return vant.Toast.fail(this.$t("joinFundPool.text14"));this.rateChanged=!this.rateChanged,this.rateChanged?this.rate="1".toSun(this.tokenInfo.tokenDecimal).toBN().multipliedBy(this.exTrxBalance).div(this.exTokenBalace).toString().fromSun().toFixed(6):this.rate="1".toSun().toBN().multipliedBy(this.exTokenBalace).div(this.exTrxBalance).toString().fromSun(this.tokenInfo.tokenDecimal).toFixed(this.tokenInfo.tokenDecimal)},changeDeadline:function(e){var t=e.slipPoint,n=e.deadline;this.slipPoint=t,this.deadline=n},openSetting:function(){this.$refs.tradingSetup.open()},openSearch:function(){this.$refs.searchTokens.open()},close:function(){this.state="none",this.trxAmount="",this.tokenAmount="",this.init()}}},c=u,d=c,l=(n("3f98"),n("2877")),p=Object(l["a"])(d,o,r,!1,null,"3f58efde",null);t["default"]=p.exports},"3ca2":function(e,t,n){},"3f98":function(e,t,n){"use strict";n("e2f1")},"4b5e":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:"none"!==e.state,expression:"state !== 'none'"}],staticClass:"transaction-state"},[n("create",{directives:[{name:"show",rawName:"v-show",value:["create","creating"].includes(e.state),expression:"['create', 'creating'].includes(state)"}],attrs:{state:e.state},on:{createPair:e.createPair}}),n("before",{directives:[{name:"show",rawName:"v-show",value:["approve","approved"].includes(e.state),expression:"['approve', 'approved'].includes(state)"}],attrs:{state:e.state,token0:e.token0,token1:e.token1,waitApprove:e.waitApprove},on:{addLiquidity:e.addLiquidity}}),n("in",{directives:[{name:"show",rawName:"v-show",value:"in"===e.state,expression:"state === 'in'"}],attrs:{token0:e.token0,token1:e.token1,lp:e.lp,rate:e.rate,reRate:e.reRate,prop:e.prop}}),n("after",{directives:[{name:"show",rawName:"v-show",value:"done"===e.state,expression:"state === 'done'"}],attrs:{token0:e.token0,token1:e.token1},on:{close:e.close}})],1)},r=[],s=(n("a9e3"),n("d3b7"),{components:{create:function(){return n.e("chunk-7ff1eb07").then(n.bind(null,"50a5"))},before:function(){return n.e("chunk-0a8e5c22").then(n.bind(null,"97b7"))},in:function(){return n.e("chunk-0e069b26").then(n.bind(null,"925c"))},after:function(){return n.e("chunk-26e7ac00").then(n.bind(null,"1b2d"))}},props:{state:{type:String,required:!0},token0:{type:Object,required:!0},token1:{type:Object,required:!0},waitApprove:{type:Array,required:!0},lp:{type:[Number,String],required:!0},rate:{type:[Number,String],required:!0},reRate:{type:[Number,String],required:!0},prop:{type:[Number,String],required:!0}},data:function(){return{}},methods:{createPair:function(){this.$emit("createPair")},addLiquidity:function(){this.$emit("addLiquidity")},close:function(){this.$emit("close")}}}),a=s,i=a,u=(n("22a8"),n("2877")),c=Object(u["a"])(i,o,r,!1,null,"08df4d06",null);t["default"]=c.exports},"4fd3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAElElEQVRIS6VXb2gcVRCfeXs1lyYFhYBNjVhTxNakoFAhgkKkARtsIdWczV6h3J8Qk9wGK7bgNyt+bMWG3CUHvbuuSu8OErUg0kgi5EPBgB8stGeFtrFSvaQYQfDUPZN9I28321w2e5tN3G93OzO/NzO/mfdbBA9Pe3u7b+ee/a8g8Q5EbCOi3Yi4U7gS0QIi3iWiWUI2vXDn+tczMzPLG4VFN4OuUOhhP6t/C5EUBGzYKJhxEKBFIoxrvDR8WVX/qOZTFViOKK8DUtIGOAsAVznxAnJYMIIiNiHDpwHgRQBos4DEAYCwP5eJf+YEvg5YlHVX8zMjgKzfzABKQJQql8sffn4p9Ytb1q8d722qqal5BxB7EaDesCWeLM79MGQv/xpgAdrY3JJDxG7TCaa1shbeCNB+mJ5Q/27GfBcAoWOFBxPzcwW5EnwNcDCijAGCmSnR+Vwm8baXvjrZrCRxFhFPriSRzGbiA5btA2DRU0SY2Ai0Jxo7yAi7CWEvAGnA8SpIUiqXGr7vdAA5EvvIAieCbqvnBrBgb61Ud0sQiYAmc+lEpz1IIDBY79vBPkWELvs7AioBByV3MfGx/Z3JmdYrouxi9P7hf+0TbDeAeyLKewzhjCBSWdP22XvaHgr5G1ndFCIK5opnFoCmgYyDdlkzzQEP59MjXzn2XJJuAqCfE5zJZ+Lvo3GiPS3zILKt0tdjoYE2SZK+XQl4MpuOD1vBzWrVTyHAASC6nc0knnIvOS0W7xQa8Vg4dlhi+KUw1jTt8WoMDkaUKKH+ey49dnldRhHlAEP4Tvy/pPPnxtXRa3YbMWp+v/+e+F/ndAQrmj+bTcdf2AqLj8h9DTu2P/Sb8OU6vJxX4zNOcYJRRVRNrNzzaP0AgHPZdPz0VoDl8OCbyFhS+P6tlx6ptiqDUeUsAJwSHBEZzwtycOLhfGZU3SxwT3ToVQSeR8B6IprIZRKBajHkcKwXGV4wLpZgVCFjdnXemVNHJ70Cmwui9QNEeNf0odtLOr00ro6aO9zhkUODh1BiV8SrLQNXLgZRuiWdH3UDFWCVRN5SqWW5rwFrt90DRD8QJItzN9ZdAo7kiihRQEhZpTaYthlyvREZ6PChNCWCF/VS7Yyqal5aZCeXtUs9j5Mc6tuL0rbvAfDaZkZwzTh5XSD2jMTs/lnzb8lrtusWiJeV6VTGwIn+x8T/458kf/VS5lUyrqxM4bR6SVCJdH1/Xk3edQsWCA0+65OYsSKXdf6804qs9DeFgXRTkPHBJSEMxKLfLtXdEheFUB3FuRudbkpRDg10oSR9Yc6/fjSnrt/fFrDrtWhkHR7sZoyNG8E8qI/jkVhM2F7KJBJu1amcd855IH9x1BAbrtJnfq5w2otGdgL2LH2Es5PYA6TebDrxsxcCWTbBaOwJIEx5FnsW+K7m1hFL9AGRRgDJ5WX93EYMFkz3+aRTCNBvbDWjb86braqgN3uOYwbhVh9D0APBj0BgamyEJjCEn03QEy0Q0ZDVU3vFPH3CMCTFdgCXytMi/z+fMJWRRe8ffbLlEEM46PbRxgm+uf9TYdILIf8DHsJ/Vytv2r8AAAAASUVORK5CYII="},"4fe1":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAE8klEQVRIS9VXXWgcVRT+zp1NW2x98yEpCqVpsSUpKFoQVIhYMUKFisbubivdzKS2m5mggg+VIiq22Ic+FDKbTWl2dkPr7NYoFlqwouKCL0oVhSY20jYWXBLf7X927pE7m4mTzWyStvrgPCVz7j3fnp/vnG8IizxdevrhGLRDBO4EUAH4fdcZ+Dh8Lan37mDQAQKaGXS2Cm/fiJP9bSHX1MjY1dW7Kna/2A/C2wTEwuckeEspl/lGvYsb5rMC9HXYzkAVjMPVv+TBkZGBq1EYkcDJbut5CAwBeFBdYnBJwjsoOLaDCPuYMTo1MfqosrWsbT9PhA0ADnuoDgto+wkUnwGrQKLHzdtf1oPPA95hWE9KoKyiZMa4B6/vEyfrR9SRSq1Yra08D9A6MBd8Z0QpZr4yJa9tLBcKN9WrV/X0Fg1av/pBKnqW/FQpn/khDD4POKmbeeVMOZ6cGNtdLper4QuJ7vROEtrxOamV3mvFfPZE+F1HR0espbUtS6Ae5ct1Mt2LAFunQdgqJeKlvH0yqj5Jw/wwKINqODeXeTfqXLzb2i4ESgycKubslxYGNqw3ABwJ6lgf8WIsCOwq4tWtbecAekQyWyUnk1kQWNWxRaz8nYiaWXKqmM8MLxVsbknMXSRI9UFl0ru6Pqh/cCayq+N6eq8gLVtLo/3Q3QAnDesPVQ7JXrrkZAcbdvX2XX2tQtToA5IWEb3C4LPFXOaF8KVkT/oxSK2HaxQCMcYhvCF3KPvTnHO6eRpEW5n5U7CwlU1KVE4O91/27yUSrz+A+5pGCNQxp1OBavWW3DhyYuCSTyVVs7Xt/SDsjcwAy8HJiV/7gp7o2tm7LrZcXKgfPgwu4/p0FyV0s0ikCM83mfHnPzWgguvYHwT/J3UrG4Aq3gI4NWPbRkRr/L8Zg65jp0N33mNwatYnoRmgFQycoKRu3gDRilseNn5WsMcjaaHveVxQ07nA+eTE6GxktUy0HfO5r9LJ05tLztEfo/y8nLI2LNdwAcw3KWlYrA65Obvh3A6i9SfUxNj6eor5w2Jt28WZyG03Z/c1asgAb0nACcP6loAOZj5SdDJvRWbFsPoFoKIoF3P2M/9v4P8o1eYN1WnT7G1otLzj/1JzKVHRRNq4YhAlDOs4ATtVpzHujE5MFCPmrUumE9CsGOTTqTZAlo2o5rm3AYLBMM0aDxCUcf121yyF1EEtJvyRSYJNNTLBfMZ1Mi+Gf5CfdjQZsyMTGJU8PVzP3YRhfkGgTjUyWZK/mbyqrASTMJK7CaN3D0GowX7PS4Ih9xZzA0cbLonAUJM3qy7WNovsLjkDNYlzh09c700JEvklr8W4bpqCyAb4l8nLY5vvRQi0tLb/TED7koRAwrA+J2AbwAk3lylFBZrQrY8I3DwzuytuPlr6JA0zDlARjDOuY8/plXk1ThjmMSXQGDw0dXksXR+xEu8gMUfYRemz8PJQvoq5zO5wEPOAt6fSTwhN+y6Qt0xsBeJ9RhZd8HkbkrdgvjQpr20K5I0S+cRkB/JWet7TJwvZ7xcEVsZEqreTNHFsVtAzl+DhADT0ENGbSm9PTYxuUmeDOjLjkASVBOS+2n73nwp7cnexMHB20a4ODiz0CQP2nnNnRH5ST28BaV/VD5+7+oQJO1HLe5kG1UydzHQF7B2sF+9K5IO0/US8Rn203fbwTiNREfj+G5+Vwwh1gLuqAAAAAElFTkSuQmCC"},7877:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"nft-swap"},[o("div",{class:1==e.$ccstyle1?"content":"content1"},[o("div",{staticClass:"tokens"},[o("div",{staticClass:"token"},[o("div",{staticClass:"symbol select",on:{click:function(t){return e.openSearch("token0")}}},[o("span",[e._v(e._s(e.token0.tokenSymbol))]),o("img",{attrs:{src:n("9e58")}})]),o("span",{domProps:{textContent:e._s(e.$t("joinFundPool.text2"))}}),o("span",[e._v(e._s(e.token0Balance))])]),o("div",{staticClass:"logos"},[o("img",{attrs:{src:e.token0.tokenLogoUrl}}),o("img",{attrs:{src:e.token1.tokenLogoUrl}})]),o("div",{staticClass:"token"},[o("div",{staticClass:"symbol select",on:{click:function(t){return e.openSearch("token1")}}},[o("span",[e._v(e._s(e.token1.tokenSymbol))]),o("img",{attrs:{src:n("9e58")}})]),o("span",{domProps:{textContent:e._s(e.$t("joinFundPool.text2"))}}),o("span",[e._v(e._s(e.token1Balance))])])]),o("div",{class:"en"==e.$i18n.locale?"inputs1   ":"inputs"},[o("van-field",{attrs:{type:"number",placeholder:e.$t("joinFundPool.text4")},on:{input:e.inputToken0},model:{value:e.token0Amount,callback:function(t){e.token0Amount=t},expression:"token0Amount"}}),o("span",[e._v("+")]),o("van-field",{class:e.overflow?"overflow":"",attrs:{id:"token1",type:"number",placeholder:e.$t("joinFundPool.text4")},on:{input:e.inputToken1},model:{value:e.token1Amount,callback:function(t){e.token1Amount=t},expression:"token1Amount"}})],1),o("div",{staticClass:"rate-container"},[o("span",[e._v(e._s(e.$t("nftswap.text5")))]),o("van-popover",{attrs:{actions:e.gasActions,trigger:"click",placement:"right"},scopedSlots:e._u([{key:"reference",fn:function(){return[o("img",{attrs:{src:n("4fd3")}})]},proxy:!0}]),model:{value:e.gasPopover,callback:function(t){e.gasPopover=t},expression:"gasPopover"}}),o("div",{staticClass:"stepper"},[o("span",{on:{click:e.lessGas}},[e._v("-")]),o("i"),o("div",[o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.gasPrice,expression:"gasPrice"}],attrs:{disabled:!e.canModify},domProps:{value:e.gasPrice},on:{input:[function(t){t.target.composing||(e.gasPrice=t.target.value)},e.inputBrunOrBonus]}}),o("span",[e._v("%")])])]),o("i"),o("span",{on:{click:e.addGas}},[e._v("+")])])],1),e.isBurn?o("div",{staticClass:"rate-container"},[o("span",[e._v(e._s(e.$t("nftswap.text6")))]),o("van-popover",{attrs:{actions:e.transactionActions,trigger:"click",placement:"right"},scopedSlots:e._u([{key:"reference",fn:function(){return[o("img",{attrs:{src:n("4fd3")}})]},proxy:!0}],null,!1,2915626883),model:{value:e.transactionPopover,callback:function(t){e.transactionPopover=t},expression:"transactionPopover"}}),o("div",{staticClass:"rate-select"},[o("div",[o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.burn,expression:"burn"}],attrs:{disabled:!e.canModify},domProps:{value:e.burn},on:{input:[function(t){t.target.composing||(e.burn=t.target.value)},e.inputBrunOrBonus]}})]),o("span",[e._v("%")])]),o("i"),o("div",{staticClass:"select"},[e.burnToken?o("img",{attrs:{src:e.burnToken.tokenLogoUrl}}):e._e(),e.burnToken?o("span",{domProps:{textContent:e._s(e.burnToken.tokenSymbol)}}):o("span",[e._v("none")]),o("img",{staticClass:"arrow",attrs:{src:n("d39c")},on:{click:e.showBurnOptions}}),o("ul",{directives:[{name:"show",rawName:"v-show",value:e.burnOptionsShow,expression:"burnOptionsShow"}],staticClass:"options",on:{click:function(t){e.burnOptionsShow=!1}}},[["TRX","USDT"].includes(e.token0.tokenSymbol)?e._e():o("li",{on:{click:function(t){return e.selectBurn(e.token0)}}},[o("img",{attrs:{src:e.token0.tokenLogoUrl}}),o("span",{domProps:{textContent:e._s(e.token0.tokenSymbol)}})]),["TRX","USDT"].includes(e.token1.tokenSymbol)?e._e():o("li",{on:{click:function(t){return e.selectBurn(e.token1)}}},[o("img",{attrs:{src:e.token1.tokenLogoUrl}}),o("span",{domProps:{textContent:e._s(e.token1.tokenSymbol)}})])]),o("div",{directives:[{name:"show",rawName:"v-show",value:e.burnOptionsShow,expression:"burnOptionsShow"}],staticClass:"overlay",on:{click:function(t){e.burnOptionsShow=!1}}})])])],1):e._e(),e.isBonus?o("div",{staticClass:"rate-container"},[o("span",[e._v(e._s(e.$t("nftswap.text7")))]),o("van-popover",{attrs:{actions:e.bonusActions,trigger:"click",placement:"right"},scopedSlots:e._u([{key:"reference",fn:function(){return[o("img",{attrs:{src:n("4fd3")}})]},proxy:!0}],null,!1,2915626883),model:{value:e.bonusPopover,callback:function(t){e.bonusPopover=t},expression:"bonusPopover"}}),o("div",{staticClass:"rate-select"},[o("div",[o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.bonus,expression:"bonus"}],attrs:{disabled:!e.canModify},domProps:{value:e.bonus},on:{input:[function(t){t.target.composing||(e.bonus=t.target.value)},e.inputBrunOrBonus]}})]),o("span",[e._v("%")])]),o("i"),o("div",{staticClass:"select"},[e.bonusToken?o("img",{attrs:{src:e.bonusToken.tokenLogoUrl}}):e._e(),e.bonusToken?o("span",{domProps:{textContent:e._s(e.bonusToken.tokenSymbol)}}):o("span",[e._v("none")]),o("img",{staticClass:"arrow",staticStyle:{visibility:"hidden"},attrs:{src:n("d39c")}})])])],1):e._e(),o("div",{staticClass:"rate"},[o("div",[o("span",{directives:[{name:"show",rawName:"v-show",value:!e.rateChanged,expression:"!rateChanged"}]},[e._v(e._s(e.$t("joinFundPool.text5"))+" 1"+e._s(e.token0.tokenSymbol)+" = "+e._s(e.rate)+e._s(e.token1.tokenSymbol))]),o("span",{directives:[{name:"show",rawName:"v-show",value:e.rateChanged,expression:"rateChanged"}]},[e._v(e._s(e.$t("joinFundPool.text5"))+" 1"+e._s(e.token1.tokenSymbol)+" = "+e._s(e.rate)+e._s(e.token0.tokenSymbol))]),o("img",{attrs:{src:n("fe12")},on:{click:e.switchRate}})]),o("div",[o("span",[e._v(e._s(e.$t("joinFundPool.text6"))+" "+e._s(e.prop))]),o("img",{attrs:{src:n("4fe1")},on:{click:e.openSetting,change:e.changeDeadline}})])]),o("van-button",{on:{click:e.addLiquidity}},[e._v(e._s(e.$t("joinFundPool.text7")))])],1),o("search-tokens",{ref:"searchTokens",on:{select:e.select}}),o("nft-state",{attrs:{state:e.state,token0:{amount:e.token0Amount,symbol:e.token0.tokenSymbol},token1:{amount:e.token1Amount,symbol:e.token1.tokenSymbol},waitApprove:e.waitApprove,lp:e.liquidity,rate:e.rate,reRate:e.reRate,prop:e.prop},on:{createPair:e.createPair,addLiquidity:e.addLiquidity,close:e.close}}),o("trading-setup",{ref:"tradingSetup",on:{change:e.changeDeadline}})],1)},r=[],s=(n("99af"),n("caad"),n("0d03"),n("a9e3"),n("b680"),n("d3b7"),n("25f0"),n("2532"),n("96cf"),n("1da1")),a=n("5530"),i=n("4746"),u=n("aca7"),c={components:{"search-tokens":function(){return Promise.resolve().then(n.bind(null,"bab4"))},"nft-state":function(){return Promise.resolve().then(n.bind(null,"4b5e"))},"trading-setup":function(){return Promise.resolve().then(n.bind(null,"0430"))}},data:function(){return{token0Amount:"",token1Amount:"",token0Balance:"--",token1Balance:"--",token0:u["e"],token1:u["b"],reserve0:0,reserve1:0,totalLiquidity:0,token0Allowance:0,token1Allowance:0,rate:"--",reRate:"--",token0Inputing:!1,token1Inputing:!1,prop:"--",rateChanged:!1,state:"none",liquidity:0,slipPoint:2,deadline:600,gasPrice:1,burn:5,burnOptionsShow:!1,burnToken:null,bonus:5,bonusToken:null,gasPopover:!1,transactionPopover:!1,bonusPopover:!1,gasActions:[{text:this.$t("nftswap.text1")}],transactionActions:[{text:this.$t("nftswap.text2")}],bonusActions:[{text:this.$t("nftswap.text3")}],canModify:!0,overflow:!1}},computed:{isBurn:function(){return!(u["c"].includes(this.token0.tokenSymbol)&&u["c"].includes(this.token1.tokenSymbol))},isBonus:function(){return[this.token0.tokenName,this.token1.tokenName].includes("TRC20-POS")},waitApprove:function(){var e=[];return this.token0Allowance<Number(this.token0Amount)&&e.push(this.token0),this.token1Allowance<Number(this.token1Amount)&&e.push(this.token1),e}}},d="T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb",l=Object(a["a"])(Object(a["a"])({},c),{},{created:function(){this.$utils&&this.init()},methods:{selectBurn:function(e){this.burnToken=e,this.bonusToken=e,this.burn=5*this.gasPrice,this.bonus=5*this.gasPrice},init:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,o,r,s,a,i,u,c,d,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.burnToken=e.token1,e.bonusToken=e.token1,t.next=4,e.$utils.call({contractAddress:e.token0.tokenAddress,method:"balanceOf(address)",parameter:[{type:"address",value:e.$address}]});case 4:return e.token0Balance=t.sent.constant_result[0].decode(["uint256"]).toString().fromSun(e.token0.tokenDecimal).toFixed(2),t.next=7,e.$utils.call({contractAddress:e.token1.tokenAddress,method:"balanceOf(address)",parameter:[{type:"address",value:e.$address}]});case 7:return e.token1Balance=t.sent.constant_result[0].decode(["uint256"]).toString().fromSun(e.token1.tokenDecimal).toFixed(2),t.next=10,e.$utils.call({contractAddress:e.$contracts.Factory.address,method:"getPair(address,address)",parameter:[{type:"address",value:e.token0.tokenAddress},{type:"address",value:e.token1.tokenAddress}]});case 10:if(n=t.sent.constant_result[0],e.pairAddress=0!==Number(n)?n.decode(["address"]):null,!e.pairAddress){t.next=40;break}return e.$emit("change",e.token0,e.token1),t.next=16,e.$utils.call({contractAddress:e.pairAddress,method:"getReserves()"});case 16:return o=t.sent.constant_result[0].decode(["uint112","uint112","uint","uint","uint","uint"],["_reserve0","_reserve1","_tradeFeeRate","_burn0or1","_rate","_posRate"]),r=o._reserve0,s=o._reserve1,a="0x".concat(tronWeb.address.toHex(e.token0.tokenAddress)).toBN().gt("0x".concat(tronWeb.address.toHex(e.token1.tokenAddress))),e.reserve0=a?s.toString().toBN():r.toString().toBN(),e.reserve1=a?r.toString().toBN():s.toString().toBN(),t.next=24,e.$utils.call({contractAddress:e.pairAddress,method:"totalSupply()"});case 24:return e.totalLiquidity=t.sent.constant_result[0].decode(["uint"]).toString().toBN(),e.rate="1".toSun(e.token0.tokenDecimal).toBN().multipliedBy(e.reserve1).div(e.reserve0).toString().fromSun(e.token1.tokenDecimal).toFixed(6),e.reRate="1".toSun(e.token1.tokenDecimal).toBN().multipliedBy(e.reserve0).div(e.reserve1).toString().fromSun(e.token0.tokenDecimal).toFixed(6),t.next=29,e.$utils.call({contractAddress:e.pairAddress,method:"getNftParma()"});case 29:i=t.sent.constant_result[0].decode(["bytes"]).decode(["address","uint","uint","uint","uint"],["burnToken","burnRate","posRate","tradeRate","totalShare"]),u=i.burnToken,c=i.burnRate,d=i.posRate,l=i.tradeRate,e.gasPrice=l.toNumber(),e.burn=c.toNumber(),e.bonus=d.toNumber(),e.burnToken=tronWeb.address.fromHex(u)===e.token0.tokenAddress?e.token0:tronWeb.address.fromHex(u)===e.token1.tokenAddress?e.token1:null,e.bonusToken=e.burnToken,(e.gasPrice>0||e.burn>0||e.bonus>0)&&(e.canModify=!1);case 40:return t.next=42,e.$utils.call({contractAddress:e.token0.tokenAddress,method:"allowance(address,address)",parameter:[{type:"address",value:e.$address},{type:"address",value:e.$contracts.Router.address}]});case 42:return e.token0Allowance=t.sent.constant_result[0].decode(["uint"]).toString().fromSun(e.token0.tokenDecimal),t.next=45,e.$utils.call({contractAddress:e.token1.tokenAddress,method:"allowance(address,address)",parameter:[{type:"address",value:e.$address},{type:"address",value:e.$contracts.Router.address}]});case 45:e.token1Allowance=t.sent.constant_result[0].decode(["uint"]).toString().fromSun(e.token1.tokenDecimal);case 46:case"end":return t.stop()}}),t)})))()},createPair:function(){var e=this;this.$contracts.Factory.createPair(this.token0.tokenAddress,this.token1.tokenAddress).send({feeLimit:"1000".toSun()}).then(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.state="creating",t.next=3,e.$loading(n);case 3:if(!t.sent){t.next=10;break}return t.next=6,e.$utils.call({contractAddress:e.$contracts.Factory.address,method:"getPair(address,address)",parameter:[{type:"address",value:e.token0.tokenAddress},{type:"address",value:e.token1.tokenAddress}]});case 6:e.pairAddress=t.sent.constant_result[0].decode(["address"]),e.waitApprove.length>0?e.approve(e.waitApprove[0].tokenSymbol===e.token0.tokenSymbol?"token0":"token1"):e.addLiquidity(),t.next=11;break;case 10:e.state="none";case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},addLiquidity:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,o,r,a,i,u,c,l,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.token0Balance<Number(e.token0Amount))){t.next=4;break}return t.abrupt("return",vant.Toast.fail("".concat(e.token0.tokenSymbol).concat(e.$t("joinFundPool.text13"))));case 4:if(!(e.token1Balance<Number(e.token1Amount))){t.next=8;break}return t.abrupt("return",vant.Toast.fail("".concat(e.token1.tokenSymbol).concat(e.$t("joinFundPool.text13"))));case 8:if(e.pairAddress){t.next=12;break}return t.abrupt("return",e.state="create");case 12:if(!(e.token0Allowance<Number(e.token0Amount))){t.next=16;break}return t.abrupt("return",e.approve());case 16:if(!(e.token1Allowance<Number(e.token1Amount))){t.next=20;break}return t.abrupt("return",e.approve("token1"));case 20:if(![e.token0.tokenSymbol,e.token1.tokenSymbol].includes("TRX")){t.next=22;break}return t.abrupt("return",e.addLiquidityETH());case 22:n=Math.floor((new Date).getTime()/1e3)+e.deadline,o="0"===e.reserve0.toString()?1:e.token0Amount.toSun(e.token0.tokenDecimal).toBN().div(100).times(e.slipPoint).toFixed(0),r="0"===e.reserve0.toString()?1:e.token1Amount.toSun(e.token1.tokenDecimal).toBN().div(100).times(e.slipPoint).toFixed(0),a=[["uint","uint","uint","uint"],[e.token0Amount.toSun(e.token0.tokenDecimal),e.token1Amount.toSun(e.token1.tokenDecimal),o,r]],i=[["address","uint","uint","uint"],[e.burnToken?e.burnToken.tokenAddress:d,e.burn,e.bonus,e.gasPrice]],"0"===e.reserve0.toString()?e.liquidity=e.token0Amount.toSun(e.token0.tokenDecimal).toBN().times(e.token1Amount.toSun(e.token1.tokenDecimal)).sqrt().toString().fromSun(18).toFixed(18):(u=e.token0Amount.toSun(e.token0.tokenDecimal).toBN(),c=e.token1Amount.toSun(e.token1.tokenDecimal).toBN(),l=u.times(e.totalLiquidity).div(e.reserve0),p=c.times(e.totalLiquidity).div(e.reserve1),e.liquidity=l.gt(p)?p.toString().fromSun(18).toFixed(18):l.toString().fromSun(18).toFixed(18)),e.$contracts.Router.addLiquidity(e.token0.tokenAddress,e.token1.tokenAddress,e.$address,n,a.encode(),i.encode()).send({feeLimit:"1000".toSun()}).then(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.state="in",t.next=3,e.$loading(n);case 3:if(!t.sent){t.next=7;break}e.state="done",t.next=8;break;case 7:e.state="none";case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 29:case"end":return t.stop()}}),t)})))()},addLiquidityETH:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,o,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="TRX"===e.token0.tokenSymbol?"token1":"token0",o=Math.floor((new Date).getTime()/1e3)+e.deadline,t.next=4,e.$utils.call({contractAddress:e.$contracts.Router.address,method:"quote(uint,uint,uint)",parameter:[{type:"uint",value:e.token1Amount.toSun(e.token1.tokenDecimal)},{type:"uint",value:e.reserve1.toString()},{type:"uint",value:e.reserve0.toString()}]});case 4:return r=t.sent.constant_result[0].decode(["uint"]).toString(),t.next=7,e.$utils.call({contractAddress:e.$contracts.Router.address,method:"quote(uint,uint,uint)",parameter:[{type:"uint",value:e.token0Amount.toSun(e.token0.tokenDecimal)},{type:"uint",value:e.reserve0.toString()},{type:"uint",value:e.reserve1.toString()}]});case 7:a=t.sent.constant_result[0].decode(["uint"]).toString(),i=[["address","uint","uint","uint"],[e.burnToken?e.burnToken.tokenAddress:d,e.burn,e.bonus,e.gasPrice]],e.$contracts.Router.addLiquidityETH(e[n].tokenAddress,e.token1Amount.toSun(e.token1.tokenDecimal),r,a,e.$address,o,i.encode()).send({callValue:e.token0Amount.toSun(),feeLimit:"1000".toSun()}).then(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.state="in",t.next=3,e.$loading(n);case 3:if(!t.sent){t.next=7;break}e.state="done",t.next=8;break;case 7:e.state="none";case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 10:case"end":return t.stop()}}),t)})))()},approve:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token0",n=tronWeb.contract(i,this[t].tokenAddress);n.approve(this.$contracts.Router.address,(10*Number(this["".concat(t,"Amount")])).toSun(this[t].tokenDecimal)).send().then(function(){var n=Object(s["a"])(regeneratorRuntime.mark((function n(o){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.state="approve",n.next=3,e.$loading(o);case 3:if(!n.sent){n.next=10;break}return n.next=6,e.$utils.call({contractAddress:e[t].tokenAddress,method:"allowance(address,address)",parameter:[{type:"address",value:e.$address},{type:"address",value:e.$contracts.Router.address}]});case 6:e["".concat(t,"Allowance")]=n.sent.constant_result[0].decode(["uint256"]).toString().fromSun(e[t].tokenDecimal),e.waitApprove.length>0?e.approve("token1"):e.state="approved",n.next=11;break;case 10:e.state="none";case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},select:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var o,r,s,a,i,u,c,d,l,p,k,m,v,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=e.token,r=e.who,s=void 0===r?"token0":r,a="token0"===s?t.token1:t.token0,o.tokenSymbol!==a.tokenSymbol){n.next=4;break}return n.abrupt("return",vant.Toast.fail(t.$t("joinFundPool.text12")));case 4:if(t[s]=o,"TRX"!==o.tokenSymbol){n.next=11;break}return n.next=8,t.getTRXBalance();case 8:n.t0=n.sent,n.next=14;break;case 11:return n.next=13,t.getTokenBalance(o);case 13:n.t0=n.sent;case 14:return t["".concat(s,"Balance")]=n.t0,n.next=17,t.$utils.call({contractAddress:t.$contracts.Factory.address,method:"getPair(address,address)",parameter:[{type:"address",value:t.token0.tokenAddress},{type:"address",value:t.token1.tokenAddress}]});case 17:if(i=n.sent.constant_result[0],t.pairAddress=0!==Number(i)?i.decode(["address"]):null,!t.pairAddress){n.next=47;break}return n.next=22,t.$utils.call({contractAddress:t.pairAddress,method:"getReserves()"});case 22:return u=n.sent.constant_result[0].decode(["uint112","uint112","uint","uint","uint","uint"],["_reserve0","_reserve1","_tradeFeeRate","_burn0or1","_rate","_posRate"]),c=u._reserve0,d=u._reserve1,l="0x".concat(tronWeb.address.toHex(t.token0.tokenAddress)).toBN().gt("0x".concat(tronWeb.address.toHex(t.token1.tokenAddress))),t.reserve0=l?d.toString().toBN():c.toString().toBN(),t.reserve1=l?c.toString().toBN():d.toString().toBN(),n.next=30,t.$utils.call({contractAddress:t.pairAddress,method:"totalSupply()"});case 30:return t.totalLiquidity=n.sent.constant_result[0].decode(["uint"]).toString().toBN(),t.rate="1".toSun(t.token0.tokenDecimal).toBN().multipliedBy(t.reserve1).div(t.reserve0).toString().fromSun(t.token1.tokenDecimal).toFixed(6),t.reRate="1".toSun(t.token1.tokenDecimal).toBN().multipliedBy(t.reserve0).div(t.reserve1).toString().fromSun(t.token0.tokenDecimal).toFixed(6),n.next=35,t.$utils.call({contractAddress:t.pairAddress,method:"getNftParma()"});case 35:p=n.sent.constant_result[0].decode(["bytes"]).decode(["address","uint","uint","uint","uint"],["burnToken","burnRate","posRate","tradeRate","totalShare"]),k=p.burnToken,m=p.burnRate,v=p.posRate,f=p.tradeRate,t.gasPrice=f.toNumber(),t.burn=m.toNumber(),t.bonus=v.toNumber(),t.burnToken=tronWeb.address.fromHex(k)===t.token0.tokenAddress?t.token0:tronWeb.address.fromHex(k)===t.token1.tokenAddress?t.token1:null,t.bonusToken=t.burnToken,n.next=58;break;case 47:t.reserve0=0,t.reserve1=0,t.totalLiquidity=0,t.rate="--",t.reRate="--",t.gasPrice=1,t.burn=5,t.bonus=5,t.burnToken=null,t.bonusToken=null,t.canModify=!0;case 58:if("TRX"===o.tokenSymbol){n.next=64;break}return n.next=61,t.$utils.call({contractAddress:o.tokenAddress,method:"allowance(address,address)",parameter:[{type:"address",value:t.$address},{type:"address",value:t.$contracts.Router.address}]});case 61:t["".concat(s,"Allowance")]=n.sent.constant_result[0].decode(["uint"]).toString().fromSun(o.tokenDecimal),n.next=65;break;case 64:t["".concat(s,"Allowance")]=1e8;case 65:t.$emit("change",t.token0,t.token1);case 66:case"end":return n.stop()}}),n)})))()},inputToken0:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("0"!==e.reserve0.toString()){t.next=2;break}return t.abrupt("return",!1);case 2:if(!e.token1Inputing){t.next=4;break}return t.abrupt("return",e.token1Inputing=!1);case 4:if(""!==e.token0Amount){t.next=9;break}return e.token1Amount="",e.prop="--",e.overflow=!1,t.abrupt("return",!1);case 9:e.token0Inputing=!0,e.token0Amount.length>0&&(e.token1Amount=e.token0Amount.toSun(e.token0.tokenDecimal).toBN().multipliedBy(e.reserve1).div(e.reserve0).toString().fromSun(e.token1.tokenDecimal).toFixed(2)),n=e.token0Amount.toSun(e.token0.tokenDecimal).toBN(),e.prop="".concat(n.div(e.reserve0.plus(n)).multipliedBy("100".toBN()).toString().toFixed(6),"%");case 13:case"end":return t.stop()}}),t)})))()},inputToken1:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("0"!==e.reserve0.toString()){t.next=2;break}return t.abrupt("return",!1);case 2:if(!e.token0Inputing){t.next=4;break}return t.abrupt("return",e.token0Inputing=!1);case 4:if(""!==e.token1Amount){t.next=9;break}return e.token0Amount="",e.prop="--",e.overflow=!1,t.abrupt("return",!1);case 9:e.token1Inputing=!0,e.token1Amount.length>0&&(e.token0Amount=e.token1Amount.toSun(e.token1.tokenDecimal).toBN().multipliedBy(e.reserve0).div(e.reserve1).toString().fromSun(e.token0.tokenDecimal).toFixed(e.token0.tokenDecimal)),n=e.token0Amount.toSun().toBN(),e.prop="".concat(n.div(e.reserve0.plus(n)).multipliedBy("100".toBN()).toString().toFixed(6),"%");case 13:case"end":return t.stop()}}),t)})))()},switchRate:function(){if(this.rateChanged=!this.rateChanged,!this.pairAddress)return!1;var e;e=this.rateChanged?"1".toSun(this.token1.tokenDecimal).toBN().multipliedBy(this.reserve0).div(this.reserve1).toString().fromSun(this.token0.tokenDecimal).toFixed(6):"1".toSun(this.token0.tokenDecimal).toBN().multipliedBy(this.reserve1).div(this.reserve0).toString().fromSun(this.token1.tokenDecimal).toFixed(6),this.rate=e>0?e:"<0.000001"},getTRXBalance:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tronWeb.trx.getBalance(e.$address);case 2:return t.abrupt("return",t.sent.fromSun().toFixed(2));case 3:case"end":return t.stop()}}),t)})))()},getTokenBalance:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$utils.call({contractAddress:e.tokenAddress,method:"balanceOf(address)",parameter:[{type:"address",value:t.$address}]});case 2:return n.abrupt("return",n.sent.constant_result[0].decode(["uint256"]).toString().fromSun(e.tokenDecimal).toFixed(2));case 3:case"end":return n.stop()}}),n)})))()},changeDeadline:function(e){var t=e.slipPoint,n=e.deadline;this.slipPoint=t,this.deadline=n},openSetting:function(){this.$refs.tradingSetup.open()},openSearch:function(e){this.$refs.searchTokens.open(e)},close:function(){this.state="none",this.token0Amount="",this.token1Amount="",this.init()},addGas:function(){if(!this.canModify)return vant.Toast.fail(this.$t("nftswap.text4"));this.gasPrice++,this.gasPrice>100&&(this.gasPrice=100)},lessGas:function(){if(!this.canModify)return vant.Toast.fail(this.$t("nftswap.text4"));this.gasPrice--,this.gasPrice<1&&(this.gasPrice=1)},showBurnOptions:function(){if(!this.canModify)return vant.Toast.fail(this.$t("nftswap.text4"));this.burnOptionsShow=!0},inputBrunOrBonus:function(){var e=Number(this.burn),t=Number(this.bonus),n=Number(this.gasPrice);e>5*n&&(this.burn=5*n),t>5*n&&(this.bonus=5*n)}}}),p=l,k=p,m=(n("c893"),n("a867"),n("2877")),v=Object(m["a"])(k,o,r,!1,null,"3ba4b141",null);t["default"]=v.exports},"86d4":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAArCAYAAACNWyPFAAADhklEQVRYR63XR6idVRTF8V+MmtgjsYugBg0oZiIklkHAgG0izqwJ0QQjdlBjbAMVFQsIYm8TBRUEBRFFFBQn4sACYkGDDUOw9x5lhf3B9eXed+/3ve9M3uM9zln3nL3Xf+07S/9raxyCe3Ao7prVs8a2OAIPYUGd/VmfInNwDO7HvsjZf+D2vkS2x0m4A7vXDX7FLbi1D5GdcQpuxrwS+BFX40H8PhOR7M2hq3EVdsK/+AaX4skIRLSrSPbthotxIXbAJmzA+Xi+6rH5Yl1EtsJeuAZnIvX4B5/gHLyGPwe7tq3IbOxXBT4Wc/E3PsDZeBN/TbVFG5GYLL2fFl1cAmnRt0rgw2ECbZ5rm3Lvw+XmeOI3vI5V+LRuNNTbk9wkBx6OR7A/4uqf8SrW4MuqyUh4jBPZDkcjN0ix82Q/4YXqqq/GCYx7rvT9sgJd2jVF/x5P43J8W207Fn+jbhKTBRO3YVekbb/Go7geP0wqMOom83EarkOQkbURd+NOBBlx9sRr8Cb5fY/qljzHjnXKF7gBj1fBWwkM3iQCe+MSnFsuDibi4suq0GnZ1gKNSN47Lr4Wp5bJgomPSjBeiEDnlRvExSnwieWBYOE9rMS7g6DrqhKRZ3FceSAcehunY/0oTLQVi8h32KWIHHoGdPHCL11rMAyQawvbQXYK+znW4ZmqRadiT0V9jBdf3Fjplv8nfFKnTB3h1IyEGp/EdCdkRiqH5+8xYDI6Yq0NOCq0EqHNSJOJI62dvH6i2jvcindar6nsCnWPqmfK7NRA8bkyaqAYD7VawwDZ5EfwfiASWHmuVyrDg/e0+sRrFIVz8GF4oBIxQZVhLe5fUfXaIstHqU4XWgmohdUMSwo3maPewRkVuf+bSrqIZE9qEuxk3Gymk9zgfSyvnxkmpl3j4jebG4BeWbiJaVOTYCfT4xvNpNj1Js2+fJhkfKbF8ypr0s6hw0V4cTpST3KTQaFk/VmFnRg4JIhpr8BT1Rxb0KGNSCOWzA+lE88Ba1b8k6n+vmFg7SKSQ3OLk/PdA5kJck68dC9umoqhriIRCoaOr+FizxKKlx6r5wuGNj/dTESyPxhaWrNZIjwtHy8lJi4o9m2aqUiEGgwlFg4qoZj0pWrxDX2IRCgYytfqzMuLSiheCoaW9yXS0OGAEjqyhOKll/sUaeiwT32HCYZCi4/7FmmaKW0dgx6c0PsPjAzCNM08Nz8AAAAASUVORK5CYII="},a54a:function(e,t,n){"use strict";n("0615")},a867:function(e,t,n){"use strict";n("b2fe")},b2fe:function(e,t,n){},c590:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAArCAYAAACNWyPFAAADsUlEQVRYR63XWajtcxjG8c/PPA+ZSRlCmW6U8UJRphu5Mx6ZQuYyTxcIGUqZObihUIqSSBS5ObkwlAxxMuUkHMcxHPNPz+7dp2Wftc9ea539u9ntVev/Xe/vfZ/nef/NPJ/e+zrYGw9hX9zX5pPRe18PB+Mx7F7P/nLeIL339XEEHsFOyLP/wN3zAum9b4TjcQ+2qQp+wx24c40hvffNcCJuxxYFWI7rsbC19vvEkN57vpuHnoPrsCk6fsDleDaAQCeCFGBrXIqLsTH+xRJciJdba+nH1Bkb0ntfC9vjBpyG9OMffI5z8VZr7c/BqR0L0ntfGztXg4/CBvgbH+MsvNNa+2umLEaGlMgy+xnRAwuQK3m3AJ8MA4x8Xb33dbEPHi81RxMrsAhn44vWWioaeuaspER2AJ7ALoiqf8GbOA/ftNbSk1nPaiG99w1xWFWQZseXfsYrNVXfzQVY7XX13jP3R+JBZFzT9GV4HldiaWstYzvnGVpJ7z0ii03chS2Rsf0eT+Jm/DQqYGglvfetcDJuQiwj51s8gHuxvLUWZY98VlZSKt62piXXsUk95WvcgqfT8HEBKyspwA64DOeXinPfUfEV1egVkwCmIGUTUfGNOKlElpH8tICLWmvRxMQnkKg4DT6uNBBb+BBn4INBo5uUEsiLOLo0ENW+h1OweDabGBcWyI/YvBw57hmjixZ+nbQHM39EIFeVbceyM5pf4Rq8EH+aD1AgEV50cWulW35Iwid9ytYx0dgOVjOlk8rpY3F/KTyfR4ALCza2AFeBFCgROr3SZOOIlSSvn6nxXjaOlQyFFCiue2hdU3anaVN8qYQaU1ytrQ+bvFUMciA/ElC7IYGVFeeNyvDY+6wBNRKkKsqD98OjlYgJqixrScLT069xNDRraFWm71XDcFDZTfao93FqRe7/tpLZRDpXMqYnsZ2sm9PbSWznIyzI31FsZ5SMz5TFQK8tu4lo05PFtT2+Pb0pTlTJ9JcqCpLx2RYvqKxJFMQdLsGrq3PqOSuZAUrWn1m2k9SMDUW0V+O5DMcwGxoZMgBL5selE88x1pyltdU/PMxYx4YM2NAJefdAdoI8J1rKK9xtM/eAiSADNnRMLRfbFShaeqquLzY0tXBMDBmwocNrN8sEZuSjpcTERfG++N0aQQqUvThrbGJhjwJFpK/ViC9ZY8iADeW1Ovvy/gWKlmJDC+YFUqBc1a4FOqRA0dLr8wYpUNxhx3qHiQ3l/8/mFVKgPDNjHYHumdD7D1iiQylQCWPqAAAAAElFTkSuQmCC"},c893:function(e,t,n){"use strict";n("249f")},d01f:function(e,t,n){},d39c:function(e,t,n){e.exports=n.p+"img/Thearrow111.aa132643.svg"},d81d:function(e,t,n){"use strict";var o=n("23e7"),r=n("b727").map,s=n("1dde"),a=n("ae40"),i=s("map"),u=a("map");o({target:"Array",proto:!0,forced:!i||!u},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},e0d3:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:"none"!==e.state,expression:"state !== 'none'"}],staticClass:"transaction-state"},[n("before",{directives:[{name:"show",rawName:"v-show",value:["approve","approved"].includes(e.state),expression:"['approve', 'approved'].includes(state)"}],attrs:{state:e.state,trxAmount:e.trxAmount,tokenInfo:e.tokenInfo},on:{addLiquidity:e.addLiquidity}}),n("in",{directives:[{name:"show",rawName:"v-show",value:"in"===e.state,expression:"state === 'in'"}],attrs:{trxAmount:e.trxAmount,tokenInfo:e.tokenInfo,lp:e.lp,rate:e.rate,reRate:e.reRate,prop:e.prop}}),n("after",{directives:[{name:"show",rawName:"v-show",value:"done"===e.state,expression:"state === 'done'"}],attrs:{trxAmount:e.trxAmount,tokenInfo:e.tokenInfo},on:{close:e.close}})],1)},r=[],s=(n("a9e3"),n("d3b7"),{components:{before:function(){return n.e("chunk-10411823").then(n.bind(null,"6c15"))},in:function(){return n.e("chunk-2de2200e").then(n.bind(null,"7089"))},after:function(){return n.e("chunk-0da6dba7").then(n.bind(null,"229b"))}},props:{state:{type:String,required:!0},trxAmount:{type:[Number,String],required:!0},tokenInfo:{type:Object,required:!0},lp:{type:[Number,String],required:!0},rate:{type:[Number,String],required:!0},reRate:{type:[Number,String],required:!0},prop:{type:[Number,String],required:!0}},data:function(){return{}},methods:{addLiquidity:function(){this.$emit("addLiquidity")},close:function(){this.$emit("close")}}}),a=s,i=a,u=(n("fc5a"),n("2877")),c=Object(u["a"])(i,o,r,!1,null,"402f4639",null);t["default"]=c.exports},e2f1:function(e,t,n){},f8fd:function(e,t,n){},f9c5:function(e,t,n){"use strict";n("f8fd")},fc5a:function(e,t,n){"use strict";n("3ca2")},fe12:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAACnklEQVRIS8WWsWsTYRjGn+dyhVKqOFiooFAFseriUhB0SMFBQVDQaC8UvOYU2uSgih39D6xQMalWTLxBesFWEBwcFMygODrUYqdOSjs4BBq02ORe+dJeTWKqRO/01u+753fP+73f8x4R0hMfSp0RDY8I3pjOpm83YhgSF0YieZ3Uxjf0rzbCQwNHo1F9177DLsnzCi7wht3s5JRvNDSwAtTCBShDMODm0k/UWqjgX8E3wWdNc0eH1jEq4AkAu4M8e5K6r+k7r4IvWPaxiMgsye4ggVtqCYqMmcluPcI5gjsB+SweJ4Tep6A/gKBF8viG7jjjln0TwBiAj2sVr2/GmVwOGhq37FEAE+vdLQ/cbOYKjYT9gUSvJ5WRfO7uvVChIrNLi/NGoVAoK8eiYF4F/XknXQgSXOe0Blq9TmGBjYR9jsRstbwN0FDBvttm0FDBStww7V7XSS80Oz4alj0HoOdrpbTnqeMUgzzjWq14wrYASQs4qGKTKk+7ug61z8xMlsKCKt24lXoI0Ny8TlvBoqbZrtYKjrMaxAf5YECc6WxmqOmQGEyMHPAYeSkienlF9gdRjd+CB8zhHmqRtyq3RWQ5aLCITLi5zLU6xyq32zTtFYheBYW31u8695t2Zavlj1updwCPiHDMzd25tQmuhUKwsOZ5/UHl9sCQfVHTkK+GSeXbQWWmCq5zCilpHi974F8PC9E8nYLTIG0CukDybjZjVAOkzmmr9Wthv4i8Lq/IKb9RaVipSwSdFjRa2CqrInwvEGd5cX5KTSX/ZcZiyU59G5+rIS2QUgU8+TibftOC+h9tXT/j/wD/0dWxZGfbdu0FgKP/wvnW9zjksv8UmQ33ufjFK+0NY2o1zer1P0/tGYD2pUqpL6hBUduF3wHhjnJzZY6yMwAAAABJRU5ErkJggg=="}}]);