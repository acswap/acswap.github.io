(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2195af94"],{"083f":function(t,e,n){t.exports=n.p+"img/childs.c471e9f5.svg"},4546:function(t,e,n){"use strict";n("6663")},"5bef":function(t,e,n){t.exports=n.p+"img/dao-copy.5a996740.svg"},6663:function(t,e,n){},"991b":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:"dao-community "+t.theme},[r("div",{directives:[{name:"show",rawName:"v-show",value:!t.binded,expression:"!binded"}],staticClass:"bind"},[r("div",{staticClass:"header"},[r("span",[t._v(t._s(t.$t("community.text1")))]),r("span",[t._v(t._s(t.$t("community.text2")))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.superior,expression:"superior"}],attrs:{type:"text",placeholder:t.$t("community.text17")},domProps:{value:t.superior},on:{input:function(e){e.target.composing||(t.superior=e.target.value)}}}),r("van-button",{attrs:{loading:t.trading,disabled:t.trading},on:{click:t.makeRelation}},[t._v(t._s(t.trading?t.$t("community.text4"):t.$t("community.text5")))])],1),r("div",{directives:[{name:"show",rawName:"v-show",value:t.binded,expression:"binded"}],staticClass:"info"},[r("div",{staticClass:"header"},[r("span",[t._v(t._s(t.$t("community.text1")))]),r("span",[t._v(t._s(t.$t("community.text2")))])]),r("div",{staticClass:"content"},[r("div",[r("span",[t._v(t._s(t.$t("community.text6")))]),r("div",[r("span",[t._v(t._s(t.inviteLink))]),r("img",{attrs:{src:n("5bef")},on:{click:function(e){return t.copyLink(t.inviteLink)}}})])]),r("div",[r("span",[t._v(t._s(t.$t("community.text7")))]),r("div",[r("span",[t._v(t._s(t.$address))]),r("img",{attrs:{src:n("5bef")},on:{click:function(e){return t.copyAddress(t.address)}}})])])])]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.binded,expression:"binded"}],staticClass:"details"},[r("div",[r("span",[t._v(t._s(t.$t("community.text8")))]),r("span",[t._v(t._s(t.totalDeposit.toFixed(4)))])]),r("div",[r("span",[t._v(t._s(t.$t("community.text9")))]),r("span",[t._v(t._s(t.selfRadio.toFixed(4)))])])]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.binded,expression:"binded"}],staticClass:"community-list"},[r("div",{staticClass:"header"},[r("img",{attrs:{src:n("083f")}}),r("span",[t._v(t._s(t.$t("community.text10"))+" "),r("span",[t._v(t._s(t.list.length))])])]),r("div",{staticClass:"list"},[r("div",[r("span",[t._v(t._s(t.$t("community.text11")))]),r("span",[t._v(t._s(t.$t("community.text12")))])]),t._l(t.list,(function(e){return r("div",{key:e.address},[r("span",[t._v(t._s(e.address))]),r("span",[t._v(t._s(e.force.toFixed(4)))])])}))],2)])])},s=[],a=n("1da1"),i=n("3835"),o=n("5530"),c=(n("96cf"),n("99af"),n("fb6a"),n("aca7")),u=[{initialValue:0,selfRadio:"70%"},{initialValue:1e3,selfRadio:"80%"},{initialValue:2e3,selfRadio:"90%"}],d={data:function(){return{rootAddress:"",totalDeposit:"0",selfRadio:"70%",superior:"",trading:!1,inviteLink:"",list:[]}},computed:Object(o["a"])({},Vuex.mapState(["theme","binded"])),created:function(){this.$contracts&&this.init(),this.$route.query.invite&&(this.$emit("showBind"),this.superior=this.$route.query.invite)},methods:{init:function(){var t=this;this.inviteLink="".concat(location.href,"?invite=").concat(this.$address),this.$contracts.Multicall.methods.aggregate([[this.$contracts.Family.options.address,this.$contracts.Family.methods.rootAddress().encodeABI()],[this.$contracts.Family.options.address,this.$contracts.Family.methods.parentOf(this.$address).encodeABI()],[this.$contracts.Family.options.address,this.$contracts.Family.methods.childrenOf(this.$address).encodeABI()],[this.$contracts.Govern.options.address,this.$contracts.Govern.methods.userResults(this.$address).encodeABI()]]).call({from:this.$address},(function(e,n){e||function(){var e=Object(i["a"])(n.returnData,4),r=e[0],s=e[1],a=e[2],o=e[3],d=a.decode(["address[]"]);t.rootAddress=r.decode(["address"]).toLowerCase(),t.$store.commit("setBinded",s.toBN().gt(0)),t.totalDeposit=o.fromWei(),t.$address.toLowerCase()===t.rootAddress&&t.$store.commit("setBinded",!0);for(var p=0;p<u.length;p++)t.totalDeposit.toBN().gt(u[p].initialValue)&&(t.selfRadio=u[p].selfRadio);if(d.length>0)for(var l=function(e){console.log(d[e]),t.$contracts.Farm.methods.userPoolInfo(c["a"].FORCE,d[e]).call({from:t.$address},(function(n,r){n||t.list.push({address:"0x...".concat(d[e].slice(-4)),force:r.supply.fromWei()})}))},m=0;m<d.length;m++)l(m)}()}))},makeRelation:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$web3.utils.isAddress(t.superior)){e.next=4;break}return e.abrupt("return",vant.Toast.fail(t.$t("community.text15")));case 4:if(t.superior.toLowerCase()===t.rootAddress){e.next=10;break}return e.next=7,t.$contracts.Family.methods.parentOf(t.superior).call({from:t.$address});case 7:if(n=e.sent,!n.toBN().lte(0)){e.next=10;break}return e.abrupt("return",vant.Toast.fail(t.$t("community.text15")));case 10:r=t.$contracts.Family.methods.makeRelation(t.superior),r.call({from:t.$address},(function(e,n){e||r.send({from:t.$address}).on("transactionHash",(function(e){t.trading=!0})).on("receipt",(function(e){vant.Toast.success(t.$t("community.text16")),t.$emit("reload"),t.init(),t.trading=!1})).on("error",(function(e){t.trading=!1}))}));case 12:case"end":return e.stop()}}),e)})))()},copyLink:function(t){var e=this;this.$copyText(t).then((function(t){vant.Toast.success(e.$t("TokenInfoi.text19"))}),(function(t){vant.Toast.fail(e.$t("TokenInfoi.text20"))}))},copyAddress:function(t){var e=this;this.$copyText(t).then((function(t){vant.Toast.success(e.$t("TokenInfoi.text19"))}),(function(t){vant.Toast.fail(e.$t("TokenInfoi.text20"))}))}}},p=d,l=p,m=(n("4546"),n("2877")),f=Object(m["a"])(l,r,s,!1,null,"689c5429",null);e["default"]=f.exports},aca7:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"h",(function(){return u})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return p})),n.d(e,"f",(function(){return m})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return v})),n.d(e,"g",(function(){return x}));var r=n("1da1");n("96cf"),n("4de4"),n("fb6a"),n("caad"),n("2532"),n("d3b7"),n("0d03"),n("99af");function s(t){return JSON.stringify({query:'query pair {\n            pair(id: "'.concat(t,'") {\n                reserveUSD\n            }\n        }')})}var a=function(t,e){var n=3600*Math.floor(new Date/1e3/3600);return JSON.stringify({query:137===e?'query pair {\n            pair(id: "'.concat(t,'") {\n                hourData(\n                    where: {\n                        date_gte: ').concat(n-86400,"\n                        date_lte: ").concat(n,"\n                    }\n                ) {\n                    volumeUSD\n                    txCount\n                }\n            }\n        }"):'query pair {\n            pair(id: "'.concat(t,'") {\n                pairHourData(\n                    where: {\n                        hourStartUnix_gte: ').concat(n-86400,"\n                        hourStartUnix_lte: ").concat(n,"\n                    }\n                ) {\n                    hourlyVolumeUSD\n                    hourlyTxns\n                }\n            }\n        }")})};function i(t){return JSON.stringify({query:"query poolTransactions($address: Bytes!) {\n            mints(first: 35, orderBy: timestamp, orderDirection: desc, where: {\n                pair: $address\n            }) {\n                id\n                timestamp\n                amount0\n                amount1\n            }\n            swaps(first: 35, orderBy: timestamp, orderDirection: desc, where: {\n                pair: $address\n            }) {\n                id\n                timestamp\n                amount0In\n                amount1In\n                amount0Out\n                amount1Out\n            }\n            burns(first: 35, orderBy: timestamp, orderDirection: desc, where: {\n                pair: $address\n            }) {\n                id\n                timestamp\n                amount0\n                amount1\n            }\n        }",variables:{address:t}})}var o={LP:0,FORCE:1,BOARD:2,NFT:3},c={"0x18cbafe5":"swapExactTokensForETH","0x7ff36ab5":"swapExactETHForTokens","0x38ed1739":"swapExactTokensForTokens","0xb6f9de95":"swapExactETHForTokensSupportingFeeOnTransferTokens","0x5c11d795":"swapExactTokensForTokensSupportingFeeOnTransferTokens","0x791ac947":"swapExactTokensForETHSupportingFeeOnTransferTokens"},u=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b(e);case 2:return n=t.sent.result,t.abrupt("return",n.filter((function(t){return Object.hasOwnProperty.call(c,t.input.slice(0,10))})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b(n,a(e,r));case 2:return t.abrupt("return",t.sent.data.pair);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}();function p(t,e){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b(n,i(e));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function m(t,e){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b(n,s(e));case 2:return t.abrupt("return",t.sent.data.pair);case 3:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}var h={address:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",decimals:18,logoURI:"https://chainconfig.github.io/bsc/tokens/0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c.png",symbol:"BNB"},v={name:"Binance Pegged USDT",address:"0x55d398326f99059fF775485246999027B3197955",decimals:18,logoURI:"https://chainconfig.github.io/bsc/tokens/0x55d398326f99059fF775485246999027B3197955.png",symbol:"USDT"};function x(t,e,n){for(var r=n.filter((function(n){return![t.symbol,e.symbol].includes(n.symbol)})),s=[[t,e]],a=0;a<r.length;a++){s.push([t,r[a],e]);for(var i=a+1;i<r.length;i++)s.push([t,r[a],r[i],e])}return s}function b(t,e){return y.apply(this,arguments)}function y(){return y=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n){t.next=6;break}return t.next=3,fetch(e,{cache:"reload"});case 3:t.t0=t.sent,t.next=9;break;case 6:return t.next=8,fetch(e,{cache:"reload",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:n});case 8:t.t0=t.sent;case 9:return r=t.t0,t.next=12,r.json();case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}}),t)}))),y.apply(this,arguments)}}}]);