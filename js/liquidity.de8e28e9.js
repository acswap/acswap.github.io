(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["liquidity"],{"0b5f":function(t,e,s){},"2f84":function(t,e,s){},"3d9a":function(t,e,s){"use strict";s("0b5f")},"54b5":function(t,e,s){"use strict";s("e11c")},6501:function(t,e,s){t.exports=s.p+"img/liquidity.9e34cd9f.svg"},6582:function(t,e,s){t.exports=s.p+"img/success.b5ad3b68.png"},"686c":function(t,e,s){"use strict";s("2f84")},"905d":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.info?n("div",{staticClass:"remove"},[n("div",{staticClass:"box"},[n("div",{class:1==t.$ccstyle1?"content":"content1"},[n("div",{staticClass:"logos"},[n("div",[n("img",{attrs:{src:t.info.logo0}}),n("img",{attrs:{src:t.info.logo1}})]),n("span",[t._v(t._s(t.info.symbol0)+"/"+t._s(t.info.symbol1))])]),n("div",{staticClass:"info"},[n("div",[n("span",[t._v(t._s(t.info.symbol0))]),n("span",{domProps:{textContent:t._s(t.info.amount0.toFixed(4))}})]),n("div",[n("span",[t._v(t._s(t.info.symbol1))]),n("span",{domProps:{textContent:t._s(t.info.amount1.toFixed(4))}})]),n("div",[n("span",[t._v(t._s(t.$t("redemption.text2")))]),n("span",{domProps:{textContent:t._s(t.info.lp.toFixed(4))}})])]),n("div",{staticClass:"setting"},[n("span",[t._v(t._s(t.$t("redemption.text3")))]),n("span",[t._v(t._s(t.amountLP.toFixed(4)))]),t.$ccstyle1?n("van-slider",{attrs:{"active-color":"#02EAD0","inactive-color":"#252C32"},model:{value:t.prop,callback:function(e){t.prop=e},expression:"prop"}}):n("van-slider",{attrs:{"active-color":"#02EAD0","inactive-color":"#E4E4E4"},model:{value:t.prop,callback:function(e){t.prop=e},expression:"prop"}}),t._m(0)],1),n("div",{staticClass:"rate"},[n("span",{directives:[{name:"show",rawName:"v-show",value:!t.rateChanged,expression:"!rateChanged"}]},[t._v(t._s(t.$t("redemption.text5"))+" 1 "+t._s(t.info.symbol0)+" = "+t._s(t.rate.toFixed(4))+" "+t._s(t.info.symbol1))]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.rateChanged,expression:"rateChanged"}]},[t._v(t._s(t.$t("redemption.text5"))+" 1 "+t._s(t.info.symbol1)+" = "+t._s(t.reRate.toFixed(4))+" "+t._s(t.info.symbol0))])]),n("div",{staticClass:"coin"},[n("img",{attrs:{src:t.info.logo0}}),n("span",[t._v(t._s(t.amount0.toFixed(4))+" "+t._s(t.info.symbol0))])]),n("div",{staticClass:"coin"},[n("img",{attrs:{src:t.info.logo1}}),n("span",[t._v(t._s(t.amount1.toFixed(4))+" "+t._s(t.info.symbol1))])]),n("van-button",{attrs:{type:"info"},on:{click:t.approve}},[t._v(t._s(t.$t("redemption.text6")))])],1)]),n("van-overlay",{staticClass:"approve",attrs:{show:["approve","approved"].includes(t.state)}},[n("div",{class:1==t.$ccstyle1?"before-transaction":"before-transaction1"},[n("span",[t._v(t._s(t.$t("NFTRedemption.text1")))]),n("div",{staticClass:"info"},[n("div",[n("span",{domProps:{textContent:t._s(t.info.symbol0)}}),n("span",{domProps:{textContent:t._s(t.token0)}})]),n("div",{staticClass:"addpicture"},[n("img",{attrs:{src:s("ad5c")}})]),n("div",[n("span",{domProps:{textContent:t._s(t.info.symbol1)}}),n("span",{domProps:{textContent:t._s(t.token1)}})])]),n("div",{staticClass:"message"},[n("ul",[n("li",{class:"approved"===t.state?"done":""},[n("i"),n("i"),n("span",[t._v(t._s(t.$t("NFTRedemption.text2"))+" "+t._s(t.info.symbol0)+"-"+t._s(t.info.symbol1)+"-LP")]),n("van-loading",{directives:[{name:"show",rawName:"v-show",value:"approve"===t.state,expression:"state === 'approve'"}],attrs:{type:"spinner",color:"#9FD9D0"}})],1),n("li",[t._v(t._s(t.$t("NFTRedemption.text3")))])])]),n("van-button",{directives:[{name:"show",rawName:"v-show",value:"approved"===t.state,expression:"state === 'approved'"}],on:{click:function(e){t.state="before"}}},[t._v(t._s(t.$t("NFTRedemption.text4")))]),n("van-button",{directives:[{name:"show",rawName:"v-show",value:"approve"===t.state,expression:"state === 'approve'"}],attrs:{disabled:"",loading:"","loading-text":t.title,"loading-type":"spinner"}})],1)]),n("van-overlay",{staticClass:"redemption-confirm",attrs:{show:["before","in","done"].includes(t.state)}},[n("div",{directives:[{name:"show",rawName:"v-show",value:["before","in"].includes(t.state),expression:"['before', 'in'].includes(state)"}],class:1==t.$ccstyle1?"transaction":"transaction1"},[n("span",[t._v(t._s(t.$t("NFTRedemption.text6")))]),n("div",{staticClass:"tokens"},[n("div",[n("span",[t._v(t._s(t.info.symbol0))]),n("span",[t._v(t._s(t.token0))])]),n("div",{staticClass:"addpicture"},[n("img",{attrs:{src:s("ad5c")}})]),n("div",[n("span",[t._v(t._s(t.info.symbol1))]),n("span",[t._v(t._s(t.token1))])])]),n("div",{staticClass:"info"},[n("span",[t._v(t._s(t.$t("NFTRedemption.text7")))]),n("div",[n("span",[t._v("1 "+t._s(t.info.symbol0)+"="+t._s(t.rate.toFixed(6))+" "+t._s(t.info.symbol1))]),n("span",[t._v("1 "+t._s(t.info.symbol1)+"="+t._s(t.reRate.toFixed(6))+" "+t._s(t.info.symbol0))])]),n("span",[t._v(t._s(t.$t("NFTRedemption.text8")))]),n("div",[n("span",[t._v(t._s(t.amountLP.toFixed(6)))])])]),n("van-button",{directives:[{name:"show",rawName:"v-show",value:"before"===t.state,expression:"state === 'before'"}],on:{click:t.removeLiquidity}},[t._v(t._s(t.$t("NFTRedemption.text9")))]),n("van-button",{directives:[{name:"show",rawName:"v-show",value:"in"===t.state,expression:"state === 'in'"}],staticClass:"block",attrs:{disabled:"",loading:"","loading-type":"spinner","loading-text":t.title1}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:"done"===t.state,expression:"state === 'done'"}],class:1==t.$ccstyle1?"transacted":"transacted1"},[n("img",{attrs:{src:s("6582")}}),n("span",[t._v(t._s(t.$t("NFTRedemption.text11")))]),n("div",{staticClass:"tokens"},[n("div",[n("span",[t._v(t._s(t.info.symbol0))]),n("span",[t._v(t._s(t.token0))])]),n("div",{staticClass:"addpicture"},[n("img",{attrs:{src:s("ad5c")}})]),n("div",[n("span",[t._v(t._s(t.info.symbol1))]),n("span",[t._v(t._s(t.token1))])])]),n("van-button",{on:{click:t.close}},[t._v(t._s(t.$t("NFTRedemption.text12")))]),n("span",[t._v(t._s(t.$t("NFTRedemption.text13")))])],1)])],1):t._e()},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"props"},[s("span",[t._v("0%")]),s("span",[t._v("25%")]),s("span",[t._v("50%")]),s("span",[t._v("75%")]),s("span",[t._v("100%")])])}],a=s("5530"),o=(s("b680"),s("caad"),s("2532"),s("0d03"),s("d3b7"),s("3ca3"),s("ddb0"),{components:{"mk-navbar":function(){return s.e("redemption").then(s.bind(null,"0861"))}},data:function(){return{prop:25,info:null,deadline:600,pairAddress:"",decimals0:0,decimals1:0,address0:"",address1:"",rate:0,reRate:0,rateChanged:!1,state:"none",allowance:0,contract:null}},computed:{amountLP:function(){return this.info?this.info.lp.toWei(18).toBN().div(100).times(this.prop).toFixed(0).fromWei(18):0},amount0:function(){return this.info?this.info.amount0.toWei(this.decimals0).toBN().div(100).times(this.prop).toFixed(0).fromWei(this.decimals0):0},amount1:function(){return this.info?this.info.amount1.toWei(this.decimals1).toBN().div(100).times(this.prop).toFixed(0).fromWei(this.decimals1):0}}}),r=s("b9cc"),d=Object(a["a"])(Object(a["a"])({},o),{},{created:function(){if(!this.$address)return!1;var t=JSON.parse(this.$route.query.info),e=t.logo0,s=t.logo1,n=t.symbol0,i=t.symbol1,a=t.amount0,o=t.amount1,r=t.reserve0,d=t.reserve1,l=t.lp,c=t.address0,u=t.address1,p=t.decimals0,m=t.decimals1,h=t.pair;this.info={logo0:e,logo1:s,symbol0:n,symbol1:i,amount0:a,amount1:o,lp:l},this.reserve0=r,this.reserve1=d,this.decimals0=p,this.decimals1=m,this.$address0=c,this.$address1=u,this.pair=h,this.init()},methods:{close:function(){this.state="none",this.$router.back()},init:function(){var t=this;this.rate="1".toWei(this.decimals0).toBN().times(this.reserve1).div(this.reserve0).toFixed(0).fromWei(this.decimals1),this.reRate="1".toWei(this.decimals1).toBN().times(this.reserve0).div(this.reserve1).toFixed(0).fromWei(this.decimals0),this.contract=new this.$web3.eth.Contract(r,this.pair),this.contract.methods.allowance(this.$address,this.$Router._address).call((function(e,s){e||(t.allowance=s.fromWei(18).toBN())}))},approve:function(){var t=this;if(this.allowance.gte(this.amountLP))return this.state="before";this.contract.methods.approve(this.$Router._address,this.amountLP.toWei(18).toBN().times(10).toFixed()).send({from:this.$address}).on("transactionHash",(function(e){t.state="approve"})).on("receipt",(function(e){t.state="approved"})).on("error",(function(e){t.state="none"}))},removeLiquidity:function(){var t=this;if([this.info.symbol0,this.info.symbol1].includes("HT"))return this.removeLiquidityETH();var e=Math.floor((new Date).getTime()/1e3)+this.deadline;this.$Router.methods.removeLiquidity(this.$address0,this.$address1,this.amountLP.toWei(18),this.amount0.toWei(this.decimals0).toBN().times(.99).toFixed(0),this.amount1.toWei(this.decimals1).toBN().times(.99).toFixed(0),this.$address,e).send({from:this.$address}).on("transactionHash",(function(e){t.state="in"})).on("receipt",(function(e){t.state="done"})).on("error",(function(e){t.state="none",vant.Toast.fail("暂无可赎回额度！")}))},removeLiquidityETH:function(){var t=this,e=Math.floor((new Date).getTime()/1e3)+this.deadline,s="HT"===this.info.symbol0?"0":"1",n="HT"===this.info.symbol0?"1":"0";this.$Router.methods.removeLiquidityETH(this["address".concat(n)],this.amountLP.toWei(18),this["amount".concat(n)].toWei(this["decimals".concat(n)]).toBN().times(.99).toFixed(0),this["amount".concat(s)].toWei(this["decimals".concat(s)]).toBN().times(.99).toFixed(0),this.$address,e).send({from:this.$address}).on("transactionHash",(function(e){t.state="in"})).on("receipt",(function(e){t.state="done"})).on("error",(function(e){t.state="none",vant.Toast.fail("暂无可赎回额度！")}))}}}),l=d,c=l,u=(s("3d9a"),s("686c"),s("2877")),p=Object(u["a"])(c,n,i,!1,null,"850e0eae",null);e["default"]=p.exports},"9b90":function(t,e,s){t.exports=s.p+"img/pool-empty.8e626e2f.svg"},"9e58":function(t,e,s){t.exports=s.p+"img/Thearrow1.96d1b689.svg"},ad5c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAA4CAYAAADjLujzAAAAvUlEQVRYR+2XwQkCMRREZ46WYBXbijawNmEB692LdqANbAtaiDVYwogQFxExfwNGWCeQUz6Z8Hg/IUSlwUo5cFAxaaMzuoGAZbAMlqHYAaOriE5SA2CRIk8kz2Piw3edpBbAIW3ekdw4KETA6F4xTdg6SZeMFTMA81RzBXCfn8aaZP8oGNBJUki/eNGK5PF3QbmDuo/+qI8swzdf2CWAbUK8I7nP4X5eD9/eYzZ9V+ugYoJGZ3T+iBU7MGF0N4YWaznZlWnAAAAAAElFTkSuQmCC"},b9cc:function(t){t.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"address","name":"pauser","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"uint8","name":"decimal","type":"uint8"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"new_operator","type":"address"},{"internalType":"address","name":"new_pauser","type":"address"}],"name":"changeUser","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},df8f:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add"},[n("div",{staticClass:"box"},[n("div",{staticClass:"just-swap"},[n("div",{class:t.$ccstyle1?"content":"content1"},[n("div",{staticClass:"form"},[n("div",{staticClass:"input"},[n("div",{staticClass:"container"},[n("div",{on:{click:function(e){return t.openSearch("token0")}}},[n("img",{attrs:{src:t.token0.logoURI}}),n("span",[t._v(t._s(t.token0.symbol))]),n("img",{attrs:{src:s("9e58")}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.amount0,expression:"amount0"}],attrs:{type:"number",placeholder:"0"},domProps:{value:t.amount0},on:{input:[function(e){e.target.composing||(t.amount0=e.target.value)},t.inputAmount0]}})]),n("span",[t._v(t._s(t.$t("transaction.text2"))+" "+t._s(t.balance0.toFixed(4)))])]),n("img",{attrs:{src:s("6501")}}),n("div",{staticClass:"input"},[n("div",{staticClass:"container"},[n("div",{on:{click:function(e){return t.openSearch("token1")}}},[n("img",{attrs:{src:t.token1.logoURI}}),n("span",[t._v(t._s(t.token1.symbol))]),n("img",{attrs:{src:s("9e58")}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.amount1,expression:"amount1"}],attrs:{type:"number",placeholder:"0"},domProps:{value:t.amount1},on:{input:[function(e){e.target.composing||(t.amount1=e.target.value)},t.inputAmount1]}})]),n("span",[t._v(t._s(t.$t("transaction.text2"))+" "+t._s(t.balance1.toFixed(4)))])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.amount0.toBN().gt(0)&&t.pairAddress,expression:"amount0.toBN().gt(0) && pairAddress"}],staticClass:"info"},[n("div",{staticClass:"info-item rate"},[n("span",{directives:[{name:"show",rawName:"v-show",value:!t.rerate,expression:"!rerate"}]},[t._v(t._s(t.$t("joinFundPool.text5")+" 1 "+t.token0.symbol+"≈"+t.rate1.toFixed(4)+" "+t.token1.symbol))]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.rerate,expression:"rerate"}]},[t._v(t._s(t.$t("joinFundPool.text5")+" 1 "+t.token1.symbol+"≈"+t.rate0.toFixed(4)+" "+t.token0.symbol))]),n("img",{attrs:{src:s("fe12")},on:{click:function(e){t.rerate=!t.rerate}}})]),n("span",{staticClass:"info-item"},[t._v(t._s(t.poolType))]),n("span",{staticClass:"info-item"},[t._v(t._s(t.$t("add.text1"))+" $"+t._s(t.reserveUSD))]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.amount0.toBN().gt(0),expression:"amount0.toBN().gt(0)"}],staticClass:"info-item"},[t._v(t._s(t.$t("add.text2"))+" "+t._s(t.poolProp))])]),n("van-button",{on:{click:t.addLiquidity}},[t._v(t._s(t.btnText))])],1),n("search-tokens",{ref:"searchTokens",on:{select:t.select}}),n("fundpool-state",{attrs:{state:t.state,token0:{amount:t.amount0,symbol:t.token0.symbol},token1:{amount:t.amount1,symbol:t.token1.symbol},waitApprove:t.waitApprove,lp:t.liquidity,rate:t.rate1,reRate:t.rate0,prop:t.poolProp},on:{addLiquidity:t.addLiquidity,close:t.close}}),n("trading-setup",{ref:"tradingSetup",on:{change:t.changeDeadline}})],1),n("span",{directives:[{name:"show",rawName:"v-show",value:t.assetsPool,expression:"assetsPool"}],staticClass:"title"},[t._v("我的流动池")]),t.assetsPool?n("div",{class:1==t.$ccstyle1?"your-share":"your-share1"},[n("span",{staticClass:"badge"},[t._v("cake v2")]),n("div",{staticClass:"tokens"},[n("div",[n("div",[n("img",{attrs:{src:t.assetsPool.logo0}}),n("img",{attrs:{src:t.assetsPool.logo1}})]),n("span",[t._v(t._s(t.assetsPool.symbol0)+"/"+t._s(t.assetsPool.symbol1))])]),n("div",[n("span",[t._v("LP: "+t._s(t.assetsPool.lp.toFixed(4)))]),n("span",[t._v(t._s(t.assetsPool.myShare)+"%")])])]),n("div",{staticClass:"amounts"},[n("div",[n("span",[t._v(t._s(t.assetsPool.symbol0)+": "+t._s(t.assetsPool.amount0.toFixed(4)))]),n("span",[t._v(t._s(t.assetsPool.symbol1)+": "+t._s(t.assetsPool.amount1.toFixed(4)))])]),n("van-button",{on:{click:function(e){t.$router.push({path:"/liquidity/remove",query:{info:JSON.stringify(t.assetsPool)}})}}},[t._v(t._s(t.$t("joinFundPool.text11")))])],1)]):t._e(),t.assetsPool?t._e():n("div",{staticClass:"not-liquidity"},[n("img",{attrs:{src:s("9b90")}}),n("span",[t._v(t._s(t.$t("joinFundPool.text16")))])])])])},i=[],a=s("ade3"),o=s("1da1"),r=s("5530"),d=(s("96cf"),s("4795"),s("caad"),s("b680"),s("a9e3"),s("99af"),s("2532"),s("0d03"),s("e25e"),s("d3b7"),s("3ca3"),s("ddb0"),s("aca7")),l=s("e549"),c=s("1b4b"),u={components:{"mk-navbar":function(){return s.e("joinFundPool").then(s.bind(null,"0861"))},"search-tokens":function(){return s.e("joinFundPool").then(s.bind(null,"bab4"))},"fundpool-state":function(){return s.e("joinFundPool").then(s.bind(null,"e0d3"))},"trading-setup":function(){return s.e("joinFundPool").then(s.bind(null,"0430"))}},data:function(){return{token0:d["b"],token1:d["c"],balance0:0,balance1:0,contract0:null,contract1:null,allowance0:"0".toBN(),allowance1:"0".toBN(),reserve0:0,reserve1:0,amount0:"",amount1:"",inputing0:!1,inputing1:!1,rerate:!1,slipPoint:2,deadline:600,state:"none",pairAddress:null,totalLiquidity:0,assetsPool:null,reserveUSD:""}},computed:Object(r["a"])(Object(r["a"])({},Vuex.mapState(["theme","chainId"])),{},{pairContract:function(){return this.pairAddress?0==this.chainId?window.tronWeb.contract(l,this.pairAddress):new this.$web3.eth.Contract(l,this.pairAddress):null},btnText:function(){var t=c["a"][this.chainId].mainCoin;return["approve","in"].includes(this.state)?this.$t("add.text4"):this.pairContract?this.token0.symbol!==t.symbol&&this.amount0.toBN().gt(this.allowance0)?this.$t("add.text6",{symbol:this.token0.symbol}):this.token1.symbol!==t.symbol&&this.amount1.toBN().gt(this.allowance1)?this.$t("add.text6",{symbol:this.token1.symbol}):this.$t("add.text7"):this.$t("add.text5")},rate0:function(){return this.pairAddress?"1".toWei(this.token1.decimals).toBN().times(this.reserve0).div(this.reserve1).toFixed().fromWei(this.token0.decimals).toFixed(6):"--"},rate1:function(){return this.pairAddress?"1".toWei(this.token0.decimals).toBN().times(this.reserve1).div(this.reserve0).toFixed().fromWei(this.token1.decimals).toFixed(6):"--"},poolProp:function(){return["","0"].includes(this.amount0)||!this.pairAddress?"--":"".concat(this.amount0.toWei(this.token0.decimals).toBN().div(this.reserve0.toBN().plus(this.amount0.toWei(this.token0.decimals))).times(100).toFixed().toFixed(6),"%")},liquidity:function(){if(this.reserve0.toBN().gt(0)){var t=this.amount0.toWei(this.token0.decimals).toBN().times(this.totalLiquidity).div(this.reserve0),e=this.amount1.toWei(this.token1.decimals).toBN().times(this.totalLiquidity).div(this.reserve1);return(t.lt(e)?t:e).toFixed(0).fromWei(18)}return this.amount0.toWei(this.token0.decimals).toBN().times(this.amount1.toWei(this.token1.decimals)).sqrt().toFixed(0).fromWei(18)},waitApprove:function(){var t=[],e=c["a"][this.chainId].mainCoin;return this.token0.symbol!==e.symbol&&this.allowance0.lt(this.amount0.toWei(this.token0.decimals))&&t.push(Object(r["a"])({who:"0"},this.token0)),this.token1.symbol!==e.symbol&&this.allowance1.lt(this.amount1.toWei(this.token1.decimals))&&t.push(Object(r["a"])({who:"1"},this.token1)),t},poolType:function(){switch(this.chainId){case 0:return"sunswap v2";case 1:return"uniswap v2";case 56:return"cake v2";case 66:return"kswap";case 128:return"mdex";case 137:return"quickswap";default:return"cake v2"}}}),destroyed:function(){clearInterval(this.interval)}},p=s("b9cc"),m=Object(r["a"])(Object(r["a"])({},u),{},{created:function(){var t=this,e=c["a"][this.chainId];this.token0=e.mainCoin,this.token1=e.defaultCoin,this.$address&&(this.select({token:this.token0,who:"token0"}),this.interval=setInterval((function(){"none"===t.state&&t.select({token:t.token0,who:"token0"})}),1e4))},methods:{message:function(){return vant.Toast.fail("暂未开放！")},openSearch:function(t){this.$refs.searchTokens.open(t)},openSetting:function(){this.$refs.tradingSetup.open()},changeDeadline:function(t){var e=t.slipPoint,s=t.deadline;this.slipPoint=e,this.deadline=s},close:function(){this.state="none",this.amount0="",this.amount1="",this.select({token:this.token0,who:"token0"})},switch:function(){var t=this.token0;this.token0=this.token1,this.token1=t,this.select({token:this.token0,who:"token0"})},inputAmount0:function(){return!!this.pairAddress&&(this.inputing1?this.inputing1=!1:["","0"].includes(this.amount0)?this.amount1="":(this.inputing0=!0,void(this.amount1=this.amount0.toWei(this.token0.decimals).toBN().times(this.reserve1).div(this.reserve0).toFixed().fromWei(this.token1.decimals).toFixed(6))))},inputAmount1:function(){return!!this.pairAddress&&(this.inputing0?this.inputing0=!1:["","0"].includes(this.amount1)?this.amount0="":(this.inputing1=!0,void(this.amount0=this.amount1.toWei(this.token1.decimals).toBN().times(this.reserve0).div(this.reserve1).toFixed().fromWei(this.token0.decimals).toFixed(6))))},approve:function(){var t=this,e=0==this.chainId?window.tronWeb.contract(p,this.waitApprove[0].address):new this.$web3.eth.Contract(p,this.waitApprove[0].address),s=Number(this.waitApprove[0].symbol===this.token1.symbol),n=(0==this.chainId?e:e.methods).approve((0==this.chainId?this.$Router:this.$Router.options).address,this["amount".concat(s)].toWei(this.waitApprove[0].decimals)).send({from:this.$address});0==this.chainId?n.then(function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(i){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.state="approve",n.next=3,t.$loading(i);case 3:if(!n.sent){n.next=11;break}return n.next=6,e.allowance(t.$address,t.$Router.address).call({from:t.$address});case 6:a=n.sent,t["allowance".concat(s)]=a._hex.toBN(),t.waitApprove.length>0?t.approve():t.state="approved",n.next=12;break;case 11:t.state="none";case 12:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()):n.on("transactionHash",(function(e){t.state="approve"})).on("receipt",function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(i){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.methods.allowance(t.$address,t.$Router.options.address).call({from:t.$address});case 2:t["allowance".concat(s)]=n.sent.toBN(),t.waitApprove.length>0?t.approve():t.state="approved";case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()).on("error",(function(e){t.state="none"}))},addLiquidity:function(){var t=this,e=c["a"][this.chainId].mainCoin;if(this.balance0.toBN().lt(this.amount0))return vant.Toast.fail("".concat(this.token0.symbol).concat(this.$t("joinFundPool.text13")));if(this.balance1.toBN().lt(this.amount1))return vant.Toast.fail("".concat(this.token1.symbol).concat(this.$t("joinFundPool.text13")));if(this.waitApprove.length>0)return this.approve();if([this.token0.symbol,this.token1.symbol].includes(e.symbol))return this.addLiquidityETH();var s=this.amount0.toWei(this.token0.decimals),n=this.amount1.toWei(this.token1.decimals),i=s.toBN().div(100).times(this.slipPoint).toFixed(0),a=n.toBN().div(100).times(this.slipPoint).toFixed(0),r=Math.floor((new Date).getTime()/1e3)+this.deadline,d=(0==this.chainId?this.$Router:this.$Router.methods).addLiquidity(this.token0.address,this.token1.address,s,n,i,a,this.$address,r).send({from:this.$address});0==this.chainId?d.then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state="in",e.next=3,t.$loading(s);case 3:if(!e.sent){e.next=7;break}e.t0="done",e.next=8;break;case 7:e.t0="none";case 8:t.state=e.t0;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):d.on("transactionHash",(function(e){t.state="in"})).on("receipt",(function(e){t.state="done"})).on("error",(function(e){t.state="none"}))},addLiquidityETH:function(){var t=this,e=c["a"][this.chainId].mainCoin,s=this.token0.symbol===e.symbol?"1":"0",n=this.token0.symbol===e.symbol?"0":"1",i=this["amount".concat(s)].toWei(this["token".concat(s)].decimals),r=i.toBN().div(100).times(this.slipPoint).toFixed(0),d=this["amount".concat(n)].toWei(this["token".concat(n)].decimals),l=d.toBN().div(100).times(this.slipPoint).toFixed(0),u=Math.floor((new Date).getTime()/1e3)+this.deadline,p=(0==this.chainId?this.$Router:this.$Router.methods).addLiquidityETH(this["token".concat(s)].address,i,r,l,this.$address,u).send(Object(a["a"])({from:this.$address},0==this.chainId?"callValue":"value",d));0==this.chainId?p.then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state="in",e.next=3,t.$loading(s);case 3:if(!e.sent){e.next=7;break}e.t0="done",e.next=8;break;case 7:e.t0="none";case 8:t.state=e.t0;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):p.on("transactionHash",(function(e){t.state="in"})).on("receipt",(function(e){t.state="done"})).on("error",(function(e){t.state="none"}))},select:function(t){var e=this,s=t.token,n=t.who;if("token0"===n&&this.token1.symbol===s.symbol)return this["switch"]();if("token1"===n&&this.token0.symbol===s.symbol)return this["switch"]();this[n]=s;var i=c["a"][this.chainId].mainCoin;if(0==this.chainId){var a=[],o="balanceOf(address)".encodeFunction(["address"],[this.$address]),r=[this.$Multicall.address.toHex(),"getEthBalance(address)".encodeFunction(["address"],[this.$address])],l="allowance(address,address)".encodeFunction(["address","address"],[this.$address,this.$Router.address]);this.token0.symbol===i.symbol?a.push(r):a.push([this.token0.address.toHex(),o]),this.token1.symbol===i.symbol?a.push(r):a.push([this.token1.address.toHex(),o]),a.push([this.token0.address.toHex(),l]),a.push([this.token1.address.toHex(),l]),a.push([this.$Factory.address.toHex(),"getPair(address,address)".encodeFunction(["address","address"],[this.token0.address,this.token1.address])]),window.tronWeb.transactionBuilder.triggerConstantContract(this.$Multicall.address,"aggregate((address,bytes)[])",{},[{type:"(address,bytes)[]",value:a}],this.$address).then((function(t){var s=t.constant_result[0].decode([{name:"blockNumber",type:"uint256"},{name:"returnData",type:"bytes[]"}]),n=s.returnData,i=n[4].decode(["address"]);if(e.balance0=n[0].fromWei(e.token0.decimals),e.balance1=n[1].fromWei(e.token1.decimals),e.allowance0=n[2].toBN(),e.allowance1=n[3].toBN(),e.pairAddress=0!==Number(i)?i:null,e.pairAddress){var a=[];a.push([i,"getReserves()".encodeFunction()]),a.push([i,"totalSupply()".encodeFunction()]),a.push([i,"balanceOf(address)".encodeFunction(["address"],[e.$address])]),window.tronWeb.transactionBuilder.triggerConstantContract(e.$Multicall.address,"aggregate((address,bytes)[])",{},[{type:"(address,bytes)[]",value:a}],e.$address).then((function(t){var s=t.constant_result[0].decode([{name:"blockNumber",type:"uint256"},{name:"returnData",type:"bytes[]"}]),n=s.returnData,a=n[0].decode([{type:"uint112",name:"_reserve0"},{type:"uint112",name:"_reserve1"}]),o=a._reserve0,r=a._reserve1,d=e.token0.address.toHex().toBN().lt(e.token1.address.toHex().toBN()),l=n[2].toBN();e.reserve0=d?o:r,e.reserve1=d?r:o,e.totalLiquidity=n[1].toBN(),l.gt(0)&&(e.assetsPool={logo0:e.token0.logoURI,logo1:e.token1.logoURI,symbol0:e.token0.symbol,symbol1:e.token1.symbol,amount0:l.times(e.reserve0).div(e.totalLiquidity).toFixed(0).fromWei(e.token0.decimals),amount1:l.times(e.reserve1).div(e.totalLiquidity).toFixed(0).fromWei(e.token1.decimals),reserve0:e.reserve0,reserve1:e.reserve1,lp:l.toFixed().fromWei(18),myShare:l.div(e.totalLiquidity).times(100).toFixed().toFixed(6),address0:e.token0.address,address1:e.token1.address,decimals0:e.token0.decimals,decimals1:e.token1.decimals,address:i})})),Object(d["l"])(i.fromHex()).then((function(t){e.reserveUSD=parseInt(t.liquidity)}))}}))}else{var u=new this.$web3.BatchRequest,m=new this.$web3.eth.Contract(p,this.token0.address),h=new this.$web3.eth.Contract(p,this.token1.address);this.token0.symbol===i.symbol?u.add(this.$web3.eth.getBalance.request(this.$address,"latest")):u.add(m.methods.balanceOf(this.$address).call.request({from:this.$address})),this.token1.symbol===i.symbol?u.add(this.$web3.eth.getBalance.request(this.$address,"latest")):u.add(h.methods.balanceOf(this.$address).call.request({from:this.$address})),u.add(m.methods.allowance(this.$address,this.$Router._address).call.request({from:this.$address})),u.add(h.methods.allowance(this.$address,this.$Router._address).call.request({from:this.$address})),u.add(this.$Factory.methods.getPair(this.token0.address,this.token1.address).call.request({from:this.$address})),u.requestManager.sendBatch(u.requests,(function(t,s){if(t)console.log(s),console.log(t);else{var n=s[4].result.decode(["address"]);if(e.balance0=("string"===typeof s[0]?s[0]:s[0].result).fromWei(e.token0.decimals).toFixed(2),e.balance1=s[1].result.fromWei(e.token1.decimals).toFixed(2),e.allowance0=s[2].result.toBN(),e.allowance1=s[3].result.toBN(),e.pairAddress=0!==Number(n)?n:null,e.pairAddress){var i=new e.$web3.BatchRequest;i.add(e.pairContract.methods.getReserves().call.request({from:e.$address})),i.add(e.pairContract.methods.totalSupply().call.request({from:e.$address})),i.add(e.pairContract.methods.balanceOf(e.$address).call.request({from:e.$address})),i.requestManager.sendBatch(i.requests,(function(t,s){if(!t){var i=("string"===typeof s[0]?s[0]:s[0].result).decode([{type:"uint112",name:"_reserve0"},{type:"uint112",name:"_reserve1"}]),a=i._reserve0,o=i._reserve1,r=e.token0.address.toBN().lt(e.token1.address.toBN()),d=s[2].result.toBN();e.reserve0=r?a:o,e.reserve1=r?o:a,e.totalLiquidity=s[1].result.toBN(),d.gt(0)&&(e.assetsPool={logo0:e.token0.logoURI,logo1:e.token1.logoURI,symbol0:e.token0.symbol,symbol1:e.token1.symbol,amount0:d.times(e.reserve0).div(e.totalLiquidity).toFixed(0).fromWei(e.token0.decimals),amount1:d.times(e.reserve1).div(e.totalLiquidity).toFixed(0).fromWei(e.token1.decimals),reserve0:e.reserve0,reserve1:e.reserve1,lp:d.toFixed().fromWei(18),myShare:d.div(e.totalLiquidity).times(100).toFixed().toFixed(6),address0:e.token0.address,address1:e.token1.address,decimals0:e.token0.decimals,decimals1:e.token1.decimals,pair:n})}})),Object(d["k"])(n.toLowerCase(),c["c"][e.chainId]).then((function(t){e.reserveUSD=parseInt(t.reserveUSD)}))}}}))}}}}),h=m,v=h,y=(s("54b5"),s("2877")),f=Object(y["a"])(v,n,i,!1,null,"037e44b4",null);e["default"]=f.exports},e11c:function(t,e,s){},ed61:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("router-view")},i=[],a=s("2877"),o={},r=Object(a["a"])(o,n,i,!1,null,null,null);e["default"]=r.exports},fe12:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAACnklEQVRIS8WWsWsTYRjGn+dyhVKqOFiooFAFseriUhB0SMFBQVDQaC8UvOYU2uSgih39D6xQMalWTLxBesFWEBwcFMygODrUYqdOSjs4BBq02ORe+dJeTWKqRO/01u+753fP+73f8x4R0hMfSp0RDY8I3pjOpm83YhgSF0YieZ3Uxjf0rzbCQwNHo1F9177DLsnzCi7wht3s5JRvNDSwAtTCBShDMODm0k/UWqjgX8E3wWdNc0eH1jEq4AkAu4M8e5K6r+k7r4IvWPaxiMgsye4ggVtqCYqMmcluPcI5gjsB+SweJ4Tep6A/gKBF8viG7jjjln0TwBiAj2sVr2/GmVwOGhq37FEAE+vdLQ/cbOYKjYT9gUSvJ5WRfO7uvVChIrNLi/NGoVAoK8eiYF4F/XknXQgSXOe0Blq9TmGBjYR9jsRstbwN0FDBvttm0FDBStww7V7XSS80Oz4alj0HoOdrpbTnqeMUgzzjWq14wrYASQs4qGKTKk+7ug61z8xMlsKCKt24lXoI0Ny8TlvBoqbZrtYKjrMaxAf5YECc6WxmqOmQGEyMHPAYeSkienlF9gdRjd+CB8zhHmqRtyq3RWQ5aLCITLi5zLU6xyq32zTtFYheBYW31u8695t2Zavlj1updwCPiHDMzd25tQmuhUKwsOZ5/UHl9sCQfVHTkK+GSeXbQWWmCq5zCilpHi974F8PC9E8nYLTIG0CukDybjZjVAOkzmmr9Wthv4i8Lq/IKb9RaVipSwSdFjRa2CqrInwvEGd5cX5KTSX/ZcZiyU59G5+rIS2QUgU8+TibftOC+h9tXT/j/wD/0dWxZGfbdu0FgKP/wvnW9zjksv8UmQ33ufjFK+0NY2o1zer1P0/tGYD2pUqpL6hBUduF3wHhjnJzZY6yMwAAAABJRU5ErkJggg=="}}]);