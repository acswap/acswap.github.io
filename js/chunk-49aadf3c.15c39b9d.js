(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49aadf3c","chunk-2d0b5d39"],{"1b0b":function(t,e,s){"use strict";function i(t,e,s){return Math.min(Math.max(t,e),s)}function a(t,e,s){var i=t.indexOf(e),a="";return-1===i?t:"-"===e&&0!==i?t.slice(0,i):("."===e&&t.match(/^(\.|-\.)/)&&(a=i?"-0":"0"),a+t.slice(0,i+1)+t.slice(i).replace(s,""))}function n(t,e,s){void 0===e&&(e=!0),void 0===s&&(s=!0),t=e?a(t,".",/\./g):t.split(".")[0],t=s?a(t,"-",/-/g):t.replace(/-/,"");var i=e?/[^-0-9.]/g:/[^-0-9]/g;return t.replace(i,"")}function o(t,e){var s=Math.pow(10,10);return Math.round((t+e)*s)/s}s.d(e,"c",(function(){return i})),s.d(e,"b",(function(){return n})),s.d(e,"a",(function(){return o}))},"3dee":function(t,e,s){"use strict";s("ae5b")},"4acf":function(t,e,s){"use strict";s("1933"),s("d08d")},6582:function(t,e,s){t.exports=s.p+"img/success.b5ad3b68.png"},"714c":function(t,e,s){"use strict";s("1933"),s("82bc")},"76c4":function(t,e,s){},"7afe":function(t,e,s){"use strict";var i=s("2c9b"),a=s("2b3b"),n=s("2d67");function o(t){if(!Object(n["c"])(t))return t;if(Array.isArray(t))return t.map((function(t){return o(t)}));if("object"===typeof t){var e={};return Object.keys(t).forEach((function(s){e[s]=o(t[s])})),e}return t}var r=s("a764"),d=s("1b0b"),c=s("b211"),l={inject:{vanField:{default:null}},watch:{value:function(){var t=this.vanField;t&&(t.resetValidation(),t.validateWithTrigger("onChange"))}},created:function(){var t=this.vanField;t&&!t.children&&(t.children=this)}},u=Object(i["a"])("slider"),h=u[0],v=u[1],m=function(t,e){return JSON.stringify(t)===JSON.stringify(e)};e["a"]=h({mixins:[c["a"],l],props:{disabled:Boolean,vertical:Boolean,range:Boolean,barHeight:[Number,String],buttonSize:[Number,String],activeColor:String,inactiveColor:String,min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},value:{type:[Number,Array],default:0}},data:function(){return{dragStatus:""}},computed:{scope:function(){return this.max-this.min},buttonStyle:function(){if(this.buttonSize){var t=Object(a["a"])(this.buttonSize);return{width:t,height:t}}}},created:function(){this.updateValue(this.value)},mounted:function(){this.range?(this.bindTouchEvent(this.$refs.wrapper0),this.bindTouchEvent(this.$refs.wrapper1)):this.bindTouchEvent(this.$refs.wrapper)},methods:{onTouchStart:function(t){this.disabled||(this.touchStart(t),this.currentValue=this.value,this.range?this.startValue=this.value.map(this.format):this.startValue=this.format(this.value),this.dragStatus="start")},onTouchMove:function(t){if(!this.disabled){"start"===this.dragStatus&&this.$emit("drag-start"),Object(r["c"])(t,!0),this.touchMove(t),this.dragStatus="draging";var e=this.$el.getBoundingClientRect(),s=this.vertical?this.deltaY:this.deltaX,i=this.vertical?e.height:e.width,a=s/i*this.scope;this.range?this.currentValue[this.index]=this.startValue[this.index]+a:this.currentValue=this.startValue+a,this.updateValue(this.currentValue)}},onTouchEnd:function(){this.disabled||("draging"===this.dragStatus&&(this.updateValue(this.currentValue,!0),this.$emit("drag-end")),this.dragStatus="")},onClick:function(t){if(t.stopPropagation(),!this.disabled){var e=this.$el.getBoundingClientRect(),s=this.vertical?t.clientY-e.top:t.clientX-e.left,i=this.vertical?e.height:e.width,a=+this.min+s/i*this.scope;if(this.range){var n=this.value,o=n[0],r=n[1],d=(o+r)/2;a<=d?o=a:r=a,a=[o,r]}this.startValue=this.value,this.updateValue(a,!0)}},handleOverlap:function(t){return t[0]>t[1]?(t=o(t),t.reverse()):t},updateValue:function(t,e){t=this.range?this.handleOverlap(t).map(this.format):this.format(t),m(t,this.value)||this.$emit("input",t),e&&!m(t,this.startValue)&&this.$emit("change",t)},format:function(t){var e=+this.min,s=+this.max,i=+this.step;t=Object(d["c"])(t,e,s);var a=Math.round((t-e)/i)*i;return Object(d["a"])(e,a)}},render:function(){var t,e,s=this,i=arguments[0],n=this.vertical,o=n?"height":"width",r=n?"width":"height",d=(t={background:this.inactiveColor},t[r]=Object(a["a"])(this.barHeight),t),c=function(){var t=s.value,e=s.min,i=s.range,a=s.scope;return i?100*(t[1]-t[0])/a+"%":100*(t-e)/a+"%"},l=function(){var t=s.value,e=s.min,i=s.range,a=s.scope;return i?100*(t[0]-e)/a+"%":null},u=(e={},e[o]=c(),e.left=this.vertical?null:l(),e.top=this.vertical?l():null,e.background=this.activeColor,e);this.dragStatus&&(u.transition="none");var h=function(t){var e=["left","right"],a="number"===typeof t,n=a?s.value[t]:s.value,o=function(){return a?"button-wrapper-"+e[t]:"button-wrapper"},r=function(){return a?"wrapper"+t:"wrapper"},d=function(){if(a){var e=s.slots(0===t?"left-button":"right-button",{value:n});if(e)return e}return s.slots("button")?s.slots("button"):i("div",{class:v("button"),style:s.buttonStyle})};return i("div",{ref:r(),attrs:{role:"slider",tabindex:s.disabled?-1:0,"aria-valuemin":s.min,"aria-valuenow":s.value,"aria-valuemax":s.max,"aria-orientation":s.vertical?"vertical":"horizontal"},class:v(o()),on:{touchstart:function(){a&&(s.index=t)},click:function(t){return t.stopPropagation()}}},[d()])};return i("div",{style:d,class:v({disabled:this.disabled,vertical:n}),on:{click:this.onClick}},[i("div",{class:v("bar"),style:u},[this.range?[h(0),h(1)]:h()])])}})},"905d":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return t.info?e("div",{staticClass:"remove"},[e("div",{staticClass:"box"},[e("div",{staticClass:"content"},[e("div",{staticClass:"logos"},[e("div",[e("img",{attrs:{src:t.info.logo0}}),e("img",{attrs:{src:t.info.logo1}})]),e("span",[t._v(t._s(t.info.symbol0)+"/"+t._s(t.info.symbol1))])]),e("div",{staticClass:"info"},[e("div",[e("span",[t._v(t._s(t.info.symbol0))]),e("span",{domProps:{textContent:t._s(t.info.amount0.toFixed())}})]),e("div",[e("span",[t._v(t._s(t.info.symbol1))]),e("span",{domProps:{textContent:t._s(t.info.amount1.toFixed())}})]),e("div",[e("span",[t._v(t._s(t.$t("redemption.text2")))]),e("span",{domProps:{textContent:t._s(t.info.lp.toFixed())}})])]),e("div",{staticClass:"setting"},[e("span",[t._v(t._s(t.$t("redemption.text3")))]),e("span",[t._v(t._s(t.amountLP.toFixed()))]),e("van-slider",{attrs:{"active-color":"#02EAD0","inactive-color":"#252C32"},model:{value:t.prop,callback:function(e){t.prop=e},expression:"prop"}}),t._m(0)],1),e("div",{staticClass:"rate"},[e("span",{directives:[{name:"show",rawName:"v-show",value:!t.rateChanged,expression:"!rateChanged"}]},[t._v(t._s(t.$t("redemption.text5"))+" 1 "+t._s(t.info.symbol0)+" = "+t._s(t.rate.toFixed())+" "+t._s(t.info.symbol1))]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.rateChanged,expression:"rateChanged"}]},[t._v(t._s(t.$t("redemption.text5"))+" 1 "+t._s(t.info.symbol1)+" = "+t._s(t.reRate.toFixed())+" "+t._s(t.info.symbol0))])]),e("div",{staticClass:"coin"},[e("img",{attrs:{src:t.info.logo0}}),e("span",[t._v(t._s(t.amount0.toFixed())+" "+t._s(t.info.symbol0))])]),e("div",{staticClass:"coin"},[e("img",{attrs:{src:t.info.logo1}}),e("span",[t._v(t._s(t.amount1.toFixed())+" "+t._s(t.info.symbol1))])]),e("van-button",{attrs:{type:"info"},on:{click:t.approve}},[t._v(t._s(t.$t("redemption.text6")))])],1)]),e("van-overlay",{staticClass:"approve",attrs:{show:["approve","approved"].includes(t.state)}},[e("div",{staticClass:"before-transaction"},[e("span",[t._v(t._s(t.$t("NFTRedemption.text1")))]),e("div",{staticClass:"info"},[e("div",[e("span",{domProps:{textContent:t._s(t.info.symbol0)}}),e("span",{domProps:{textContent:t._s(t.amount0.toFixed(4))}})]),e("div",{staticClass:"addpicture"},[e("img",{attrs:{src:s("ad5c")}})]),e("div",[e("span",{domProps:{textContent:t._s(t.info.symbol1)}}),e("span",{domProps:{textContent:t._s(t.amount1.toFixed(4))}})])]),e("div",{staticClass:"message"},[e("ul",[e("li",{class:"approved"===t.state?"done":""},[e("i"),e("i"),e("span",[t._v(t._s(t.$t("NFTRedemption.text2"))+" "+t._s(t.info.symbol0)+"-"+t._s(t.info.symbol1)+"-LP")]),e("van-loading",{directives:[{name:"show",rawName:"v-show",value:"approve"===t.state,expression:"state === 'approve'"}],attrs:{type:"spinner",color:"#9FD9D0"}})],1),e("li",[t._v(t._s(t.$t("NFTRedemption.text3")))])])]),e("van-button",{directives:[{name:"show",rawName:"v-show",value:"approved"===t.state,expression:"state === 'approved'"}],on:{click:function(e){t.state="before"}}},[t._v(t._s(t.$t("NFTRedemption.text4")))]),e("van-button",{directives:[{name:"show",rawName:"v-show",value:"approve"===t.state,expression:"state === 'approve'"}],attrs:{disabled:"",loading:"","loading-text":t.$t("transacting"),"loading-type":"spinner"}})],1)]),e("van-overlay",{staticClass:"redemption-confirm",attrs:{show:["before","in","done"].includes(t.state)}},[e("div",{directives:[{name:"show",rawName:"v-show",value:["before","in"].includes(t.state),expression:"['before', 'in'].includes(state)"}],staticClass:"transaction"},[e("span",[t._v(t._s(t.$t("NFTRedemption.text6")))]),e("div",{staticClass:"tokens"},[e("div",[e("span",[t._v(t._s(t.info.symbol0))]),e("span",[t._v(t._s(t.amount0.toFixed(4)))])]),e("div",{staticClass:"addpicture"},[e("img",{attrs:{src:s("ad5c")}})]),e("div",[e("span",[t._v(t._s(t.info.symbol1))]),e("span",[t._v(t._s(t.amount1.toFixed(4)))])])]),e("div",{staticClass:"info"},[e("span",[t._v(t._s(t.$t("NFTRedemption.text7")))]),e("div",[e("span",[t._v("1 "+t._s(t.info.symbol0)+" ≈ "+t._s(t.rate.toFixed(4))+" "+t._s(t.info.symbol1))]),e("span",[t._v("1 "+t._s(t.info.symbol1)+" ≈ "+t._s(t.reRate.toFixed(4))+" "+t._s(t.info.symbol0))])]),e("span",[t._v(t._s(t.$t("NFTRedemption.text8")))]),e("div",[e("span",[t._v(t._s(t.amountLP.toFixed(4)))])])]),e("van-button",{directives:[{name:"show",rawName:"v-show",value:"before"===t.state,expression:"state === 'before'"}],on:{click:t.removeLiquidity}},[t._v(t._s(t.$t("NFTRedemption.text9")))]),e("van-button",{directives:[{name:"show",rawName:"v-show",value:"in"===t.state,expression:"state === 'in'"}],staticClass:"block",attrs:{disabled:"",loading:"","loading-type":"spinner","loading-text":t.$t("transacting")}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"done"===t.state,expression:"state === 'done'"}],staticClass:"transacted"},[e("img",{attrs:{src:s("6582")}}),e("span",[t._v(t._s(t.$t("NFTRedemption.text11")))]),e("div",{staticClass:"tokens"},[e("div",[e("span",[t._v(t._s(t.info.symbol0))]),e("span",[t._v(t._s(t.amount0.toFixed(4)))])]),e("div",{staticClass:"addpicture"},[e("img",{attrs:{src:s("ad5c")}})]),e("div",[e("span",[t._v(t._s(t.info.symbol1))]),e("span",[t._v(t._s(t.amount1.toFixed(4)))])])]),e("van-button",{on:{click:t.close}},[t._v(t._s(t.$t("NFTRedemption.text12")))]),e("span",[t._v(t._s(t.$t("NFTRedemption.text13")))])],1)])],1):t._e()},a=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"props"},[e("span",[t._v("0%")]),e("span",[t._v("25%")]),e("span",[t._v("50%")]),e("span",[t._v("75%")]),e("span",[t._v("100%")])])}],n=(s("14b9"),s("d774")),o=(s("4acf"),s("030d")),r=(s("714c"),s("7ed9")),d=(s("e47e"),s("7afe")),c={components:{"mk-navbar":()=>s.e("chunk-c1fd023c").then(s.bind(null,"0861")),[d["a"].name]:d["a"],[r["a"].name]:r["a"],[o["a"].name]:o["a"]},data(){return{prop:25,info:null,deadline:600,pairAddress:"",decimals0:0,decimals1:0,address0:"",address1:"",rate:0,reRate:0,rateChanged:!1,state:"none",allowance:0,contract:null}},computed:{amountLP(){return this.info?this.info.lp.toWei(18).toBN().div(100).times(this.prop).toFixed(0).fromWei(18):0},amount0(){return this.info?this.info.amount0.toWei(this.decimals0).toBN().div(100).times(this.prop).toFixed(0).fromWei(this.decimals0):0},amount1(){return this.info?this.info.amount1.toWei(this.decimals1).toBN().div(100).times(this.prop).toFixed(0).fromWei(this.decimals1):0}}},l=s("b9cc"),u={...c,created(){if(!this.$address)return!1;const{logo0:t,logo1:e,symbol0:s,symbol1:i,amount0:a,amount1:n,reserve0:o,reserve1:r,lp:d,address0:c,address1:l,decimals0:u,decimals1:h,pair:v}=JSON.parse(this.$route.query.info);this.info={logo0:t,logo1:e,symbol0:s,symbol1:i,amount0:a,amount1:n,lp:d},this.reserve0=o,this.reserve1=r,this.decimals0=u,this.decimals1=h,this.$address0=c,this.$address1=l,this.pair=v,this.init()},methods:{close(){this.state="none",this.$router.back()},init(){this.rate="1".toWei(this.decimals0).toBN().times(this.reserve1).div(this.reserve0).toFixed(0).fromWei(this.decimals1),this.reRate="1".toWei(this.decimals1).toBN().times(this.reserve0).div(this.reserve1).toFixed(0).fromWei(this.decimals0),this.contract=new this.$web3.eth.Contract(l,this.pair),this.contract.methods.allowance(this.$address,this.$Router._address).call((t,e)=>{t||(this.allowance=e.fromWei(18).toBN())})},approve(){if(this.allowance.gte(this.amountLP))return this.state="before";this.contract.methods.approve(this.$Router._address,this.amountLP.toWei(18).toBN().times(10).toFixed()).send({from:this.$address}).on("transactionHash",t=>{this.state="approve"}).on("receipt",t=>{this.state="approved"}).on("error",t=>{this.state="none"})},removeLiquidity(){if([this.info.symbol0,this.info.symbol1].includes("HT"))return this.removeLiquidityETH();const t=Math.floor((new Date).getTime()/1e3)+this.deadline;this.$Router.methods.removeLiquidity(this.$address0,this.$address1,this.amountLP.toWei(18),this.amount0.toWei(this.decimals0).toBN().times(.99).toFixed(0),this.amount1.toWei(this.decimals1).toBN().times(.99).toFixed(0),this.$address,t).send({from:this.$address}).on("transactionHash",t=>{this.state="in"}).on("receipt",t=>{this.state="done"}).on("error",t=>{this.state="none",n["a"].fail("暂无可赎回额度！")})},removeLiquidityETH(){const t=Math.floor((new Date).getTime()/1e3)+this.deadline,e="HT"===this.info.symbol0?"0":"1",s="HT"===this.info.symbol0?"1":"0";this.$Router.methods.removeLiquidityETH(this["address"+s],this.amountLP.toWei(18),this["amount"+s].toWei(this["decimals"+s]).toBN().times(.99).toFixed(0),this["amount"+e].toWei(this["decimals"+e]).toBN().times(.99).toFixed(0),this.$address,t).send({from:this.$address}).on("transactionHash",t=>{this.state="in"}).on("receipt",t=>{this.state="done"}).on("error",t=>{this.state="none",n["a"].fail("暂无可赎回额度！")})}}},h=u,v=h,m=(s("3dee"),s("df20"),s("c6fb")),p=Object(m["a"])(v,i,a,!1,null,"3b708c0d",null);e["default"]=p.exports},ad5c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAA4CAYAAADjLujzAAAAvUlEQVRYR+2XwQkCMRREZ46WYBXbijawNmEB692LdqANbAtaiDVYwogQFxExfwNGWCeQUz6Z8Hg/IUSlwUo5cFAxaaMzuoGAZbAMlqHYAaOriE5SA2CRIk8kz2Piw3edpBbAIW3ekdw4KETA6F4xTdg6SZeMFTMA81RzBXCfn8aaZP8oGNBJUki/eNGK5PF3QbmDuo/+qI8swzdf2CWAbUK8I7nP4X5eD9/eYzZ9V+ugYoJGZ3T+iBU7MGF0N4YWaznZlWnAAAAAAElFTkSuQmCC"},ae5b:function(t,e,s){},ca92:function(t,e,s){},df20:function(t,e,s){"use strict";s("ca92")},e47e:function(t,e,s){"use strict";s("1933"),s("76c4")}}]);