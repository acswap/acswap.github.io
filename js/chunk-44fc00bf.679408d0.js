(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44fc00bf"],{"06c5":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("fb6a"),n("d3b7"),n("b0c0"),n("a630"),n("3ca3");var r=n("6b75");function o(t,e){if(t){if("string"===typeof t)return Object(r["a"])(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r["a"])(t,e):void 0}}},"277d":function(t,e,n){var r=n("23e7"),o=n("e8b5");r({target:"Array",stat:!0},{isArray:o})},3835:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("277d");function r(t){if(Array.isArray(t))return t}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0");function o(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(r=n.next()).done);i=!0)if(a.push(r.value),e&&a.length===e)break}catch(c){s=!0,o=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(s)throw o}}return a}}var a=n("06c5");function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){return r(t)||o(t,e)||Object(a["a"])(t,e)||i()}},"4df4":function(t,e,n){"use strict";var r=n("0366"),o=n("7b0b"),a=n("9bdd"),i=n("e95a"),s=n("50c4"),c=n("8418"),u=n("35a1");t.exports=function(t){var e,n,d,l,p,f,v=o(t),m="function"==typeof this?this:Array,h=arguments.length,g=h>1?arguments[1]:void 0,w=void 0!==g,y=u(v),$=0;if(w&&(g=r(g,h>2?arguments[2]:void 0,2)),void 0==y||m==Array&&i(y))for(e=s(v.length),n=new m(e);e>$;$++)f=w?g(v[$],$):v[$],c(n,$,f);else for(l=y.call(v),p=l.next,n=new m;!(d=p.call(l)).done;$++)f=w?a(l,g,[d.value,$],!0):d.value,c(n,$,f);return n.length=$,n}},"6b75":function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},"982c":function(t,e,n){t.exports=n.p+"img/select-btn-dark.4411a6c3.svg"},"9bdd":function(t,e,n){var r=n("825a"),o=n("2a62");t.exports=function(t,e,n,a){try{return a?e(r(n)[0],n[1]):e(n)}catch(i){throw o(t),i}}},a630:function(t,e,n){var r=n("23e7"),o=n("4df4"),a=n("1c7e"),i=!a((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:i},{from:o})},afd5:function(t,e,n){},b0c0:function(t,e,n){var r=n("83ab"),o=n("9bf2").f,a=Function.prototype,i=a.toString,s=/^\s*function ([^ (]*)/,c="name";r&&!(c in a)&&o(a,c,{configurable:!0,get:function(){try{return i.call(this).match(s)[1]}catch(t){return""}}})},b7eb:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:"power-mining "+t.theme},[r("div",{staticClass:"container"},[r("div",{staticClass:"title"},[r("div",{staticClass:"content"},[r("span",[t._v(t._s(t.$t("powerMining.text1")))]),r("span",[t._v(t._s(t.$t("powerMining.text2")))])]),r("div",{staticClass:"buttons"},[r("span",[t._v(t._s(t.$t("powerMining.text3")))]),r("span",[t._v("60X")])])]),r("div",{staticClass:"info"},[r("div",[r("span",[t._v(t._s(t.$t("powerMining.text4")))]),r("span",[t._v(t._s(t.poolTotalSuppy.toFixed(4)))])]),r("div",[r("span",[t._v(t._s(t.$t("powerMining.text5")))]),r("span",[t._v(t._s(t.todayOutput))])]),r("div",[r("span",[t._v(t._s(t.$t("powerMining.text6")))]),r("span",[t._v(t._s(t.myForce.toFixed(4)))])])]),r("div",{staticClass:"lable"},[r("span",[t._v(t._s(t.$t("powerMining.text7")))]),r("span",[t._v(t._s(t.$t("powerMining.text8"))+" "),r("span",[t._v(t._s(t.acBalance.toFixed(4)))]),t._v(" AC")])]),r("div",{staticClass:"amount"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],attrs:{type:"number",placeholder:t.$t("powerMining.text9")},domProps:{value:t.amount},on:{input:[function(e){e.target.composing||(t.amount=e.target.value)},t.input]}}),t._m(0)]),r("div",{staticClass:"get-power"},[r("span",[t._v(t._s(t.$t("powerMining.text10")))]),r("span",[t._v(t._s(t.destoryGetPower.toFixed(4)))])]),r("div",{staticClass:"receiver-container"},[r("div",{staticClass:"receiver"},[r("span",[t._v(t._s(t.$t("powerMining.text11")))]),r("div",{on:{click:function(e){t.showOptions=!t.showOptions}}},[r("span",[t._v(t._s(t.receiver))]),r("img",{attrs:{src:n("982c")}}),r("div",{directives:[{name:"show",rawName:"v-show",value:t.showOptions,expression:"showOptions"}],staticClass:"options"},[r("span",{on:{click:function(e){return t.switchReceiver("自己")}}},[t._v(t._s(t.$t("powerMining.text12")))]),r("span",{on:{click:function(e){return t.switchReceiver("他人")}}},[t._v(t._s(t.$t("powerMining.text13")))])]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.showOptions,expression:"showOptions"}],staticClass:"overlay",on:{click:function(e){e.stopPropagation(),t.showOptions=!1}}})])]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.toAddress,expression:"toAddress"}],attrs:{type:"text",placeholder:t.$t("powerMining.text14"),readonly:t.receiver===t.$t("powerMining.text12")},domProps:{value:t.toAddress},on:{input:function(e){e.target.composing||(t.toAddress=e.target.value)}}})]),r("button",{staticClass:"ant-btn ",attrs:{loading:t.trading,disabled:0===t.amount.length||t.trading},on:{click:t.burnBasisToken}},[t._v(t._s(t.btnText))])])])},o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("img",{attrs:{src:n("f387")}}),r("span",[t._v("AC")])])}],a=n("3835"),i=n("1da1"),s=n("5530"),c=(n("96cf"),n("a9e3"),n("4795"),n("b680"),n("aca7")),u={data:function(){return{showOptions:!1,address:this.$address,poolTotalSuppy:"0",todayOutput:"0",myForce:"0",acBalance:"0",amount:"",inputing:!1,destoryGetPower:"0",receiver:this.$t("powerMining.text12"),toAddress:"",acAllowance:"0",trading:!1}},computed:Object(s["a"])(Object(s["a"])({},Vuex.mapState(["slippage","deadline","theme"])),{},{btnText:function(){return this.amount.toBN().gt(this.acBalance)?vant.Toast.fail(this.$t("powerMining.text19")):this.trading?this.$t("powerMining.text15"):0===this.amount.length?this.$t("powerMining.text9"):this.amount.toBN().gt(this.acAllowance)?this.$t("powerMining.text16"):this.$t("powerMining.text17")}}),created:function(){this.init()},methods:{init:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.toAddress=t.$address,n=new t.$web3.BatchRequest,e.t0=Number,e.next=5,t.$web3.eth.getBlock("latest");case 5:e.t1=e.sent.timestamp,r=(0,e.t0)(e.t1),o=86400*Math.floor(r/86400)+1,o+86400,n.add(t.$contracts.Farm.methods.pools(c["a"].FORCE).call.request({from:t.$address})),n.add(t.$contracts.Farm.methods.getTodayOutPut().call.request({from:t.$address})),n.add(t.$contracts.ACToken.methods.balanceOf(t.$address).call.request({from:t.$address})),n.add(t.$contracts.ACToken.methods.allowance(t.$address,t.$contracts.Govern.options.address).call.request({from:t.$address})),n.add(t.$contracts.Farm.methods.userPoolInfo(c["a"].FORCE,t.$address).call.request({from:t.$address})),n.requestManager.sendBatch(n.requests,(function(e,n){if(!e){var r=("string"===typeof n[0]?n[0]:n[0].result).decode([{name:"token",type:"address"},{name:"allocPoint",type:"uint256"},{name:"lastTime",type:"uint256"},{name:"totalSupply",type:"uint256"},{name:"accTokenPerShare",type:"uint256"},{name:"types",type:"uint8"},{name:"extraReward",type:"address"}]),o=n[4].result.decode([{name:"supply",type:"uint256"},{name:"reward",type:"uint256"},{name:"taked",type:"uint256"},{name:"rewardDebt",type:"uint256"}]);t.poolTotalSuppy=r.totalSupply.fromWei(),t.todayOutput=n[1].result.fromWei(),t.myForce=o.supply.fromWei(),t.acBalance=n[2].result.fromWei(),t.acAllowance=n[3].result.fromWei()}}));case 15:case"end":return e.stop()}}),e)})))()},switchReceiver:function(t){this.receiver="自己"===t?this.$t("powerMining.text12"):this.$t("powerMining.text13"),this.receiver===this.$t("powerMining.text12")?this.toAddress=this.$address:this.toAddress=""},input:function(){var t=this;if(!this.inputing){if(this.amount.length<=0||this.amount.toBN().lte(0))return this.destoryGetPower="0",void(this.inputing=!1);this.inputing=!0;var e=setTimeout((function(){if(t.amount.length<=0||t.amount.toBN().lte(0))return t.destoryGetPower="0",t.inputing=!1,void clearTimeout(e);t.$contracts.Multicall.methods.aggregate([[t.$contracts.Govern.options.address,t.$contracts.Govern.methods.getForceByBasisToken(t.amount.toWei()).encodeABI()],[t.$contracts.Oracle.options.address,t.$contracts.Oracle.methods.getTokenPrice(t.$contracts.ACToken.options.address,"1".toWei()).encodeABI()]]).call({from:t.$address},(function(n,r){if(!n){if(t.amount.length<=0||t.amount.toBN().lte(0))return t.amountUSD="0",t.destoryGetPower="0",t.inputing=!1,void clearTimeout(e);var o=Object(a["a"])(r.returnData,2),i=o[0],s=o[1];t.destoryGetPower=i.fromWei(),t.amountUSD=s.toBN().times(t.amount).toFixed().fromWei(),t.inputing=!1,clearTimeout(e)}}))}),500)}},approve:function(){var t=this;this.$contracts.ACToken.methods.approve(this.$contracts.Govern.options.address,this.amount.toBN().times(10).toFixed().toWei()).send({from:this.$address}).on("transactionHash",(function(e){t.trading=!0})).on("receipt",function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$contracts.ACToken.methods.allowance(t.$address,t.$contracts.Govern.options.address).call({from:t.$address});case 2:r=e.sent,t.acAllowance=r.fromWei(),vant.Toast.success(t.$t("powerMining.text18")),t.trading=!1;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).on("error",(function(e){t.trading=!1}))},burnBasisToken:function(){var t=this;if(this.amount.toBN().gt(this.acBalance))vant.Toast.fail(this.$t("powerMining.text19"));else if(this.$web3.utils.isAddress(this.toAddress)){if(this.acAllowance.toBN().lt(this.amount))return this.approve();var e=this.$contracts.Govern.methods.burnBasisToken(this.amount.toWei(),this.$address);e.call({from:this.$address},(function(n,r){n||e.send({from:t.$address}).on("transactionHash",(function(e){t.trading=!0})).on("receipt",(function(e){vant.Toast.success(t.$t("powerMining.text21")),t.$emit("reload"),t.init(),t.amount="",t.destoryGetPower="0",t.trading=!1})).on("error",(function(e){t.trading=!1}))}))}else vant.Toast.fail(this.$t("powerMining.text20"))}}},d=u,l=d,p=(n("f943"),n("2877")),f=Object(p["a"])(l,r,o,!1,null,"39c9caaa",null);e["default"]=f.exports},d28b:function(t,e,n){var r=n("746f");r("iterator")},e01a:function(t,e,n){"use strict";var r=n("23e7"),o=n("83ab"),a=n("da84"),i=n("5135"),s=n("861d"),c=n("9bf2").f,u=n("e893"),d=a.Symbol;if(o&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var l={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new d(t):void 0===t?d():d(t);return""===t&&(l[e]=!0),e};u(p,d);var f=p.prototype=d.prototype;f.constructor=p;var v=f.toString,m="Symbol(test)"==String(d("test")),h=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=v.call(t);if(i(l,t))return"";var n=m?e.slice(7,-1):e.replace(h,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:p})}},f387:function(t,e,n){t.exports=n.p+"img/nft-token.834fd726.svg"},f943:function(t,e,n){"use strict";n("afd5")}}]);