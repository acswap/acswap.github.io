(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["liquidity"],{"0b5f":function(t,e,s){},"0d03":function(t,e,s){var n=s("6eeb"),i=Date.prototype,a="Invalid Date",o="toString",r=i[o],d=i.getTime;new Date(NaN)+""!=a&&n(i,o,(function(){var t=d.call(this);return t===t?r.call(this):a}))},2363:function(t,e,s){"use strict";s("a17a")},2532:function(t,e,s){"use strict";var n=s("23e7"),i=s("5a34"),a=s("1d80"),o=s("ab13");n({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(a(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},"3d9a":function(t,e,s){"use strict";s("0b5f")},"44e7":function(t,e,s){var n=s("861d"),i=s("c6b6"),a=s("b622"),o=a("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},"5a34":function(t,e,s){var n=s("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},6501:function(t,e,s){t.exports=s.p+"img/liquidity.9e34cd9f.svg"},6582:function(t,e,s){t.exports=s.p+"img/success.b5ad3b68.png"},"877d":function(t,e,s){"use strict";s("b5c3")},"905d":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.info?n("div",{staticClass:"remove"},[n("div",{staticClass:"box"},[n("div",{class:1==t.$ccstyle1?"content":"content1"},[n("div",{staticClass:"logos"},[n("div",[n("img",{attrs:{src:t.info.logo0}}),n("img",{attrs:{src:t.info.logo1}})]),n("span",[t._v(t._s(t.info.symbol0)+"/"+t._s(t.info.symbol1))])]),n("div",{staticClass:"info"},[n("div",[n("span",[t._v(t._s(t.info.symbol0))]),n("span",{domProps:{textContent:t._s(t.info.amount0.toFixed(4))}})]),n("div",[n("span",[t._v(t._s(t.info.symbol1))]),n("span",{domProps:{textContent:t._s(t.info.amount1.toFixed(4))}})]),n("div",[n("span",[t._v(t._s(t.$t("redemption.text2")))]),n("span",{domProps:{textContent:t._s(t.info.lp.toFixed(4))}})])]),n("div",{staticClass:"setting"},[n("span",[t._v(t._s(t.$t("redemption.text3")))]),n("span",[t._v(t._s(t.amountLP.toFixed(4)))]),t.$ccstyle1?n("van-slider",{attrs:{"active-color":"#02EAD0","inactive-color":"#252C32"},model:{value:t.prop,callback:function(e){t.prop=e},expression:"prop"}}):n("van-slider",{attrs:{"active-color":"#02EAD0","inactive-color":"#E4E4E4"},model:{value:t.prop,callback:function(e){t.prop=e},expression:"prop"}}),t._m(0)],1),n("div",{staticClass:"rate"},[n("span",{directives:[{name:"show",rawName:"v-show",value:!t.rateChanged,expression:"!rateChanged"}]},[t._v(t._s(t.$t("redemption.text5"))+" 1 "+t._s(t.info.symbol0)+" = "+t._s(t.rate.toFixed(4))+" "+t._s(t.info.symbol1))]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.rateChanged,expression:"rateChanged"}]},[t._v(t._s(t.$t("redemption.text5"))+" 1 "+t._s(t.info.symbol1)+" = "+t._s(t.reRate.toFixed(4))+" "+t._s(t.info.symbol0))])]),n("div",{staticClass:"coin"},[n("img",{attrs:{src:t.info.logo0}}),n("span",[t._v(t._s(t.amount0.toFixed(4))+" "+t._s(t.info.symbol0))])]),n("div",{staticClass:"coin"},[n("img",{attrs:{src:t.info.logo1}}),n("span",[t._v(t._s(t.amount1.toFixed(4))+" "+t._s(t.info.symbol1))])]),n("van-button",{attrs:{type:"info"},on:{click:t.approve}},[t._v(t._s(t.$t("redemption.text6")))])],1)]),n("van-overlay",{staticClass:"approve",attrs:{show:["approve","approved"].includes(t.state)}},[n("div",{class:1==t.$ccstyle1?"before-transaction":"before-transaction1"},[n("span",[t._v(t._s(t.$t("NFTRedemption.text1")))]),n("div",{staticClass:"info"},[n("div",[n("span",{domProps:{textContent:t._s(t.info.symbol0)}}),n("span",{domProps:{textContent:t._s(t.token0.toFixed(4))}})]),n("div",{staticClass:"addpicture"},[n("img",{attrs:{src:s("ad5c")}})]),n("div",[n("span",{domProps:{textContent:t._s(t.info.symbol1)}}),n("span",{domProps:{textContent:t._s(t.token1.toFixed(4))}})])]),n("div",{staticClass:"message"},[n("ul",[n("li",{class:"approved"===t.state?"done":""},[n("i"),n("i"),n("span",[t._v(t._s(t.$t("NFTRedemption.text2"))+" "+t._s(t.info.symbol0)+"-"+t._s(t.info.symbol1)+"-LP")]),n("van-loading",{directives:[{name:"show",rawName:"v-show",value:"approve"===t.state,expression:"state === 'approve'"}],attrs:{type:"spinner",color:"#9FD9D0"}})],1),n("li",[t._v(t._s(t.$t("NFTRedemption.text3")))])])]),n("van-button",{directives:[{name:"show",rawName:"v-show",value:"approved"===t.state,expression:"state === 'approved'"}],on:{click:function(e){t.state="before"}}},[t._v(t._s(t.$t("NFTRedemption.text4")))]),n("van-button",{directives:[{name:"show",rawName:"v-show",value:"approve"===t.state,expression:"state === 'approve'"}],attrs:{disabled:"",loading:"","loading-text":t.title,"loading-type":"spinner"}})],1)]),n("van-overlay",{staticClass:"redemption-confirm",attrs:{show:["before","in","done"].includes(t.state)}},[n("div",{directives:[{name:"show",rawName:"v-show",value:["before","in"].includes(t.state),expression:"['before', 'in'].includes(state)"}],class:1==t.$ccstyle1?"transaction":"transaction1"},[n("span",[t._v(t._s(t.$t("NFTRedemption.text6")))]),n("div",{staticClass:"tokens"},[n("div",[n("span",[t._v(t._s(t.info.symbol0))]),n("span",[t._v(t._s(t.token0.toFixed(4)))])]),n("div",{staticClass:"addpicture"},[n("img",{attrs:{src:s("ad5c")}})]),n("div",[n("span",[t._v(t._s(t.info.symbol1))]),n("span",[t._v(t._s(t.token1.toFixed(4)))])])]),n("div",{staticClass:"info"},[n("span",[t._v(t._s(t.$t("NFTRedemption.text7")))]),n("div",[n("span",[t._v("1 "+t._s(t.info.symbol0)+"="+t._s(t.rate.toFixed(6))+" "+t._s(t.info.symbol1))]),n("span",[t._v("1 "+t._s(t.info.symbol1)+"="+t._s(t.reRate.toFixed(6))+" "+t._s(t.info.symbol0))])]),n("span",[t._v(t._s(t.$t("NFTRedemption.text8")))]),n("div",[n("span",[t._v(t._s(t.amountLP.toFixed(6)))])])]),n("van-button",{directives:[{name:"show",rawName:"v-show",value:"before"===t.state,expression:"state === 'before'"}],on:{click:t.removeLiquidity}},[t._v(t._s(t.$t("NFTRedemption.text9")))]),n("van-button",{directives:[{name:"show",rawName:"v-show",value:"in"===t.state,expression:"state === 'in'"}],staticClass:"block",attrs:{disabled:"",loading:"","loading-type":"spinner","loading-text":t.title1}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:"done"===t.state,expression:"state === 'done'"}],class:1==t.$ccstyle1?"transacted":"transacted1"},[n("img",{attrs:{src:s("6582")}}),n("span",[t._v(t._s(t.$t("NFTRedemption.text11")))]),n("div",{staticClass:"tokens"},[n("div",[n("span",[t._v(t._s(t.info.symbol0))]),n("span",[t._v(t._s(t.token0.toFixed(4)))])]),n("div",{staticClass:"addpicture"},[n("img",{attrs:{src:s("ad5c")}})]),n("div",[n("span",[t._v(t._s(t.info.symbol1))]),n("span",[t._v(t._s(t.token1.toFixed(4)))])])]),n("van-button",{on:{click:t.close}},[t._v(t._s(t.$t("NFTRedemption.text12")))]),n("span",[t._v(t._s(t.$t("NFTRedemption.text13")))])],1)])],1):t._e()},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"props"},[s("span",[t._v("0%")]),s("span",[t._v("25%")]),s("span",[t._v("50%")]),s("span",[t._v("75%")]),s("span",[t._v("100%")])])}],a=s("5530"),o=(s("b680"),s("caad"),s("2532"),s("0d03"),s("d3b7"),s("3ca3"),s("ddb0"),{components:{"mk-navbar":function(){return s.e("redemption").then(s.bind(null,"0861"))}},data:function(){return{prop:25,info:null,deadline:600,pairAddress:"",decimals0:0,decimals1:0,address0:"",address1:"",rate:0,reRate:0,rateChanged:!1,state:"none",allowance:0,contract:null}},computed:{amountLP:function(){return this.info?this.info.lp.toWei(18).toBN().div(100).times(this.prop).toFixed(0).fromWei(18):0},amount0:function(){return this.info?this.info.amount0.toWei(this.decimals0).toBN().div(100).times(this.prop).toFixed(0).fromWei(this.decimals0):0},amount1:function(){return this.info?this.info.amount1.toWei(this.decimals1).toBN().div(100).times(this.prop).toFixed(0).fromWei(this.decimals1):0}}}),r=s("b9cc"),d=Object(a["a"])(Object(a["a"])({},o),{},{created:function(){if(!this.$address)return!1;var t=JSON.parse(this.$route.query.info),e=t.logo0,s=t.logo1,n=t.symbol0,i=t.symbol1,a=t.amount0,o=t.amount1,r=t.reserve0,d=t.reserve1,c=t.lp,u=t.address0,l=t.address1,p=t.decimals0,m=t.decimals1,h=t.pair;this.info={logo0:e,logo1:s,symbol0:n,symbol1:i,amount0:a,amount1:o,lp:c},this.reserve0=r,this.reserve1=d,this.decimals0=p,this.decimals1=m,this.$address0=u,this.$address1=l,this.pair=h,this.init()},methods:{close:function(){this.state="none",this.$router.back()},init:function(){var t=this;this.rate="1".toWei(this.decimals0).toBN().times(this.reserve1).div(this.reserve0).toFixed(0).fromWei(this.decimals1),this.reRate="1".toWei(this.decimals1).toBN().times(this.reserve0).div(this.reserve1).toFixed(0).fromWei(this.decimals0),this.contract=new this.$web3.eth.Contract(r,this.pair),this.contract.methods.allowance(this.$address,this.$Router._address).call((function(e,s){e||(t.allowance=s.fromWei(18).toBN())}))},approve:function(){var t=this;if(this.allowance.gte(this.amountLP))return this.state="before";this.contract.methods.approve(this.$Router._address,this.amountLP.toWei(18).toBN().times(10).toFixed()).send({from:this.$address}).on("transactionHash",(function(e){t.state="approve"})).on("receipt",(function(e){t.state="approved"})).on("error",(function(e){t.state="none"}))},removeLiquidity:function(){var t=this;if([this.info.symbol0,this.info.symbol1].includes("HT"))return this.removeLiquidityETH();var e=Math.floor((new Date).getTime()/1e3)+this.deadline;this.$Router.methods.removeLiquidity(this.$address0,this.$address1,this.amountLP.toWei(18),this.amount0.toWei(this.decimals0).toBN().times(.99).toFixed(0),this.amount1.toWei(this.decimals1).toBN().times(.99).toFixed(0),this.$address,e).send({from:this.$address}).on("transactionHash",(function(e){t.state="in"})).on("receipt",(function(e){t.state="done"})).on("error",(function(e){t.state="none",vant.Toast.fail("暂无可赎回额度！")}))},removeLiquidityETH:function(){var t=this,e=Math.floor((new Date).getTime()/1e3)+this.deadline,s="HT"===this.info.symbol0?"0":"1",n="HT"===this.info.symbol0?"1":"0";this.$Router.methods.removeLiquidityETH(this["address".concat(n)],this.amountLP.toWei(18),this["amount".concat(n)].toWei(this["decimals".concat(n)]).toBN().times(.99).toFixed(0),this["amount".concat(s)].toWei(this["decimals".concat(s)]).toBN().times(.99).toFixed(0),this.$address,e).send({from:this.$address}).on("transactionHash",(function(e){t.state="in"})).on("receipt",(function(e){t.state="done"})).on("error",(function(e){t.state="none",vant.Toast.fail("暂无可赎回额度！")}))}}}),c=d,u=c,l=(s("3d9a"),s("2363"),s("2877")),p=Object(l["a"])(u,n,i,!1,null,"517ace19",null);e["default"]=p.exports},"91fe":function(t,e,s){t.exports=s.p+"img/no-deals.e441ef00.svg"},"9e58":function(t,e,s){t.exports=s.p+"img/Thearrow1.96d1b689.svg"},a17a:function(t,e,s){},ab13:function(t,e,s){var n=s("b622"),i=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(s){try{return e[i]=!1,"/./"[t](e)}catch(n){}}return!1}},aca7:function(t,e,s){"use strict";s.d(e,"i",(function(){return c})),s.d(e,"e",(function(){return l})),s.d(e,"b",(function(){return p})),s.d(e,"f",(function(){return m})),s.d(e,"g",(function(){return f})),s.d(e,"a",(function(){return y})),s.d(e,"c",(function(){return g})),s.d(e,"d",(function(){return x})),s.d(e,"j",(function(){return w})),s.d(e,"h",(function(){return k}));var n=s("1da1"),i=(s("96cf"),s("4de4"),s("fb6a"),s("caad"),s("2532"),s("d3b7"),s("0d03"),s("99af"),function(t){var e=3600*Math.floor(new Date/1e3/3600);return JSON.stringify({query:'query pair {\n            pair(id: "'.concat(t,'") {\n                pairHourData(\n                    where: {\n                        hourStartUnix_gte: ').concat(e-86400,"\n                        hourStartUnix_lte: ").concat(e,"\n                    }\n                ) {\n                    hourlyVolumeUSD\n                    hourlyTxns\n                }\n            }\n        }")})});function a(t){return JSON.stringify({query:"query poolTransactions($address: Bytes!) {\n            mints(first: 35, orderBy: timestamp, orderDirection: desc, where: {\n                pair: $address\n            }) {\n                id\n                timestamp\n                amount0\n                amount1\n            }\n            swaps(first: 35, orderBy: timestamp, orderDirection: desc, where: {\n                pair: $address\n            }) {\n                id\n                timestamp\n                amount0In\n                amount1In\n                amount0Out\n                amount1Out\n            }\n            burns(first: 35, orderBy: timestamp, orderDirection: desc, where: {\n                pair: $address\n            }) {\n                id\n                timestamp\n                amount0\n                amount1\n            }\n        }",variables:{address:t}})}function o(t,e){return r.apply(this,arguments)}function r(){return r=Object(n["a"])(regeneratorRuntime.mark((function t(e,s){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s){t.next=6;break}return t.next=3,fetch(e,{cache:"reload"});case 3:t.t0=t.sent,t.next=9;break;case 6:return t.next=8,fetch(e,{cache:"reload",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:s});case 8:t.t0=t.sent;case 9:return n=t.t0,t.next=12,n.json();case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}}),t)}))),r.apply(this,arguments)}var d={"0x18cbafe5":"swapExactTokensForETH","0x7ff36ab5":"swapExactETHForTokens","0x38ed1739":"swapExactTokensForTokens","0xb6f9de95":"swapExactETHForTokensSupportingFeeOnTransferTokens","0x5c11d795":"swapExactTokensForTokensSupportingFeeOnTransferTokens","0x791ac947":"swapExactTokensForETHSupportingFeeOnTransferTokens"},c=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o("https://api.bscscan.com/api?module=account&action=txlist&address=".concat(e,"&startblock=0&endblock=latest&sort=desc&apikey=YourApiKeyToken"));case 2:return s=t.sent.result,t.abrupt("return",s.filter((function(t){return Object.hasOwnProperty.call(d,t.input.slice(0,10))})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u="https://bsc.streamingfast.io/subgraphs/name/pancakeswap/exchange-v2",l=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o(u,i(e));case 2:return t.abrupt("return",t.sent.data.pair);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p={LP:0,FORCE:1,BOARD:2,NFT:3};function m(t){return h.apply(this,arguments)}function h(){return h=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o(u,a(e));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}function f(t){return v.apply(this,arguments)}function v(){return v=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o(u,b(e));case 2:return t.abrupt("return",t.sent.data.pair);case 3:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}function b(t){return JSON.stringify({query:'query pair {\n            pair(id: "'.concat(t,'") {\n                reserveUSD\n            }\n        }')})}var y={address:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",decimals:18,logoURI:"https://chainconfig.github.io/bsc/tokens/0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c.png",symbol:"BNB"},g={address:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",decimals:18,logoURI:"https://chainconfig.github.io/bsc/tokens/0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c.png",symbol:"BNB"},x={name:"Binance Pegged USDT",address:"0x55d398326f99059fF775485246999027B3197955",decimals:18,logoURI:"https://chainconfig.github.io/bsc/tokens/0x55d398326f99059fF775485246999027B3197955.png",symbol:"USDT"},w=[{symbol:"BNB",address:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",logoURI:"https://chainconfig.github.io/bsc/tokens/0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c.png"},{symbol:"BUSD",address:"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56",logoURI:"https://chainconfig.github.io/bsc/tokens/0xe9e7cea3dedca5984780bafc599bd69add087d56.png"},{symbol:"USDT",address:"0x55d398326f99059fF775485246999027B3197955",logoURI:"https://chainconfig.github.io/bsc/tokens/0x55d398326f99059fF775485246999027B3197955.png"},{symbol:"USDC",address:"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d",logoURI:"https://chainconfig.github.io/bsc/tokens/0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d.png"},{symbol:"ETH",address:"0x2170Ed0880ac9A755fd29B2688956BD959F933F8",logoURI:"https://chainconfig.github.io/bsc/tokens/0x2170Ed0880ac9A755fd29B2688956BD959F933F8.png"},{symbol:"CAKE",address:"0x0E09FaBB73Bd3Ade0a17ECC321fD13a19e81cE82",logoURI:"https://chainconfig.github.io/bsc/tokens/0x0e09fabb73bd3ade0a17ecc321fd13a19e81ce82.png"},{symbol:"DAI",address:"0x1AF3F329e8BE154074D8769D1FFa4eE058B1DBc3",logoURI:"https://chainconfig.github.io/bsc/tokens/0x1AF3F329e8BE154074D8769D1FFa4eE058B1DBc3.png"}];function k(t,e){for(var s=w.filter((function(s){return![t.symbol,e.symbol].includes(s.symbol)})),n=[[t,e]],i=0;i<s.length;i++){n.push([t,s[i],e]);for(var a=i+1;a<s.length;a++)n.push([t,s[i],s[a],e])}return n}},ad5c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAA4CAYAAADjLujzAAAAvUlEQVRYR+2XwQkCMRREZ46WYBXbijawNmEB692LdqANbAtaiDVYwogQFxExfwNGWCeQUz6Z8Hg/IUSlwUo5cFAxaaMzuoGAZbAMlqHYAaOriE5SA2CRIk8kz2Piw3edpBbAIW3ekdw4KETA6F4xTdg6SZeMFTMA81RzBXCfn8aaZP8oGNBJUki/eNGK5PF3QbmDuo/+qI8swzdf2CWAbUK8I7nP4X5eD9/eYzZ9V+ugYoJGZ3T+iBU7MGF0N4YWaznZlWnAAAAAAElFTkSuQmCC"},b5c3:function(t,e,s){},b9cc:function(t){t.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"address","name":"pauser","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"uint8","name":"decimal","type":"uint8"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"new_operator","type":"address"},{"internalType":"address","name":"new_pauser","type":"address"}],"name":"changeUser","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},c20d:function(t,e,s){var n=s("da84"),i=s("58a8").trim,a=s("5899"),o=n.parseInt,r=/^[+-]?0[Xx]/,d=8!==o(a+"08")||22!==o(a+"0x16");t.exports=d?function(t,e){var s=i(String(t));return o(s,e>>>0||(r.test(s)?16:10))}:o},caad:function(t,e,s){"use strict";var n=s("23e7"),i=s("4d64").includes,a=s("44d2");n({target:"Array",proto:!0},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},df8f:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add"},[n("div",{staticClass:"box"},[n("div",{staticClass:"just-swap"},[n("div",{class:t.$ccstyle1?"content":"content1"},[n("div",{staticClass:"form"},[n("div",{staticClass:"input"},[n("div",{on:{click:function(e){return t.openSearch("token0")}}},[n("img",{attrs:{src:t.token0.logoURI}}),n("span",[t._v(t._s(t.token0.symbol))]),t.$ccstyle1?n("img",{attrs:{src:s("9e58")}}):t._e()]),n("span",[t._v(t._s(t.balance0.toFixed(4)))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.amount0,expression:"amount0"}],attrs:{type:"number",placeholder:"0"},domProps:{value:t.amount0},on:{input:[function(e){e.target.composing||(t.amount0=e.target.value)},t.inputAmount0]}})]),n("img",{attrs:{src:s("6501")}}),n("div",{staticClass:"input"},[n("div",{on:{click:function(e){return t.openSearch("token1")}}},[n("img",{attrs:{src:t.token1.logoURI}}),n("span",[t._v(t._s(t.token1.symbol))]),t.$ccstyle1?n("img",{attrs:{src:s("9e58")}}):t._e()]),n("span",[t._v(t._s(t.balance1.toFixed(4)))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.amount1,expression:"amount1"}],attrs:{type:"number",placeholder:"0"},domProps:{value:t.amount1},on:{input:[function(e){e.target.composing||(t.amount1=e.target.value)},t.inputAmount1]}})])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.amount0.toBN().gt(0)&&t.pairAddress,expression:"amount0.toBN().gt(0) && pairAddress"}],staticClass:"info"},[n("div",{staticClass:"info-item rate"},[n("span",{directives:[{name:"show",rawName:"v-show",value:!t.rerate,expression:"!rerate"}]},[t._v(t._s(t.$t("joinFundPool.text5")+" 1 "+t.token0.symbol+"≈"+t.rate1.toFixed(4)+" "+t.token1.symbol))]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.rerate,expression:"rerate"}]},[t._v(t._s(t.$t("joinFundPool.text5")+" 1 "+t.token1.symbol+"≈"+t.rate0.toFixed(4)+" "+t.token0.symbol))]),n("img",{attrs:{src:s("fe12")},on:{click:function(e){t.rerate=!t.rerate}}})]),n("span",{staticClass:"info-item"},[t._v("AMM cake v2")]),n("span",{staticClass:"info-item"},[t._v(t._s(t.$t("add.text1"))+" $"+t._s(t.reserveUSD))]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.amount0.toBN().gt(0),expression:"amount0.toBN().gt(0)"}],staticClass:"info-item"},[t._v(t._s(t.$t("add.text2"))+" "+t._s(t.poolProp))])]),n("van-button",{on:{click:t.addLiquidity}},[t._v(t._s(t.btnText))])],1),n("search-tokens",{ref:"searchTokens",on:{select:t.select}}),n("fundpool-state",{attrs:{state:t.state,token0:{amount:t.amount0,symbol:t.token0.symbol},token1:{amount:t.amount1,symbol:t.token1.symbol},waitApprove:t.waitApprove,lp:t.liquidity,rate:t.rate1,reRate:t.rate0,prop:t.poolProp},on:{addLiquidity:t.addLiquidity,close:t.close}}),n("trading-setup",{ref:"tradingSetup",on:{change:t.changeDeadline}})],1),n("span",{directives:[{name:"show",rawName:"v-show",value:t.assetsPool,expression:"assetsPool"}],staticClass:"title"},[t._v("我的流动池")]),t.assetsPool?n("div",{class:1==t.$ccstyle1?"your-share":"your-share1"},[n("span",{staticClass:"badge"},[t._v("cake v2")]),n("div",{staticClass:"tokens"},[n("div",[n("div",[n("img",{attrs:{src:t.assetsPool.logo0}}),n("img",{attrs:{src:t.assetsPool.logo1}})]),n("span",[t._v(t._s(t.assetsPool.symbol0)+"/"+t._s(t.assetsPool.symbol1))])]),n("div",[n("span",[t._v("LP: "+t._s(t.assetsPool.lp.toFixed(4)))]),n("span",[t._v(t._s(t.assetsPool.myShare)+"%")])])]),n("div",{staticClass:"amounts"},[n("div",[n("span",[t._v(t._s(t.assetsPool.symbol0)+": "+t._s(t.assetsPool.amount0.toFixed(4)))]),n("span",[t._v(t._s(t.assetsPool.symbol1)+": "+t._s(t.assetsPool.amount1.toFixed(4)))])]),n("van-button",{on:{click:function(e){t.$router.push({path:"/liquidity/remove",query:{info:JSON.stringify(t.assetsPool)}})}}},[t._v(t._s(t.$t("joinFundPool.text11")))])],1)]):t._e(),t.assetsPool?t._e():n("div",{staticClass:"not-liquidity"},[n("img",{attrs:{src:s("91fe")}}),n("span",[t._v(t._s(t.$t("joinFundPool.text16")))])])])])},i=[],a=s("1da1"),o=s("5530"),r=(s("96cf"),s("4795"),s("caad"),s("b680"),s("99af"),s("2532"),s("0d03"),s("a9e3"),s("e25e"),s("d3b7"),s("3ca3"),s("ddb0"),s("aca7")),d=s("e549"),c={components:{"mk-navbar":function(){return s.e("joinFundPool").then(s.bind(null,"0861"))},"search-tokens":function(){return s.e("joinFundPool").then(s.bind(null,"bab4"))},"fundpool-state":function(){return s.e("joinFundPool").then(s.bind(null,"e0d3"))},"trading-setup":function(){return s.e("joinFundPool").then(s.bind(null,"0430"))}},data:function(){return{token0:r["c"],token1:r["d"],balance0:0,balance1:0,contract0:null,contract1:null,allowance0:"0".toBN(),allowance1:"0".toBN(),reserve0:0,reserve1:0,amount0:"",amount1:"",inputing0:!1,inputing1:!1,rerate:!1,slipPoint:2,deadline:600,state:"none",pairAddress:null,totalLiquidity:0,assetsPool:null,reserveUSD:""}},computed:{pairContract:function(){return this.pairAddress?new this.$web3.eth.Contract(d,this.pairAddress):this.pairAddress},btnText:function(){return["approve","in"].includes(this.state)?this.$t("add.text4"):this.pairContract?this.token0.symbol!==r["a"].symbol&&this.amount0.toBN().gt(this.allowance0)?this.$t("add.text6",{symbol:this.token0.symbol}):this.token1.symbol!==r["a"].symbol&&this.amount1.toBN().gt(this.allowance1)?this.$t("add.text6",{symbol:this.token1.symbol}):this.$t("add.text7"):this.$t("add.text5")},rate0:function(){return this.pairAddress?"1".toWei(this.token1.decimals).toBN().times(this.reserve0).div(this.reserve1).toFixed().fromWei(this.token0.decimals).toFixed(6):"--"},rate1:function(){return this.pairAddress?"1".toWei(this.token0.decimals).toBN().times(this.reserve1).div(this.reserve0).toFixed().fromWei(this.token1.decimals).toFixed(6):"--"},poolProp:function(){return["","0"].includes(this.amount0)||!this.pairAddress?"--":"".concat(this.amount0.toWei(this.token0.decimals).toBN().div(this.reserve0.toBN().plus(this.amount0.toWei(this.token0.decimals))).times(100).toFixed().toFixed(6),"%")},liquidity:function(){if(this.reserve0.toBN().gt(0)){var t=this.amount0.toWei(this.token0.decimals).toBN().times(this.totalLiquidity).div(this.reserve0),e=this.amount1.toWei(this.token1.decimals).toBN().times(this.totalLiquidity).div(this.reserve1);return(t.lt(e)?t:e).toFixed(0).fromWei(18)}return this.amount0.toWei(this.token0.decimals).toBN().times(this.amount1.toWei(this.token1.decimals)).sqrt().toFixed(0).fromWei(18)},waitApprove:function(){var t=[];return this.token0.symbol!==r["a"].symbol&&this.allowance0.lt(this.amount0.toWei(this.token0.decimals))&&t.push(Object(o["a"])({who:"0"},this.token0)),this.token1.symbol!==r["a"].symbol&&this.allowance1.lt(this.amount1.toWei(this.token1.decimals))&&t.push(Object(o["a"])({who:"1"},this.token1)),t}},destroyed:function(){clearInterval(this.interval)}},u=s("b9cc"),l=Object(o["a"])(Object(o["a"])({},c),{},{created:function(){var t=this;this.$address&&(this.select({token:this.token0,who:"token0"}),this.interval=setInterval((function(){"none"===t.state&&t.select({token:t.token0,who:"token0"})}),1e4))},methods:{message:function(){return vant.Toast.fail("暂未开放！")},openSearch:function(t){this.$refs.searchTokens.open(t)},openSetting:function(){this.$refs.tradingSetup.open()},changeDeadline:function(t){var e=t.slipPoint,s=t.deadline;this.slipPoint=e,this.deadline=s},close:function(){this.state="none",this.amount0="",this.amount1="",this.select({token:this.token0,who:"token0"})},switch:function(){var t=this.token0;this.token0=this.token1,this.token1=t,this.select({token:this.token0,who:"token0"})},inputAmount0:function(){return!!this.pairAddress&&(this.inputing1?this.inputing1=!1:["","0"].includes(this.amount0)?this.amount1="":(this.inputing0=!0,void(this.amount1=this.amount0.toWei(this.token0.decimals).toBN().times(this.reserve1).div(this.reserve0).toFixed().fromWei(this.token1.decimals).toFixed(6))))},inputAmount1:function(){return!!this.pairAddress&&(this.inputing0?this.inputing0=!1:["","0"].includes(this.amount1)?this.amount0="":(this.inputing1=!0,void(this.amount0=this.amount1.toWei(this.token1.decimals).toBN().times(this.reserve0).div(this.reserve1).toFixed().fromWei(this.token0.decimals).toFixed(6))))},approve:function(){var t=this,e=new this.$web3.eth.Contract(u,this.waitApprove[0].address);e.methods.approve(this.$Router._address,this["amount".concat(this.waitApprove[0].who)].toWei(this.waitApprove[0].decimals)).send({from:this.$address}).on("transactionHash",(function(e){t.state="approve"})).on("receipt",function(){var s=Object(a["a"])(regeneratorRuntime.mark((function s(n){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.methods.allowance(t.$address,t.$Router._address).call({from:t.$address});case 2:t["allowance".concat(t.waitApprove[0].who)]=s.sent.toBN(),t.waitApprove.length>0?t.approve():t.state="approved";case 4:case"end":return s.stop()}}),s)})));return function(t){return s.apply(this,arguments)}}()).on("error",(function(e){t.state="none"}))},addLiquidity:function(){var t=this;if(this.balance0.toBN().lt(this.amount0))return vant.Toast.fail("".concat(this.token0.symbol).concat(this.$t("joinFundPool.text13")));if(this.balance1.toBN().lt(this.amount1))return vant.Toast.fail("".concat(this.token1.symbol).concat(this.$t("joinFundPool.text13")));if(this.waitApprove.length>0)return this.approve();if([this.token0.symbol,this.token1.symbol].includes(r["a"].symbol))return this.addLiquidityETH();var e=this.amount0.toWei(this.token0.decimals),s=this.amount1.toWei(this.token1.decimals),n=e.toBN().div(100).times(this.slipPoint).toFixed(0),i=s.toBN().div(100).times(this.slipPoint).toFixed(0),a=Math.floor((new Date).getTime()/1e3)+this.deadline;this.$Router.methods.addLiquidity(this.token0.address,this.token1.address,e,s,n,i,this.$address,a).send({from:this.$address}).on("transactionHash",(function(e){t.state="in"})).on("receipt",(function(e){t.state="done"})).on("error",(function(e){t.state="none"}))},addLiquidityETH:function(){var t=this,e=this.token0.symbol===r["a"].symbol?"1":"0",s=this.token0.symbol===r["a"].symbol?"0":"1",n=this["amount".concat(e)].toWei(this["token".concat(e)].decimals),i=n.toBN().div(100).times(this.slipPoint).toFixed(0),a=this["amount".concat(s)].toWei(this["token".concat(s)].decimals),o=a.toBN().div(100).times(this.slipPoint).toFixed(0),d=Math.floor((new Date).getTime()/1e3)+this.deadline;this.$Router.methods.addLiquidityETH(this["token".concat(e)].address,n,i,o,this.$address,d).send({from:this.$address,value:a}).on("transactionHash",(function(e){t.state="in"})).on("receipt",(function(e){t.state="done"})).on("error",(function(e){t.state="none"}))},select:function(t){var e=this,s=t.token,n=t.who;if("token0"===n&&this.token1.symbol===s.symbol)return this["switch"]();if("token1"===n&&this.token0.symbol===s.symbol)return this["switch"]();this[n]=s;var i=new this.$web3.BatchRequest,a=new this.$web3.eth.Contract(u,this.token0.address),o=new this.$web3.eth.Contract(u,this.token1.address);this.token0.symbol===r["a"].symbol?i.add(this.$web3.eth.getBalance.request(this.$address,"latest")):i.add(a.methods.balanceOf(this.$address).call.request({from:this.$address})),this.token1.symbol===r["a"].symbol?i.add(this.$web3.eth.getBalance.request(this.$address,"latest")):i.add(o.methods.balanceOf(this.$address).call.request({from:this.$address})),i.add(a.methods.allowance(this.$address,this.$Router._address).call.request({from:this.$address})),i.add(o.methods.allowance(this.$address,this.$Router._address).call.request({from:this.$address})),i.add(this.$Factory.methods.getPair(this.token0.address,this.token1.address).call.request({from:this.$address})),i.requestManager.sendBatch(i.requests,(function(t,s){if(t)console.log(s),console.log(t);else{var n=s[4].result.decode(["address"]);if(e.balance0=s[0].result.fromWei(e.token0.decimals).toFixed(2),e.balance1=s[1].result.fromWei(e.token1.decimals).toFixed(2),e.allowance0=s[2].result.toBN(),e.allowance1=s[3].result.toBN(),e.pairAddress=0!==Number(n)?n:null,e.pairAddress){var i=new e.$web3.BatchRequest;i.add(e.pairContract.methods.getReserves().call.request({from:e.$address})),i.add(e.pairContract.methods.totalSupply().call.request({from:e.$address})),i.add(e.pairContract.methods.balanceOf(e.$address).call.request({from:e.$address})),i.requestManager.sendBatch(i.requests,(function(t,s){if(!t){var n=s[0].result.decode([{type:"uint112",name:"_reserve0"},{type:"uint112",name:"_reserve1"}]),i=n._reserve0,a=n._reserve1,o=e.token0.address.toBN().lt(e.token1.address.toBN()),r=s[2].result.toBN();e.reserve0=o?i:a,e.reserve1=o?a:i,e.totalLiquidity=s[1].result.toBN(),r.gt(0)&&(e.assetsPool={logo0:e.token0.logoURI,logo1:e.token1.logoURI,symbol0:e.token0.symbol,symbol1:e.token1.symbol,amount0:r.times(e.reserve0).div(e.totalLiquidity).toFixed(0).fromWei(e.token0.decimals),amount1:r.times(e.reserve1).div(e.totalLiquidity).toFixed(0).fromWei(e.token1.decimals),reserve0:e.reserve0,reserve1:e.reserve1,lp:r.toFixed().fromWei(18),myShare:r.div(e.totalLiquidity).times(100).toFixed().toFixed(6),address0:e.token0.address,address1:e.token1.address,decimals0:e.token0.decimals,decimals1:e.token1.decimals,pair:e.pairAddress})}})),Object(r["g"])(n.toLowerCase()).then((function(t){e.reserveUSD=parseInt(t.reserveUSD)}))}}}))}}}),p=l,m=p,h=(s("877d"),s("2877")),f=Object(h["a"])(m,n,i,!1,null,"232ccb9b",null);e["default"]=f.exports},e25e:function(t,e,s){var n=s("23e7"),i=s("c20d");n({global:!0,forced:parseInt!=i},{parseInt:i})},ed61:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("router-view")},i=[],a=s("2877"),o={},r=Object(a["a"])(o,n,i,!1,null,null,null);e["default"]=r.exports},fe12:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAACnklEQVRIS8WWsWsTYRjGn+dyhVKqOFiooFAFseriUhB0SMFBQVDQaC8UvOYU2uSgih39D6xQMalWTLxBesFWEBwcFMygODrUYqdOSjs4BBq02ORe+dJeTWKqRO/01u+753fP+73f8x4R0hMfSp0RDY8I3pjOpm83YhgSF0YieZ3Uxjf0rzbCQwNHo1F9177DLsnzCi7wht3s5JRvNDSwAtTCBShDMODm0k/UWqjgX8E3wWdNc0eH1jEq4AkAu4M8e5K6r+k7r4IvWPaxiMgsye4ggVtqCYqMmcluPcI5gjsB+SweJ4Tep6A/gKBF8viG7jjjln0TwBiAj2sVr2/GmVwOGhq37FEAE+vdLQ/cbOYKjYT9gUSvJ5WRfO7uvVChIrNLi/NGoVAoK8eiYF4F/XknXQgSXOe0Blq9TmGBjYR9jsRstbwN0FDBvttm0FDBStww7V7XSS80Oz4alj0HoOdrpbTnqeMUgzzjWq14wrYASQs4qGKTKk+7ug61z8xMlsKCKt24lXoI0Ny8TlvBoqbZrtYKjrMaxAf5YECc6WxmqOmQGEyMHPAYeSkienlF9gdRjd+CB8zhHmqRtyq3RWQ5aLCITLi5zLU6xyq32zTtFYheBYW31u8695t2Zavlj1updwCPiHDMzd25tQmuhUKwsOZ5/UHl9sCQfVHTkK+GSeXbQWWmCq5zCilpHi974F8PC9E8nYLTIG0CukDybjZjVAOkzmmr9Wthv4i8Lq/IKb9RaVipSwSdFjRa2CqrInwvEGd5cX5KTSX/ZcZiyU59G5+rIS2QUgU8+TibftOC+h9tXT/j/wD/0dWxZGfbdu0FgKP/wvnW9zjksv8UmQ33ufjFK+0NY2o1zer1P0/tGYD2pUqpL6hBUduF3wHhjnJzZY6yMwAAAABJRU5ErkJggg=="}}]);