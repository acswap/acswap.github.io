(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12c08011"],{"0430":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("van-popup",{attrs:{closeable:"",position:"bottom"},on:{"click-overlay":t.close,"click-close-icon":t.close},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[e("div",{staticClass:"trading-setup"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("slippage_settings")))]),e("div",{staticClass:"container"},[e("div",{staticClass:"options",class:{active:"auto"===t.selected},on:{click:function(e){t.selected="auto"}}},[e("h3",[t._v(t._s(t.$t("auto"))+"（"+t._s(t.auto.toFixed(2))+"%）")]),e("span",[t._v(t._s(t.$t("trading_setup_tips.tip1")))])]),e("div",{staticClass:"options",class:{active:"customize"===t.selected},on:{click:function(e){t.selected="customize"}}},[e("h3",[t._v(t._s(t.$t("customize")))]),e("span",[t._v(t._s(t.$t("trading_setup_tips.tip2")))]),e("div",{directives:[{name:"show",rawName:"v-show",value:"customize"===t.selected,expression:"selected === 'customize'"}],staticClass:"input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"number",placeholder:"0.7~50"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),e("span",[t._v("%")])])]),e("div",{staticClass:"amount"},[e("span",[t._v(t._s(t.$t("trading_setup_tips.tip3")))]),e("span",[t._v(t._s(t.amountOutMin.toFixed(2))+" "+t._s(t.token1.symbol))])]),e("van-button",{attrs:{disabled:t.disabled},on:{click:t.submit}},[t._v(t._s(t.disabled?t.$t("enter_slippage"):t.$t("confirm")))])],1)])])},o=[],a=(s("c75e"),s("38b7")),n=(s("0c68"),s("815a"),s("6eef"));const l="https://try.readme.io/https://api.gopluslabs.io/api/v1/token_security/";var c={props:{token1:Object,amountIn:[String,Number]},components:{[a["a"].name]:a["a"]},data(){return{show:!1,selected:"auto",auto:2,value:"",amountOut:0}},computed:{...Object(n["b"])(["chainId"]),disabled(){return"customize"===this.selected&&0===this.value.length},amountOutMin(){const t=this.amountOut.toBN(),e=t.div(100);return"auto"===this.selected?t.minus(e.times(this.auto)).toFixed():0===this.value.length?"~":t.minus(e.times(this.value)).toFixed()}},created(){this.getStorage()},methods:{open(){this.getStorage(),this.show=!0},close(){this.show=!1},getStorage(){const t=JSON.parse(localStorage.getItem("slippage"));t?(this.selected=t.type,this.value=t.value,this.$store.commit("setSlippage",t.value)):(this.selected="auto",this.$store.commit("setSlippage",this.auto))},submit(){"auto"===this.selected?(this.$store.commit("setSlippage",this.auto),localStorage.removeItem("slippage")):(this.$store.commit("setSlippage",this.value),localStorage.setItem("slippage",JSON.stringify({type:"customize",value:this.value}))),this.close()},async init(t){this.$Router.methods.getAmountsOut((this.amountIn>0?this.amountIn:1).toWei(t[0].decimals),t.map(t=>t.address)).call((e,s)=>{e||(this.amountOut=s[t.length-1].fromWei(t[t.length-1].decimals))});let e="0".toBN();for(let s=0;s<t.length;s++){const i=t[s].address.toLowerCase(),o=JSON.parse(localStorage.getItem(i));let a=0,n=0;if(o)a=o.buy_tax,n=o.sell_tax;else{const t=await fetch(`${l}${this.chainId}?contract_addresses=${i}`).then(t=>t.json());a=t.result[i].buy_tax,n=t.result[i].sell_tax,localStorage.setItem(i,JSON.stringify({buy_tax:a,sell_tax:n}))}e=0===s?e.plus(n):s===t.length-1?e.plus(a).times(100):e.plus(a).plus(n)}this.auto=null==e.plus(2).toFixed()?2:e.plus(2).toFixed(),localStorage.getItem("slippage")||this.$store.commit("setSlippage",this.auto)}}},u=c,r=u,p=(s("4d95"),s("c6fb")),d=Object(p["a"])(r,i,o,!1,null,"79817823",null);e["default"]=d.exports},"38b7":function(t,e,s){"use strict";var i=s("2c9b"),o=s("2d67"),a=s("016e"),n=s("8cdf"),l=Object(i["a"])("popup"),c=l[0],u=l[1];e["a"]=c({mixins:[Object(a["a"])()],props:{round:Boolean,duration:[Number,String],closeable:Boolean,transition:String,safeAreaInsetBottom:Boolean,closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"},position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){var t=this,e=function(e){return function(s){return t.$emit(e,s)}};this.onClick=e("click"),this.onOpened=e("opened"),this.onClosed=e("closed")},methods:{onClickCloseIcon:function(t){this.$emit("click-close-icon",t),this.close()}},render:function(){var t,e=arguments[0];if(this.shouldRender){var s=this.round,i=this.position,a=this.duration,l="center"===i,c=this.transition||(l?"van-fade":"van-popup-slide-"+i),r={};if(Object(o["c"])(a)){var p=l?"animationDuration":"transitionDuration";r[p]=a+"s"}return e("transition",{attrs:{appear:this.transitionAppear,name:c},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[e("div",{directives:[{name:"show",value:this.value}],style:r,class:u((t={round:s},t[i]=i,t["safe-area-inset-bottom"]=this.safeAreaInsetBottom,t)),on:{click:this.onClick}},[this.slots(),this.closeable&&e(n["a"],{attrs:{role:"button",tabindex:"0",name:this.closeIcon},class:u("close-icon",this.closeIconPosition),on:{click:this.onClickCloseIcon}})])])}}})},"4d95":function(t,e,s){"use strict";s("957f")},"957f":function(t,e,s){},c75e:function(t,e,s){"use strict";s("1933"),s("82bc"),s("fab4"),s("f952"),s("2688")}}]);