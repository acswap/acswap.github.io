(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-897e8f1a"],{"0499":function(t,e,n){t.exports=n.p+"img/fsv.7ed356ec.svg"},"2d09":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:"dao-governance "+t.theme},[r("div",{staticClass:"container"},[r("div",{staticClass:"header"},[r("span",[t._v(t._s(t.$t("governance.text1")))]),r("span",[t._v(t._s(t.$t("governance.text2")))])]),r("div",{staticClass:"powers"},[r("div",[r("span",[t._v(t._s(t.$t("governance.text3")))]),r("span",[t._v(t._s(t.burnForce.toFixed(4)))])]),r("div",[r("span",[t._v(t._s(t.$t("governance.text4")))]),r("span",[t._v(t._s(t.shareForce.toFixed(4)))])]),r("div",[r("span",[t._v(t._s(t.$t("governance.text5")))]),r("span",[t._v(t._s(t.invalidForce.toFixed(4)))])])]),r("div",{staticClass:"input-container"},[r("div",{staticClass:"token-info"},[t._m(0),r("span",[t._v(t._s(t.fsvBalance.toFixed(2)))]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.fsvAmount,expression:"fsvAmount"}],attrs:{type:"number",placeholder:"0"},domProps:{value:t.fsvAmount},on:{input:[function(e){e.target.composing||(t.fsvAmount=e.target.value)},t.input]}})]),r("img",{attrs:{src:n("c2fd")}}),r("div",{staticClass:"token-info"},[t._m(1),r("span",[t._v(t._s(t.acBalance.toFixed(2)))]),r("input",{attrs:{type:"number",placeholder:"0",readonly:""},domProps:{value:t.acAmount.toFixed(4)}})])]),r("span",[t._v("ï½ž"+t._s(t.sumUSD.toFixed(4))+" USD")]),r("span",[t._v(t._s(t.$t("governance.text7"))+" "),r("span",[t._v(t._s(t.burnGetForce.toFixed(4)))])]),r("van-button",{attrs:{loading:t.trading,disabled:t.binded&&(t.trading||Number(t.fsvAmount)<=0)},on:{click:t.invest}},[t._v(t._s(t.btnText))])],1)])},s=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("img",{attrs:{src:n("0499")}}),r("span",[t._v("FSV")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("img",{attrs:{src:n("c776")}}),r("span",[t._v("AC")])])}],a=n("1da1"),o=n("3835"),c=n("5530"),i=(n("96cf"),n("a9e3"),n("b680"),n("4795"),n("aca7")),u={data:function(){return{burnForce:"0",shareForce:"0",invalidForce:"0",acBalance:"0",fsvBalance:"0",acAllowance:"0",fsvAllowance:"0",acAmount:"",fsvAmount:"",sumUSD:"0",burnGetForce:"0",inputing:!1,trading:!1}},computed:Object(c["a"])(Object(c["a"])({},Vuex.mapState(["connect","address","theme","binded"])),{},{btnText:function(){return this.binded?this.trading?this.$t("governance.text9"):Number(this.fsvAmount)<=0?this.$t("governance.text10"):this.fsvAmount.toBN().gt(this.fsvAllowance)?this.$t("governance.text11",{symbol:"FSV"}):this.acAmount.toBN().gt(this.acAllowance)?this.$t("governance.text11",{symbol:"AC"}):this.$t("governance.text12"):this.$t("governance.text8")}}),created:function(){this.$contracts&&this.init()},methods:{init:function(){var t=this,e=new this.$web3.BatchRequest;e.add(this.$contracts.Govern.methods.userForceOfBurn(this.$address).call.request({from:this.$address})),e.add(this.$contracts.ForceToken.methods.balanceOf(this.$address).call.request({from:this.$address})),e.add(this.$contracts.Farm.methods.userPoolInfo(i["a"].FORCE,this.$address).call.request({from:this.$address})),e.add(this.$contracts.ACToken.methods.balanceOf(this.$address).call.request({from:this.$address})),e.add(this.$contracts.FSVToken.methods.balanceOf(this.$address).call.request({from:this.$address})),e.add(this.$contracts.ACToken.methods.allowance(this.$address,this.$contracts.Govern.options.address).call.request({from:this.$address})),e.add(this.$contracts.FSVToken.methods.allowance(this.$address,this.$contracts.Govern.options.address).call.request({from:this.$address})),e.requestManager.sendBatch(e.requests,(function(e,n){if(!e){var r=n[2].result.decode([{name:"supply",type:"uint256"},{name:"reward",type:"uint256"},{name:"taked",type:"uint256"},{name:"rewardDebt",type:"uint256"}]);t.burnForce=("string"===typeof n[0]?n[0]:n[0].result).fromWei(),t.invalidForce=n[1].result.fromWei(),t.shareForce=r.supply.toBN().plus(n[1].result).minus("string"===typeof n[0]?n[0]:n[0].result).toFixed().fromWei(),t.acBalance=n[3].result.fromWei(),t.fsvBalance=n[4].result.fromWei(),t.acAllowance=n[5].result.fromWei(),t.fsvAllowance=n[6].result.fromWei()}}))},input:function(){var t=this;if(!this.inputing){if(Number(this.fsvAmount)<=0)return this.acAmount="",this.sumUSD="0",this.burnGetForce="0",void(this.inputing=!1);this.inputing=!0;var e=setTimeout((function(){if(Number(t.fsvAmount)<=0)return t.acAmount="",t.sumUSD="0",t.burnGetForce="0",t.inputing=!1,void clearTimeout(e);t.$contracts.Multicall.methods.aggregate([[t.$contracts.Govern.options.address,t.$contracts.Govern.methods.getForceByToken(t.$contracts.FSVToken.options.address,t.fsvAmount.toWei(),t.$address).encodeABI()],[t.$contracts.Oracle.options.address,t.$contracts.Oracle.methods.getTokenPrice(t.$contracts.FSVToken.options.address,"1".toWei()).encodeABI()],[t.$contracts.Oracle.options.address,t.$contracts.Oracle.methods.getTokenPrice(t.$contracts.ACToken.options.address,"1".toWei()).encodeABI()]]).call({from:t.$address},(function(n,r){if(!n){if(Number(t.fsvAmount)<=0)return t.acAmount="",t.sumUSD="0",t.burnGetForce="0",t.inputing=!1,void clearTimeout(e);var s=Object(o["a"])(r.returnData,3),a=s[0],c=s[1],i=s[2],u=a.decode([{name:"burnGetForce",type:"uint256"},{name:"acAmount",type:"uint256"}]),d=u.burnGetForce,f=u.acAmount;t.burnGetForce=d.fromWei(),t.acAmount=f.fromWei(),t.sumUSD=c.toBN().times(t.fsvAmount).plus(i.toBN().times(f.fromWei())).toFixed().fromWei(),t.inputing=!1,clearTimeout(e)}}))}),1e3)}},approve:function(t){var e=this,n=this.$contracts["".concat(t,"Token")],r=("FSV"===t?this.fsvAmount:this.acAmount).toBN().times(10).toFixed().toWei();n.methods.approve(this.$contracts.Govern.options.address,r).send({from:this.$address}).on("transactionHash",(function(t){e.trading=!0})).on("receipt",function(){var r=Object(a["a"])(regeneratorRuntime.mark((function r(s){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,n.methods.allowance(e.$address,e.$contracts.Govern.options.address).call({from:e.$address});case 2:a=r.sent,e["FSV"===t?"fsvAllowance":"acAllowance"]=a.fromWei(),vant.Toast.success(e.$t("governance.text13")),e.trading=!1;case 6:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()).on("error",(function(t){e.trading=!1}))},invest:function(){var t=this;if(this.binded)if(this.fsvAmount.toBN().gt(this.fsvBalance))vant.Toast.fail(this.$t("governance.text14",{symbol:"FSV"}));else if(this.acAmount.toBN().gt(this.acBalance))vant.Toast.fail(this.$t("governance.text14",{symbol:"AC"}));else{if(this.fsvAmount.toBN().gt(this.fsvAllowance))return this.approve("FSV");if(this.acAmount.toBN().gt(this.acAllowance))return this.approve("AC");console.log(this.$contracts.FSVToken.options.address),console.log(this.fsvAmount),console.log(this.$address);var e=this.$contracts.Govern.methods.invest(this.$contracts.FSVToken.options.address,this.fsvAmount.toWei(),this.$address);e.call({from:this.$address},(function(n,r){n||e.send({from:t.$address}).on("transactionHash",(function(e){t.trading=!0})).on("receipt",(function(e){vant.Toast.success(t.$t("governance.text15")),t.$emit("reload"),t.fsvAmount="",t.acAmount="",t.burnGetForce="0",t.trading=!1})).on("error",(function(e){t.trading=!1}))}))}else this.$emit("showBind")}}},d=u,f=d,l=(n("546a9"),n("2877")),p=Object(l["a"])(f,r,s,!1,null,"35c0c040",null);e["default"]=p.exports},"546a9":function(t,e,n){"use strict";n("771e")},"771e":function(t,e,n){},aca7:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"l",(function(){return u})),n.d(e,"f",(function(){return d})),n.d(e,"d",(function(){return l})),n.d(e,"k",(function(){return p})),n.d(e,"m",(function(){return h})),n.d(e,"e",(function(){return m})),n.d(e,"h",(function(){return g})),n.d(e,"g",(function(){return x})),n.d(e,"j",(function(){return w})),n.d(e,"i",(function(){return F})),n.d(e,"b",(function(){return A})),n.d(e,"c",(function(){return T}));var r=n("1da1");n("96cf"),n("4de4"),n("caad"),n("2532"),n("b680"),n("fb6a"),n("d3b7"),n("0d03"),n("99af");function s(t){return JSON.stringify({query:'query pair {\n            pair(id: "'.concat(t,'") {\n                reserveUSD\n            }\n        }')})}var a=function(t,e){var n=3600*Math.floor(new Date/1e3/3600);return JSON.stringify({query:137===e?'query pair {\n            pair(id: "'.concat(t,'") {\n                hourData(\n                    where: {\n                        date_gte: ').concat(n-86400,"\n                        date_lte: ").concat(n,"\n                    }\n                ) {\n                    volumeUSD\n                    txCount\n                }\n            }\n        }"):'query pair {\n            pair(id: "'.concat(t,'") {\n                pairHourData(\n                    where: {\n                        hourStartUnix_gte: ').concat(n-86400,"\n                        hourStartUnix_lte: ").concat(n,"\n                    }\n                ) {\n                    hourlyVolumeUSD\n                    hourlyTxns\n                }\n            }\n        }")})};function o(t){return JSON.stringify({query:"query poolTransactions($address: Bytes!) {\n            mints(first: 35, orderBy: timestamp, orderDirection: desc, where: {\n                pair: $address\n            }) {\n                id\n                timestamp\n                amount0\n                amount1\n            }\n            swaps(first: 35, orderBy: timestamp, orderDirection: desc, where: {\n                pair: $address\n            }) {\n                id\n                timestamp\n                amount0In\n                amount1In\n                amount0Out\n                amount1Out\n            }\n            burns(first: 35, orderBy: timestamp, orderDirection: desc, where: {\n                pair: $address\n            }) {\n                id\n                timestamp\n                amount0\n                amount1\n            }\n        }",variables:{address:t}})}var c={LP:0,FORCE:1,BOARD:2,NFT:3},i={"0x18cbafe5":"swapExactTokensForETH","0x7ff36ab5":"swapExactETHForTokens","0x38ed1739":"swapExactTokensForTokens","0xb6f9de95":"swapExactETHForTokensSupportingFeeOnTransferTokens","0x5c11d795":"swapExactTokensForTokensSupportingFeeOnTransferTokens","0x791ac947":"swapExactTokensForETHSupportingFeeOnTransferTokens"};function u(t,e){switch(t){case 0:return"https://tronscan.org/#/transaction/".concat(e);case 1:return"https://etherscan.io/tx/".concat(e);case 56:return"https://bscscan.com/tx/".concat(e);case 66:return"https://www.oklink.com/zh-cn/okc/tx/".concat(e);case 128:return"https://www.hecoinfo.com/en-us/tx/".concat(e);case 137:return"https://polygonscan.com/tx/".concat(e);default:return"https://bscscan.com/tx/".concat(e)}}function d(t,e,n,r){var s=n.filter((function(n){return![t.symbol,e.symbol].includes(n.symbol)}));s.unshift(t),s.push(e);for(var a=[],o=0;o<s.length;o++)for(var c=o+1;c<s.length;c++)for(var i=0;i<r.length;i++)a.push({token0:s[o],token1:s[c],factory:r[i]});return a}function f(t,e,n){var r=t.toBN().times(9975),s=r.times(n),a=e.toBN().times(1e4).plus(r);return s.div(a).toFixed()}function l(t,e,n,r){for(var s=[t],a=0;a<e.length-1;a++){for(var o=r[n[a+1]],c=!1,i=0;i<o.length;i++){var u=o[i].token0.symbol,d=o[i].token1.symbol;if(u===e[a].symbol&&d===e[a+1].symbol){s[a+1]=f(s[a],o[i].reserve0,o[i].reserve1),c=!0;break}if(u===e[a+1].symbol&&d===e[a].symbol){s[a+1]=f(s[a],o[i].reserve1,o[i].reserve0),c=!0;break}}if(!c)return["0"]}return s}function p(t,e,n,r){for(var s=n.filter((function(n){return![t.symbol,e.symbol].includes(n.symbol)})),a=[[t,e]],o=[],c=0;c<s.length;c++){a.push([t,s[c],e]);for(var i=0;i<s.length;i++)i!==c&&a.push([t,s[c],s[i],e])}if(r.length>0)for(var u=0;u<a.length;u++)for(var d=0;d<r.length;d++)if(2!==a[u].length)for(var f=0;f<r.length;f++)if(3!==a[u].length)for(var l=0;l<r.length;l++)o.push({tokensPath:a[u],factorysPath:[r[0],r[d],r[f],r[l]]});else o.push({tokensPath:a[u],factorysPath:[r[0],r[d],r[f]]});else o.push({tokensPath:a[u],factorysPath:[r[0],r[d]]});return r.length>0?o:a}var h=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=n){t.next=5;break}return t.next=3,_(e);case 3:return r=t.sent.data,t.abrupt("return",r.filter((function(t){return t.trigger_info&&Object.hasOwnProperty.call(i,"0x".concat(t.trigger_info.data.slice(0,8)))})));case 5:return t.next=7,_(e);case 7:return s=t.sent.result,t.abrupt("return",s.filter((function(t){return Object.hasOwnProperty.call(i,t.input.slice(0,10))})));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),m=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_(n,a(e,r));case 2:return t.abrupt("return",t.sent.data.pair);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),v="https://pabc.endjgfsv.link/swapv2/scan/";function g(t){return b.apply(this,arguments)}function b(){return b=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_("".concat(v,"getTransactions?address=").concat(e));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)}))),b.apply(this,arguments)}function x(t,e){return $.apply(this,arguments)}function $(){return $=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_(n,o(e));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)}))),$.apply(this,arguments)}function w(t){return y.apply(this,arguments)}function y(){return y=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_("".concat(v,"getPairInfo?pairAddress=").concat(e));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)}))),y.apply(this,arguments)}function F(t,e){return k.apply(this,arguments)}function k(){return k=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_(n,s(e));case 2:return t.abrupt("return",t.sent.data.pair);case 3:case"end":return t.stop()}}),t)}))),k.apply(this,arguments)}var A={address:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",decimals:18,logoURI:"https://chainconfig.github.io/bsc/tokens/0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c.png",symbol:"BNB"},T={name:"Binance Pegged USDT",address:"0x55d398326f99059fF775485246999027B3197955",decimals:18,logoURI:"https://chainconfig.github.io/bsc/tokens/0x55d398326f99059fF775485246999027B3197955.png",symbol:"USDT"};function _(t,e){return B.apply(this,arguments)}function B(){return B=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n){t.next=6;break}return t.next=3,fetch(e,{cache:"reload"});case 3:t.t0=t.sent,t.next=9;break;case 6:return t.next=8,fetch(e,{cache:"reload",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:n});case 8:t.t0=t.sent;case 9:return r=t.t0,t.next=12,r.json();case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}}),t)}))),B.apply(this,arguments)}},c2fd:function(t,e,n){t.exports=n.p+"img/plus-green.9e34cd9f.svg"},c776:function(t,e,n){t.exports=n.p+"img/nft-token.898f6260.svg"}}]);