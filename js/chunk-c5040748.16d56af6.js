(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c5040748"],{"02f2":function(t,e,s){},"0499":function(t,e,s){t.exports=s.p+"img/fsv.07dace5d.svg"},"0535":function(t,e,s){t.exports=s.p+"img/plus.cd7bc63a.svg"},"5d68":function(t,e,s){"use strict";s("02f2")},"62c2":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:"fsv-mining "+t.theme},[n("div",{staticClass:"container"},[t._m(0),n("div",{staticClass:"info"},[n("div",[n("span",[t._v(t._s(t.$t("fsvMining.text1")))]),n("span",[t._v(t._s(t.apy.toFixed(2))+"%")])]),n("div",[n("span",[t._v(t._s(t.$t("fsvMining.text2")))]),n("span",[t._v(t._s(t.$t("fsvMining.text3")))])]),n("div",[n("span",[t._v(t._s(t.$t("fsvMining.text4")))]),n("span",[t._v(t._s(t.totalPledge.toFixed(4)))])]),n("div",[n("span",[t._v(t._s(t.$t("fsvMining.text5")))]),n("span",[t._v(t._s(t.liquidityReward.toFixed(4)))])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isPledge,expression:"!isPledge"}],staticClass:"pledge"},[n("div",{staticClass:"pledge-amount"},[n("div",[n("span",[t._v("FSV-AC/LP "),n("span",[t._v(t._s(t.$t("fsvMining.text6")))])]),n("span",[t._v("0")])]),n("router-link",{attrs:{to:""}},[t._v(t._s(t.$t("fsvMining.text7")))])],1),n("van-button",{on:{click:t.showPledge}},[t._v(t._s(t.binded?t.$t("fsvMining.text8"):t.$t("fsvMining.text9")))])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isPledge,expression:"isPledge"}],staticClass:"pledged"},[n("div",{staticClass:"income"},[n("div",[n("span",[t._v("FSV "),n("span",[t._v(t._s(t.$t("fsvMining.text10")))])]),n("span",[t._v(t._s(t.reward.toFixed(4)))])]),n("van-button",{attrs:{loading:t.trading,disabled:t.trading},on:{click:t.takeReward}},[t._v(t._s(t.trading?t.$t("fsvMining.text11"):t.$t("fsvMining.text12")))])],1),n("div",{staticClass:"amounts"},[n("div",{staticClass:"info"},[n("span",[t._v("FSV-AC/LP "),n("span",[t._v(t._s(t.$t("fsvMining.text8")))])]),n("span",[t._v(t._s(t.pledged.toFixed(4)))]),n("span",[t._v("～"+t._s(t.pledgedUSD.toFixed(4))+" USD")]),n("span",[t._v(t._s(t.pledgedFSV.toFixed(4))+" FSV    "+t._s(t.pledgedAC.toFixed(4))+" AC")])]),n("div",{staticClass:"buttons"},[n("van-button",{on:{click:t.showRedeem}},[n("img",{attrs:{src:s("8adf")}})]),n("van-button",{on:{click:t.showPledge}},[n("img",{attrs:{src:s("0535")}})])],1)])])]),n("fsv-pledge",{ref:"FsvPledge",on:{reload:t.reload}}),n("fsv-redeem",{ref:"FsvRedeem",attrs:{pledged:t.pledged},on:{reload:t.reload}})],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tokens"},[n("div",{staticClass:"logo"},[n("img",{attrs:{src:s("0499")}}),n("img",{attrs:{src:s("c776")}})]),n("div",{staticClass:"content"},[n("span",[t._v("FSV-AC/LP")]),n("span",[t._v("100X")])])])}],a=s("3835"),d=s("1da1"),o=s("5530"),r=(s("96cf"),s("d3b7"),s("3ca3"),s("ddb0"),s("d81d"),s("b680"),{components:{"fsv-pledge":function(){return s.e("chunk-25356740").then(s.bind(null,"0038"))},"fsv-redeem":function(){return s.e("chunk-33423d28").then(s.bind(null,"d22c"))}},data:function(){return{isPledge:!1,apy:"0",totalPledge:"0",pledged:"0",pledgedUSD:"0",pledgedFSV:"0",pledgedAC:"0",liquidityReward:"0",reward:"0",trading:!1}},computed:Object(o["a"])({},Vuex.mapState(["theme","binded"])),created:function(){this.$contracts&&this.init()},methods:{showPledge:function(){this.binded?this.$refs.FsvPledge.toggle():this.$emit("showBind")},showRedeem:function(){this.$refs.FsvRedeem.toggle()},reload:function(){this.$emit("reload"),this.init()},init:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=new t.$web3.BatchRequest,s.add(t.$contracts.DaoFarm.methods.totalSupply().call.request({from:t.$address})),s.add(t.$contracts.DaoFarm.methods.takeReward().call.request({from:t.$address})),s.add(t.$contracts.DaoFarm.methods.getdayOutPut().call.request({from:t.$address})),s.add(t.$contracts.FSV_AC_LP.methods.totalSupply().call.request({from:t.$address})),s.add(t.$contracts.FSVToken.methods.balanceOf(t.$contracts.FSV_AC_LP.options.address).call.request({from:t.$address})),s.add(t.$contracts.ACToken.methods.balanceOf(t.$contracts.FSV_AC_LP.options.address).call.request({from:t.$address})),s.add(t.$contracts.Oracle.methods.getTokenPrice(t.$contracts.FSVToken.options.address,"1".toWei()).call.request({from:t.$address})),s.add(t.$contracts.DaoFarm.methods.userPoolInfo(t.$address).call.request({from:t.$address})),s.requestManager.sendBatch(s.requests,(function(e,s){if(!e){var n=s.map((function(t){return"string"===typeof t?t:t.result})),i=Object(a["a"])(n,8),d=i[0],o=i[1],r=i[2],c=i[3],l=i[4],v=i[5],p=i[6],u=i[7],f=r.toBN().times(365),m=l.toBN().times(p).times(2).div(c).toFixed().fromWei(),g=f.times(p.fromWei()).div(d.toBN().times(m)).times(100),_=u.decode([{name:"supply",type:"uint256"},{name:"reward",type:"uint256"},{name:"taked",type:"uint256"},{name:"rewardDebt",type:"uint256"}]),h=_.supply.toBN().div(c);t.totalPledge=d.fromWei(),t.reward=o.fromWei(),t.liquidityReward=o.fromWei(),t.pledged=_.supply.fromWei(),t.isPledge=_.supply.toBN().gt(0),t.pledgedUSD=_.supply.toBN().times(m).toFixed().fromWei(),t.pledgedFSV=l.toBN().times(h).times(2).toFixed().fromWei(),t.pledgedAC=v.toBN().times(h).times(2).toFixed().fromWei(),g.gt(0)&&g.isFinite()&&(t.apy=g.toFixed())}}));case 10:case"end":return e.stop()}}),e)})))()},takeReward:function(){var t=this;this.reward.toBN().lte(0)?vant.Toast.fail(this.$t("fsvMining.text13")):this.$contracts.DaoFarm.methods.takeReward().send({from:this.$address}).on("transactionHash",(function(e){t.trading=!0})).on("receipt",(function(e){vant.Toast.success(t.$t("boardPledge.text11")),t.reload(),t.trading=!1})).on("error",(function(e){t.trading=!1}))}}}),c=r,l=c,v=(s("5d68"),s("2877")),p=Object(v["a"])(l,n,i,!1,null,"4c652649",null);e["default"]=p.exports},"8adf":function(t,e,s){t.exports=s.p+"img/less.d613d57e.svg"},c776:function(t,e,s){t.exports=s.p+"img/nft-token.834fd726.svg"},d81d:function(t,e,s){"use strict";var n=s("23e7"),i=s("b727").map,a=s("1dde"),d=a("map");n({target:"Array",proto:!0,forced:!d},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);