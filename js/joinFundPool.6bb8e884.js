(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["joinFundPool"],{"0861":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:1==t.$ccstyle1?"mk-navbar":"mk-navbar1"},[t.$ccstyle1?o("img",{attrs:{src:n("c590")},on:{click:function(e){return t.$router.back(1)}}}):o("img",{attrs:{src:n("86d4")},on:{click:function(e){return t.$router.back(1)}}}),o("span",{domProps:{textContent:t._s(t.title)}})])},r=[],s={props:{title:{type:String,required:!0}}},a=s,i=a,u=(n("f9c5"),n("2877")),c=Object(u["a"])(i,o,r,!1,null,"3822fa6e",null);e["default"]=c.exports},1500:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"join-fund-pool"},[o("div",{staticClass:"box"},[o("div",{staticClass:"container"},[o("div",{class:1==t.$ccstyle1?"menus":"menus1"},[o("div",{class:t.isJustswap?"":"active",on:{click:function(e){t.isJustswap=!1}}},[t._v("AcSwap")]),o("div",{class:t.isJustswap?"active":"",on:{click:function(e){t.isJustswap=!0}}},[t._v("JustSwap")])]),o("nft-swap",{directives:[{name:"show",rawName:"v-show",value:!t.isJustswap,expression:"!isJustswap"}],on:{change:t.getNftswapPool}}),o("just-swap",{directives:[{name:"show",rawName:"v-show",value:t.isJustswap,expression:"isJustswap"}]})],1),t.nftswapPool?o("div",{class:1==t.$ccstyle1?"your-share":"your-share1"},[o("div",{staticClass:"tokens nftswap"},[o("div",[o("div",[o("img",{attrs:{src:t.nftswapPool.logo0}}),o("img",{attrs:{src:t.nftswapPool.logo1}})]),o("span",[t._v(t._s(t.nftswapPool.symbol0)+"/"+t._s(t.nftswapPool.symbol1))])]),o("div",[o("span",[t._v("LP: "+t._s(t.nftswapPool.lp))]),o("span",[t._v(t._s(t.nftswapPool.myShare)+"%")])])]),o("div",{staticClass:"amounts"},[o("div",[o("span",[t._v(t._s(t.nftswapPool.symbol0)+": "+t._s(t.nftswapPool.token0))]),o("span",[t._v(t._s(t.nftswapPool.symbol1)+": "+t._s(t.nftswapPool.token1))])]),o("van-button",{on:{click:function(e){t.$router.push({path:"/nftredemption",query:{info:JSON.stringify(t.nftswapPool)}})}}},[t._v(t._s(t.$t("joinFundPool.text11")))])],1)]):t._e(),t._l(t.justswapPools,(function(e){return o("div",{key:e.address,class:1==t.$ccstyle1?"your-share":"your-share1"},[o("div",{staticClass:"tokens justswap"},[o("div",[o("div",[o("img",{attrs:{src:n("90bd")}}),o("img",{attrs:{src:e.logo}})]),o("span",[t._v("TRX/"+t._s(e.symbol))])]),o("div",[o("span",[t._v("LP: "+t._s(e.lp))]),o("span",[t._v(t._s(e.myShare)+"%")])])]),o("div",{staticClass:"amounts"},[o("div",[o("span",[t._v("TRX: "+t._s(e.trx))]),o("span",[t._v(t._s(e.symbol)+": "+t._s(e.token))])]),o("van-button",{on:{click:function(n){t.$router.push({path:"/redemption",query:{info:JSON.stringify(e)}})}}},[t._v(t._s(t.$t("joinFundPool.text11")))])],1)])})),t.justswapPools.length<1&&!t.nftswapPool?o("div",{staticClass:"not-liquidity"},[t.$ccstyle1?o("img",{attrs:{src:n("f0b7")}}):o("img",{attrs:{src:n("7a58")}}),o("span",[t._v(t._s(t.$t("joinFundPool.text16")))])]):t._e()],2)])},r=[],s=(n("4de4"),n("d81d"),n("0d03"),n("a9e3"),n("b680"),n("d3b7"),n("25f0"),n("96cf"),n("1da1")),a=n("aca7"),i={components:{"mk-navbar":function(){return Promise.resolve().then(n.bind(null,"0861"))},"just-swap":function(){return Promise.resolve().then(n.bind(null,"3817"))},"nft-swap":function(){return Promise.resolve().then(n.bind(null,"7877"))}},data:function(){return{nftswapPool:null,justswapPools:[],isJustswap:!1,title:this.$t("joinFundPool.text15")}},created:function(){this.$utils&&this.init()},methods:{init:function(){this.getJustswapPool()},getNftswapPool:function(t,e){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function o(){var r,s,a,i,u,c,d,l,p,k;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,n.$utils.call({contractAddress:n.$contracts.Factory.address,method:"getPair(address,address)",parameter:[{type:"address",value:t.tokenAddress},{type:"address",value:e.tokenAddress}]});case 2:if(r=o.sent.constant_result[0],s=0===Number(r)?null:r.decode(["address"]),!s){o.next=22;break}return o.next=7,n.$utils.call({contractAddress:s,method:"getReserves()"});case 7:return a=o.sent.constant_result[0].decode(["uint112","uint112","uint","uint","uint","uint"],["_reserve0","_reserve1","_tradeFeeRate","_burn0or1","_rate","_posRate"]),i=a._reserve0,u=a._reserve1,o.next=12,n.$utils.call({contractAddress:s,method:"balanceOf(address)",parameter:[{type:"address",value:n.$address}]});case 12:if(c=o.sent.constant_result[0].decode(["uint"]).toString().toBN(),"0"!==c.toString()){o.next=15;break}return o.abrupt("return",!1);case 15:return o.next=17,n.$utils.call({contractAddress:s,method:"totalSupply()"});case 17:d=o.sent.constant_result[0].decode(["uint"]).toString().toBN(),l="0x".concat(tronWeb.address.toHex(t.tokenAddress)).toBN().gt("0x".concat(tronWeb.address.toHex(e.tokenAddress))),p=l?u.toString():i.toString(),k=l?i.toString():u.toString(),n.nftswapPool={logo0:t.tokenLogoUrl,logo1:e.tokenLogoUrl,symbol0:t.tokenSymbol,symbol1:e.tokenSymbol,token0:c.times(p).div(d).toFixed(0).fromSun(t.tokenDecimal).toFixed(6),token1:c.times(k).div(d).toFixed(0).fromSun(e.tokenDecimal).toFixed(6),reserve0:p,reserve1:k,lp:c.toString().fromSun(18).toFixed(6),myShare:c.div(d).times(100).toString().toFixed(2),token0Address:t.tokenAddress,token1Address:e.tokenAddress,token0Decimal:t.tokenDecimal,token1Decimal:e.tokenDecimal,address:s,source:{lp:c,token0:c.times(p).div(d),token1:c.times(k).div(d)}};case 22:case"end":return o.stop()}}),o)})))()},getJustswapPool:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,o,r,s,i,u,c,d,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["j"])(t.$address);case 2:return n=e.sent.data.liquidityList.filter((function(t){return t.jswapBalance>0})),o=n.map((function(t){return t.address})),e.next=6,t.$utils.call({contractAddress:"TCNYd8L5hBey9FwPpvgtvDaY2cHjMFVLZu",method:"getPool(address,address[])",parameter:[{type:"address",value:t.$address},{type:"address[]",value:o}]});case 6:for(r=e.sent.constant_result[0].decode(["uint256[]","uint256[]","uint256[]","uint256[]"],["_token","_trx","_uniToken","_totalsupply"]),s=r._token,i=r._trx,u=r._uniToken,c=r._totalsupply,d=[],l=0;l<o.length;l++)d.push({logo:n[l].tokenLogoUrl,symbol:n[l].tokenSymbol,token:s[l].toString().fromSun(n[l].tokenDecimal),trx:i[l].toString().fromSun(),lp:u[l].toString().fromSun(),myShare:u[l].toString().toBN().div(c[l].toString().toBN()).multipliedBy("100".toBN()).toString().toFixed(2),address:n[l].address,tokenAddress:n[l].tokenAddress,tokenDecimal:n[l].tokenDecimal});t.justswapPools=d;case 14:case"end":return e.stop()}}),e)})))()}}},u=i,c=u,d=(n("bccf"),n("2877")),l=Object(d["a"])(c,o,r,!1,null,"b45645fc",null);e["default"]=l.exports},"22a8":function(t,e,n){"use strict";n("d01f")},3817:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"just-swap"},[o("div",{class:1==t.$ccstyle1?"content":"content1"},[o("div",{staticClass:"tokens"},[o("div",{staticClass:"token"},[t._m(0),o("span",{domProps:{textContent:t._s(t.$t("joinFundPool.text2"))}}),o("span",[t._v(t._s(t.trxBalance))])]),o("div",{staticClass:"logos"},[o("img",{attrs:{src:n("90bd")}}),o("img",{attrs:{src:t.tokenInfo.tokenLogoUrl}})]),o("div",{staticClass:"token"},[o("div",{staticClass:"symbol select",on:{click:t.openSearch}},[t.tokenInfo?o("span",[t._v(t._s(t.tokenInfo.tokenSymbol))]):o("span",{staticClass:"placeholder"},[t._v(t._s(t.$t("joinFundPool.text3")))]),o("img",{attrs:{src:n("9283")}})]),o("span",{domProps:{textContent:t._s(t.$t("joinFundPool.text2"))}}),o("span",[t._v(t._s(t.tokenBalance))])])]),o("div",{class:"en"==t.$i18n.locale?"inputs1   ":"inputs"},[o("van-field",{attrs:{type:"number",placeholder:t.$t("joinFundPool.text4")},on:{input:t.inputTRX},model:{value:t.trxAmount,callback:function(e){t.trxAmount=e},expression:"trxAmount"}}),o("span",[t._v("+")]),o("van-field",{attrs:{type:"number",placeholder:t.$t("joinFundPool.text4")},on:{input:t.inputToken},model:{value:t.tokenAmount,callback:function(e){t.tokenAmount=e},expression:"tokenAmount"}})],1),o("div",{staticClass:"rate"},[o("div",[o("span",{directives:[{name:"show",rawName:"v-show",value:!t.rateChanged,expression:"!rateChanged"}]},[t._v(t._s(t.$t("joinFundPool.text5"))+" 1TRX = "+t._s(t.rate)+t._s(t.tokenInfo.tokenSymbol))]),o("span",{directives:[{name:"show",rawName:"v-show",value:t.rateChanged,expression:"rateChanged"}]},[t._v(t._s(t.$t("joinFundPool.text5"))+" 1"+t._s(t.tokenInfo.tokenSymbol)+" = "+t._s(t.rate)+"TRX")]),o("img",{attrs:{src:n("fe12")},on:{click:t.switchRate}})]),o("div",[o("span",[t._v(t._s(t.$t("joinFundPool.text6"))+" "+t._s(t.prop))]),o("img",{attrs:{src:n("4fe1")},on:{click:t.openSetting,change:t.changeDeadline}})])]),o("van-button",{on:{click:t.addLiquidity}},[t._v(t._s(t.$t("joinFundPool.text7")))])],1),o("search-tokens",{ref:"searchTokens",on:{select:t.select}}),o("fundpool-state",{attrs:{state:t.state,trxAmount:t.trxAmount,tokenInfo:{amount:t.tokenAmount,symbol:t.tokenInfo.tokenSymbol},lp:t.min_liquidity,rate:t.rate,reRate:t.reRate,prop:t.prop},on:{addLiquidity:t.addLiquidity,close:t.close}}),o("trading-setup",{ref:"tradingSetup",on:{change:t.changeDeadline}})],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"symbol"},[n("span",[t._v("TRX")])])}],s=(n("99af"),n("0d03"),n("a9e3"),n("b680"),n("d3b7"),n("25f0"),n("96cf"),n("1da1")),a=n("e549"),i=n("aca7"),u={components:{"search-tokens":function(){return Promise.resolve().then(n.bind(null,"bab4"))},"fundpool-state":function(){return Promise.resolve().then(n.bind(null,"e0d3"))},"trading-setup":function(){return Promise.resolve().then(n.bind(null,"0430"))}},data:function(){return{trxAmount:"",tokenAmount:"",trxBalance:"--",tokenBalance:"--",tokenInfo:{},contract:{},exTrxBalance:0,exTokenBalace:0,totalLiquidity:0,allowance:0,rate:"--",reRate:"",trxInputing:!1,tokenInputing:!1,prop:"--",rateChanged:!1,state:"none",min_liquidity:100.0001,slipPoint:2,deadline:600}},created:function(){if(this.$utils){var t=this.$route.query;t.token?this.select({token:JSON.parse(t.token)}):this.select({token:i["e"]}),this.init()}},methods:{miningMessage:function(){vant.Toast.fail(this.$t("justswap.text1"))},init:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,tronWeb.trx.getBalance(t.$address);case 2:t.trxBalance=e.sent.fromSun().toFixed(2);case 3:case"end":return e.stop()}}),e)})))()},addLiquidity:function(){var t=this;if(this.trxBalance<Number(this.trxAmount))return vant.Toast.fail("TRX"+this.$t("joinFundPool.text13"));if(this.tokenBalance<Number(this.tokenAmount))return vant.Toast.fail("".concat(this.tokenInfo.tokenSymbol).concat(this.$t("joinFundPool.text13")));if(this.allowance<Number(this.tokenAmount))return this.approve();var e=Math.floor((new Date).getTime()/1e3)+this.deadline,n=this.trxAmount.toSun().toBN(),o=n.div(100).multipliedBy(this.slipPoint),r=n.minus(o).div(this.exTrxBalance).multipliedBy(this.totalLiquidity).toFixed(0),a=n.plus(o).multipliedBy(this.exTokenBalace).div(this.exTrxBalance).toFixed(0);this.min_liquidity=r.fromSun(),this.contract.addLiquidity(r,a,e).send({callValue:this.trxAmount.toSun()}).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state="in",e.next=3,t.$loading(n);case 3:if(!e.sent){e.next=7;break}t.state="done",e.next=8;break;case 7:t.state="none";case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},approve:function(){var t=this,e=tronWeb.contract(trc20Abi,this.tokenInfo.tokenAddress);e.approve(this.tokenInfo.address,(10*Number(this.tokenAmount)).toSun(this.tokenInfo.tokenDecimal)).send().then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state="approve",e.next=3,t.$loading(n);case 3:if(!e.sent){e.next=10;break}return e.next=6,t.$utils.call({contractAddress:t.tokenInfo.tokenAddress,method:"allowance(address,address)",parameter:[{type:"address",value:t.$address},{type:"address",value:t.tokenInfo.address}]});case 6:t.allowance=e.sent.constant_result[0].decode(["uint256"]).toString().fromSun(t.tokenInfo.tokenDecimal),t.state="approved",e.next=11;break;case 10:t.state="none";case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},select:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var o,r,s,i,u,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=t.token,"TRX"!==o.tokenSymbol){n.next=3;break}return n.abrupt("return",vant.Toast.fail(e.$t("joinFundPool.text12")));case 3:return e.tokenInfo=o,e.contract=tronWeb.contract(a,o.address),n.next=7,e.$utils.call({contractAddress:o.tokenAddress,method:"balanceOf(address)",parameter:[{type:"address",value:e.$address}]});case 7:return e.tokenBalance=n.sent.constant_result[0].decode(["uint256"]).toString().fromSun(o.tokenDecimal).toFixed(2),n.next=10,e.$utils.call({contractAddress:"TCNYd8L5hBey9FwPpvgtvDaY2cHjMFVLZu",method:"getSingleInfo(address,address)",parameter:[{type:"address",value:e.$address},{type:"address",value:o.tokenAddress}]});case 10:r=n.sent.constant_result[0].decode(["address","uint256","uint256","uint256","uint256","uint256","uint256","uint256"],["_exchangeAddr","_allowance","_exTokenBalace","_exTrxBalance","_totalLiquidity","_userUniAmount","_userTrxAmount","_userTokenAmount"]),s=r._exTrxBalance,i=r._exTokenBalace,u=r._totalLiquidity,c=r._allowance,e.exTrxBalance=s.toString().toBN(),e.exTokenBalace=i.toString().toBN(),e.totalLiquidity=u.toString().toBN(),e.allowance=c.toString().fromSun(o.tokenDecimal),e.rate="1".toSun().toBN().multipliedBy(e.exTokenBalace).div(e.exTrxBalance).toString().fromSun(e.tokenInfo.tokenDecimal).toFixed(e.tokenInfo.tokenDecimal),e.reRate="1".toSun(e.tokenInfo.tokenDecimal).toBN().multipliedBy(e.exTrxBalance).div(e.exTokenBalace).toString().fromSun().toFixed(6);case 21:case"end":return n.stop()}}),n)})))()},inputTRX:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.tokenInputing){e.next=2;break}return e.abrupt("return",t.tokenInputing=!1);case 2:if(""!==t.trxAmount){e.next=6;break}return t.tokenAmount="",t.prop="--",e.abrupt("return",!1);case 6:t.trxInputing=!0,t.trxAmount.length>0&&(t.tokenAmount=t.trxAmount.toSun().toBN().multipliedBy(t.exTokenBalace).div(t.exTrxBalance).toString().fromSun(t.tokenInfo.tokenDecimal).toFixed(t.tokenInfo.tokenDecimal)),n=t.trxAmount.toSun().toBN(),t.prop="".concat(n.div(t.exTrxBalance.plus(n)).multipliedBy("100".toBN()).toString().toFixed(6),"%");case 10:case"end":return e.stop()}}),e)})))()},inputToken:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.trxInputing){e.next=2;break}return e.abrupt("return",t.trxInputing=!1);case 2:if(""!==t.tokenAmount){e.next=6;break}return t.trxAmount="",t.prop="--",e.abrupt("return",!1);case 6:t.tokenInputing=!0,t.tokenAmount.length>0&&(t.trxAmount=t.tokenAmount.toSun(t.tokenInfo.tokenDecimal).toBN().multipliedBy(t.exTrxBalance).div(t.exTokenBalace).toString().fromSun().toFixed(6)),n=t.trxAmount.toSun().toBN(),t.prop="".concat(n.div(t.exTrxBalance.plus(n)).multipliedBy("100".toBN()).toString().toFixed(6),"%");case 10:case"end":return e.stop()}}),e)})))()},switchRate:function(){if(!this.tokenInfo.address)return vant.Toast.fail(this.$t("joinFundPool.text14"));this.rateChanged=!this.rateChanged,this.rateChanged?this.rate="1".toSun(this.tokenInfo.tokenDecimal).toBN().multipliedBy(this.exTrxBalance).div(this.exTokenBalace).toString().fromSun().toFixed(6):this.rate="1".toSun().toBN().multipliedBy(this.exTokenBalace).div(this.exTrxBalance).toString().fromSun(this.tokenInfo.tokenDecimal).toFixed(this.tokenInfo.tokenDecimal)},changeDeadline:function(t){var e=t.slipPoint,n=t.deadline;this.slipPoint=e,this.deadline=n},openSetting:function(){this.$refs.tradingSetup.open()},openSearch:function(){this.$refs.searchTokens.open()},close:function(){this.state="none",this.trxAmount="",this.tokenAmount="",this.init()}}},c=u,d=c,l=(n("cb1f"),n("2877")),p=Object(l["a"])(d,o,r,!1,null,"7d40da56",null);e["default"]=p.exports},"3ca2":function(t,e,n){},"44f3":function(t,e,n){},"4b5e":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:"none"!==t.state,expression:"state !== 'none'"}],staticClass:"transaction-state"},[n("create",{directives:[{name:"show",rawName:"v-show",value:["create","creating"].includes(t.state),expression:"['create', 'creating'].includes(state)"}],attrs:{state:t.state},on:{createPair:t.createPair}}),n("before",{directives:[{name:"show",rawName:"v-show",value:["approve","approved"].includes(t.state),expression:"['approve', 'approved'].includes(state)"}],attrs:{state:t.state,token0:t.token0,token1:t.token1,waitApprove:t.waitApprove},on:{addLiquidity:t.addLiquidity}}),n("in",{directives:[{name:"show",rawName:"v-show",value:"in"===t.state,expression:"state === 'in'"}],attrs:{token0:t.token0,token1:t.token1,lp:t.lp,rate:t.rate,reRate:t.reRate,prop:t.prop}}),n("after",{directives:[{name:"show",rawName:"v-show",value:"done"===t.state,expression:"state === 'done'"}],attrs:{token0:t.token0,token1:t.token1},on:{close:t.close}})],1)},r=[],s=(n("a9e3"),n("d3b7"),{components:{create:function(){return n.e("chunk-4dd6259e").then(n.bind(null,"50a5"))},before:function(){return n.e("chunk-ca849334").then(n.bind(null,"97b7"))},in:function(){return n.e("chunk-28cd091d").then(n.bind(null,"925c"))},after:function(){return n.e("chunk-6c7c0afa").then(n.bind(null,"1b2d"))}},props:{state:{type:String,required:!0},token0:{type:Object,required:!0},token1:{type:Object,required:!0},waitApprove:{type:Array,required:!0},lp:{type:[Number,String],required:!0},rate:{type:[Number,String],required:!0},reRate:{type:[Number,String],required:!0},prop:{type:[Number,String],required:!0}},data:function(){return{}},methods:{createPair:function(){this.$emit("createPair")},addLiquidity:function(){this.$emit("addLiquidity")},close:function(){this.$emit("close")}}}),a=s,i=a,u=(n("22a8"),n("2877")),c=Object(u["a"])(i,o,r,!1,null,"08df4d06",null);e["default"]=c.exports},"4fe1":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAE8klEQVRIS9VXXWgcVRT+zp1NW2x98yEpCqVpsSUpKFoQVIhYMUKFisbubivdzKS2m5mggg+VIiq22Ic+FDKbTWl2dkPr7NYoFlqwouKCL0oVhSY20jYWXBLf7X927pE7m4mTzWyStvrgPCVz7j3fnp/vnG8IizxdevrhGLRDBO4EUAH4fdcZ+Dh8Lan37mDQAQKaGXS2Cm/fiJP9bSHX1MjY1dW7Kna/2A/C2wTEwuckeEspl/lGvYsb5rMC9HXYzkAVjMPVv+TBkZGBq1EYkcDJbut5CAwBeFBdYnBJwjsoOLaDCPuYMTo1MfqosrWsbT9PhA0ADnuoDgto+wkUnwGrQKLHzdtf1oPPA95hWE9KoKyiZMa4B6/vEyfrR9SRSq1Yra08D9A6MBd8Z0QpZr4yJa9tLBcKN9WrV/X0Fg1av/pBKnqW/FQpn/khDD4POKmbeeVMOZ6cGNtdLper4QuJ7vROEtrxOamV3mvFfPZE+F1HR0espbUtS6Ae5ct1Mt2LAFunQdgqJeKlvH0yqj5Jw/wwKINqODeXeTfqXLzb2i4ESgycKubslxYGNqw3ABwJ6lgf8WIsCOwq4tWtbecAekQyWyUnk1kQWNWxRaz8nYiaWXKqmM8MLxVsbknMXSRI9UFl0ru6Pqh/cCayq+N6eq8gLVtLo/3Q3QAnDesPVQ7JXrrkZAcbdvX2XX2tQtToA5IWEb3C4LPFXOaF8KVkT/oxSK2HaxQCMcYhvCF3KPvTnHO6eRpEW5n5U7CwlU1KVE4O91/27yUSrz+A+5pGCNQxp1OBavWW3DhyYuCSTyVVs7Xt/SDsjcwAy8HJiV/7gp7o2tm7LrZcXKgfPgwu4/p0FyV0s0ikCM83mfHnPzWgguvYHwT/J3UrG4Aq3gI4NWPbRkRr/L8Zg65jp0N33mNwatYnoRmgFQycoKRu3gDRilseNn5WsMcjaaHveVxQ07nA+eTE6GxktUy0HfO5r9LJ05tLztEfo/y8nLI2LNdwAcw3KWlYrA65Obvh3A6i9SfUxNj6eor5w2Jt28WZyG03Z/c1asgAb0nACcP6loAOZj5SdDJvRWbFsPoFoKIoF3P2M/9v4P8o1eYN1WnT7G1otLzj/1JzKVHRRNq4YhAlDOs4ATtVpzHujE5MFCPmrUumE9CsGOTTqTZAlo2o5rm3AYLBMM0aDxCUcf121yyF1EEtJvyRSYJNNTLBfMZ1Mi+Gf5CfdjQZsyMTGJU8PVzP3YRhfkGgTjUyWZK/mbyqrASTMJK7CaN3D0GowX7PS4Ih9xZzA0cbLonAUJM3qy7WNovsLjkDNYlzh09c700JEvklr8W4bpqCyAb4l8nLY5vvRQi0tLb/TED7koRAwrA+J2AbwAk3lylFBZrQrY8I3DwzuytuPlr6JA0zDlARjDOuY8/plXk1ThjmMSXQGDw0dXksXR+xEu8gMUfYRemz8PJQvoq5zO5wEPOAt6fSTwhN+y6Qt0xsBeJ9RhZd8HkbkrdgvjQpr20K5I0S+cRkB/JWet7TJwvZ7xcEVsZEqreTNHFsVtAzl+DhADT0ENGbSm9PTYxuUmeDOjLjkASVBOS+2n73nwp7cnexMHB20a4ODiz0CQP2nnNnRH5ST28BaV/VD5+7+oQJO1HLe5kG1UydzHQF7B2sF+9K5IO0/US8Rn203fbwTiNREfj+G5+Vwwh1gLuqAAAAAElFTkSuQmCC"},7877:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"nft-swap"},[o("div",{class:1==t.$ccstyle1?"content":"content1"},[o("div",{staticClass:"tokens"},[o("div",{staticClass:"token"},[o("div",{staticClass:"symbol select",on:{click:function(e){return t.openSearch("token0")}}},[o("span",[t._v(t._s(t.token0.tokenSymbol))]),o("img",{attrs:{src:n("9283")}})]),o("span",{domProps:{textContent:t._s(t.$t("joinFundPool.text2"))}}),o("span",[t._v(t._s(t.token0Balance))])]),o("div",{staticClass:"logos"},[o("img",{attrs:{src:t.token0.tokenLogoUrl}}),o("img",{attrs:{src:t.token1.tokenLogoUrl}})]),o("div",{staticClass:"token"},[o("div",{staticClass:"symbol select",on:{click:function(e){return t.openSearch("token1")}}},[o("span",[t._v(t._s(t.token1.tokenSymbol))]),o("img",{attrs:{src:n("9283")}})]),o("span",{domProps:{textContent:t._s(t.$t("joinFundPool.text2"))}}),o("span",[t._v(t._s(t.token1Balance))])])]),o("div",{class:"en"==t.$i18n.locale?"inputs1   ":"inputs"},[o("van-field",{attrs:{type:"number",placeholder:t.$t("joinFundPool.text4")},on:{input:t.inputToken0},model:{value:t.token0Amount,callback:function(e){t.token0Amount=e},expression:"token0Amount"}}),o("span",[t._v("+")]),o("van-field",{class:t.overflow?"overflow":"",attrs:{id:"token1",type:"number",placeholder:t.$t("joinFundPool.text4")},on:{input:t.inputToken1},model:{value:t.token1Amount,callback:function(e){t.token1Amount=e},expression:"token1Amount"}})],1),o("div",{staticClass:"rate-container"},[o("span",[t._v(t._s(t.$t("nftswap.text5")))]),o("van-popover",{attrs:{actions:t.gasActions,trigger:"click",placement:"right"},scopedSlots:t._u([{key:"reference",fn:function(){return[o("img",{attrs:{src:n("4fd3")}})]},proxy:!0}]),model:{value:t.gasPopover,callback:function(e){t.gasPopover=e},expression:"gasPopover"}}),o("div",{staticClass:"stepper"},[o("span",{on:{click:t.lessGas}},[t._v("-")]),o("i"),o("div",[o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.gasPrice,expression:"gasPrice"}],attrs:{disabled:!t.canModify},domProps:{value:t.gasPrice},on:{input:[function(e){e.target.composing||(t.gasPrice=e.target.value)},t.inputBrunOrBonus]}}),o("span",[t._v("%")])])]),o("i"),o("span",{on:{click:t.addGas}},[t._v("+")])])],1),t.isBurn?o("div",{staticClass:"rate-container"},[o("span",[t._v(t._s(t.$t("nftswap.text6")))]),o("van-popover",{attrs:{actions:t.transactionActions,trigger:"click",placement:"right"},scopedSlots:t._u([{key:"reference",fn:function(){return[o("img",{attrs:{src:n("4fd3")}})]},proxy:!0}],null,!1,2915626883),model:{value:t.transactionPopover,callback:function(e){t.transactionPopover=e},expression:"transactionPopover"}}),o("div",{staticClass:"rate-select"},[o("div",[o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.burn,expression:"burn"}],attrs:{disabled:!t.canModify},domProps:{value:t.burn},on:{input:[function(e){e.target.composing||(t.burn=e.target.value)},t.inputBrunOrBonus]}})]),o("span",[t._v("%")])]),o("i"),o("div",{staticClass:"select"},[t.burnToken?o("img",{attrs:{src:t.burnToken.tokenLogoUrl}}):t._e(),t.burnToken?o("span",{domProps:{textContent:t._s(t.burnToken.tokenSymbol)}}):o("span",[t._v("none")]),o("img",{staticClass:"arrow",attrs:{src:n("9283")},on:{click:t.showBurnOptions}}),o("ul",{directives:[{name:"show",rawName:"v-show",value:t.burnOptionsShow,expression:"burnOptionsShow"}],staticClass:"options",on:{click:function(e){t.burnOptionsShow=!1}}},[["TRX","USDT"].includes(t.token0.tokenSymbol)?t._e():o("li",{on:{click:function(e){return t.selectBurn(t.token0)}}},[o("img",{attrs:{src:t.token0.tokenLogoUrl}}),o("span",{domProps:{textContent:t._s(t.token0.tokenSymbol)}})]),["TRX","USDT"].includes(t.token1.tokenSymbol)?t._e():o("li",{on:{click:function(e){return t.selectBurn(t.token1)}}},[o("img",{attrs:{src:t.token1.tokenLogoUrl}}),o("span",{domProps:{textContent:t._s(t.token1.tokenSymbol)}})])]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.burnOptionsShow,expression:"burnOptionsShow"}],staticClass:"overlay",on:{click:function(e){t.burnOptionsShow=!1}}})])])],1):t._e(),t.isBonus?o("div",{staticClass:"rate-container"},[o("span",[t._v(t._s(t.$t("nftswap.text7")))]),o("van-popover",{attrs:{actions:t.bonusActions,trigger:"click",placement:"right"},scopedSlots:t._u([{key:"reference",fn:function(){return[o("img",{attrs:{src:n("4fd3")}})]},proxy:!0}],null,!1,2915626883),model:{value:t.bonusPopover,callback:function(e){t.bonusPopover=e},expression:"bonusPopover"}}),o("div",{staticClass:"rate-select"},[o("div",[o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.bonus,expression:"bonus"}],attrs:{disabled:!t.canModify},domProps:{value:t.bonus},on:{input:[function(e){e.target.composing||(t.bonus=e.target.value)},t.inputBrunOrBonus]}})]),o("span",[t._v("%")])]),o("i"),o("div",{staticClass:"select"},[t.bonusToken?o("img",{attrs:{src:t.bonusToken.tokenLogoUrl}}):t._e(),t.bonusToken?o("span",{domProps:{textContent:t._s(t.bonusToken.tokenSymbol)}}):o("span",[t._v("none")]),o("img",{staticClass:"arrow",staticStyle:{visibility:"hidden"},attrs:{src:n("9283")}})])])],1):t._e(),o("div",{staticClass:"rate"},[o("div",[o("span",{directives:[{name:"show",rawName:"v-show",value:!t.rateChanged,expression:"!rateChanged"}]},[t._v(t._s(t.$t("joinFundPool.text5"))+" 1"+t._s(t.token0.tokenSymbol)+" = "+t._s(t.rate)+t._s(t.token1.tokenSymbol))]),o("span",{directives:[{name:"show",rawName:"v-show",value:t.rateChanged,expression:"rateChanged"}]},[t._v(t._s(t.$t("joinFundPool.text5"))+" 1"+t._s(t.token1.tokenSymbol)+" = "+t._s(t.rate)+t._s(t.token0.tokenSymbol))]),o("img",{attrs:{src:n("fe12")},on:{click:t.switchRate}})]),o("div",[o("span",[t._v(t._s(t.$t("joinFundPool.text6"))+" "+t._s(t.prop))]),o("img",{attrs:{src:n("4fe1")},on:{click:t.openSetting,change:t.changeDeadline}})])]),o("van-button",{on:{click:t.addLiquidity}},[t._v(t._s(t.$t("joinFundPool.text7")))])],1),o("search-tokens",{ref:"searchTokens",on:{select:t.select}}),o("nft-state",{attrs:{state:t.state,token0:{amount:t.token0Amount,symbol:t.token0.tokenSymbol},token1:{amount:t.token1Amount,symbol:t.token1.tokenSymbol},waitApprove:t.waitApprove,lp:t.liquidity,rate:t.rate,reRate:t.reRate,prop:t.prop},on:{createPair:t.createPair,addLiquidity:t.addLiquidity,close:t.close}}),o("trading-setup",{ref:"tradingSetup",on:{change:t.changeDeadline}})],1)},r=[],s=(n("99af"),n("caad"),n("0d03"),n("a9e3"),n("b680"),n("d3b7"),n("25f0"),n("2532"),n("96cf"),n("1da1")),a=n("5530"),i=n("4746"),u=n("aca7"),c={components:{"search-tokens":function(){return Promise.resolve().then(n.bind(null,"bab4"))},"nft-state":function(){return Promise.resolve().then(n.bind(null,"4b5e"))},"trading-setup":function(){return Promise.resolve().then(n.bind(null,"0430"))}},data:function(){return{token0Amount:"",token1Amount:"",token0Balance:"--",token1Balance:"--",token0:u["e"],token1:u["b"],reserve0:0,reserve1:0,totalLiquidity:0,token0Allowance:0,token1Allowance:0,rate:"--",reRate:"--",token0Inputing:!1,token1Inputing:!1,prop:"--",rateChanged:!1,state:"none",liquidity:0,slipPoint:2,deadline:600,gasPrice:1,burn:5,burnOptionsShow:!1,burnToken:null,bonus:5,bonusToken:null,gasPopover:!1,transactionPopover:!1,bonusPopover:!1,gasActions:[{text:this.$t("nftswap.text1")}],transactionActions:[{text:this.$t("nftswap.text2")}],bonusActions:[{text:this.$t("nftswap.text3")}],canModify:!0,overflow:!1}},computed:{isBurn:function(){return!(u["c"].includes(this.token0.tokenSymbol)&&u["c"].includes(this.token1.tokenSymbol))},isBonus:function(){return[this.token0.tokenName,this.token1.tokenName].includes("TRC20-POS")},waitApprove:function(){var t=[];return this.token0Allowance<Number(this.token0Amount)&&t.push(this.token0),this.token1Allowance<Number(this.token1Amount)&&t.push(this.token1),t}}},d="T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb",l=Object(a["a"])(Object(a["a"])({},c),{},{created:function(){this.$utils&&this.init()},methods:{selectBurn:function(t){this.burnToken=t,this.bonusToken=t,this.burn=5*this.gasPrice,this.bonus=5*this.gasPrice},init:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,o,r,s,a,i,u,c,d,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.burnToken=t.token1,t.bonusToken=t.token1,e.next=4,t.$utils.call({contractAddress:t.token0.tokenAddress,method:"balanceOf(address)",parameter:[{type:"address",value:t.$address}]});case 4:return t.token0Balance=e.sent.constant_result[0].decode(["uint256"]).toString().fromSun(t.token0.tokenDecimal).toFixed(2),e.next=7,t.$utils.call({contractAddress:t.token1.tokenAddress,method:"balanceOf(address)",parameter:[{type:"address",value:t.$address}]});case 7:return t.token1Balance=e.sent.constant_result[0].decode(["uint256"]).toString().fromSun(t.token1.tokenDecimal).toFixed(2),e.next=10,t.$utils.call({contractAddress:t.$contracts.Factory.address,method:"getPair(address,address)",parameter:[{type:"address",value:t.token0.tokenAddress},{type:"address",value:t.token1.tokenAddress}]});case 10:if(n=e.sent.constant_result[0],t.pairAddress=0!==Number(n)?n.decode(["address"]):null,!t.pairAddress){e.next=40;break}return t.$emit("change",t.token0,t.token1),e.next=16,t.$utils.call({contractAddress:t.pairAddress,method:"getReserves()"});case 16:return o=e.sent.constant_result[0].decode(["uint112","uint112","uint","uint","uint","uint"],["_reserve0","_reserve1","_tradeFeeRate","_burn0or1","_rate","_posRate"]),r=o._reserve0,s=o._reserve1,a="0x".concat(tronWeb.address.toHex(t.token0.tokenAddress)).toBN().gt("0x".concat(tronWeb.address.toHex(t.token1.tokenAddress))),t.reserve0=a?s.toString().toBN():r.toString().toBN(),t.reserve1=a?r.toString().toBN():s.toString().toBN(),e.next=24,t.$utils.call({contractAddress:t.pairAddress,method:"totalSupply()"});case 24:return t.totalLiquidity=e.sent.constant_result[0].decode(["uint"]).toString().toBN(),t.rate="1".toSun(t.token0.tokenDecimal).toBN().multipliedBy(t.reserve1).div(t.reserve0).toString().fromSun(t.token1.tokenDecimal).toFixed(6),t.reRate="1".toSun(t.token1.tokenDecimal).toBN().multipliedBy(t.reserve0).div(t.reserve1).toString().fromSun(t.token0.tokenDecimal).toFixed(6),e.next=29,t.$utils.call({contractAddress:t.pairAddress,method:"getNftParma()"});case 29:i=e.sent.constant_result[0].decode(["bytes"]).decode(["address","uint","uint","uint","uint"],["burnToken","burnRate","posRate","tradeRate","totalShare"]),u=i.burnToken,c=i.burnRate,d=i.posRate,l=i.tradeRate,t.gasPrice=l.toNumber(),t.burn=c.toNumber(),t.bonus=d.toNumber(),t.burnToken=tronWeb.address.fromHex(u)===t.token0.tokenAddress?t.token0:tronWeb.address.fromHex(u)===t.token1.tokenAddress?t.token1:null,t.bonusToken=t.burnToken,(t.gasPrice>0||t.burn>0||t.bonus>0)&&(t.canModify=!1);case 40:return e.next=42,t.$utils.call({contractAddress:t.token0.tokenAddress,method:"allowance(address,address)",parameter:[{type:"address",value:t.$address},{type:"address",value:t.$contracts.Router.address}]});case 42:return t.token0Allowance=e.sent.constant_result[0].decode(["uint"]).toString().fromSun(t.token0.tokenDecimal),e.next=45,t.$utils.call({contractAddress:t.token1.tokenAddress,method:"allowance(address,address)",parameter:[{type:"address",value:t.$address},{type:"address",value:t.$contracts.Router.address}]});case 45:t.token1Allowance=e.sent.constant_result[0].decode(["uint"]).toString().fromSun(t.token1.tokenDecimal);case 46:case"end":return e.stop()}}),e)})))()},createPair:function(){var t=this;this.$contracts.Factory.createPair(this.token0.tokenAddress,this.token1.tokenAddress).send({feeLimit:"1000".toSun()}).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state="creating",e.next=3,t.$loading(n);case 3:if(!e.sent){e.next=10;break}return e.next=6,t.$utils.call({contractAddress:t.$contracts.Factory.address,method:"getPair(address,address)",parameter:[{type:"address",value:t.token0.tokenAddress},{type:"address",value:t.token1.tokenAddress}]});case 6:t.pairAddress=e.sent.constant_result[0].decode(["address"]),t.waitApprove.length>0?t.approve(t.waitApprove[0].tokenSymbol===t.token0.tokenSymbol?"token0":"token1"):t.addLiquidity(),e.next=11;break;case 10:t.state="none";case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},addLiquidity:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,o,r,a,i,u,c,l,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.token0Balance<Number(t.token0Amount))){e.next=4;break}return e.abrupt("return",vant.Toast.fail("".concat(t.token0.tokenSymbol).concat(t.$t("joinFundPool.text13"))));case 4:if(!(t.token1Balance<Number(t.token1Amount))){e.next=8;break}return e.abrupt("return",vant.Toast.fail("".concat(t.token1.tokenSymbol).concat(t.$t("joinFundPool.text13"))));case 8:if(t.pairAddress){e.next=12;break}return e.abrupt("return",t.state="create");case 12:if(!(t.token0Allowance<Number(t.token0Amount))){e.next=16;break}return e.abrupt("return",t.approve());case 16:if(!(t.token1Allowance<Number(t.token1Amount))){e.next=20;break}return e.abrupt("return",t.approve("token1"));case 20:if(![t.token0.tokenSymbol,t.token1.tokenSymbol].includes("TRX")){e.next=22;break}return e.abrupt("return",t.addLiquidityETH());case 22:n=Math.floor((new Date).getTime()/1e3)+t.deadline,o="0"===t.reserve0.toString()?1:t.token0Amount.toSun(t.token0.tokenDecimal).toBN().div(100).times(t.slipPoint).toFixed(0),r="0"===t.reserve0.toString()?1:t.token1Amount.toSun(t.token1.tokenDecimal).toBN().div(100).times(t.slipPoint).toFixed(0),a=[["uint","uint","uint","uint"],[t.token0Amount.toSun(t.token0.tokenDecimal),t.token1Amount.toSun(t.token1.tokenDecimal),o,r]],i=[["address","uint","uint","uint"],[t.burnToken?t.burnToken.tokenAddress:d,t.burn,t.bonus,t.gasPrice]],"0"===t.reserve0.toString()?t.liquidity=t.token0Amount.toSun(t.token0.tokenDecimal).toBN().times(t.token1Amount.toSun(t.token1.tokenDecimal)).sqrt().toString().fromSun(18).toFixed(18):(u=t.token0Amount.toSun(t.token0.tokenDecimal).toBN(),c=t.token1Amount.toSun(t.token1.tokenDecimal).toBN(),l=u.times(t.totalLiquidity).div(t.reserve0),p=c.times(t.totalLiquidity).div(t.reserve1),t.liquidity=l.gt(p)?p.toString().fromSun(18).toFixed(18):l.toString().fromSun(18).toFixed(18)),t.$contracts.Router.addLiquidity(t.token0.tokenAddress,t.token1.tokenAddress,t.$address,n,a.encode(),i.encode()).send({feeLimit:"1000".toSun()}).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state="in",e.next=3,t.$loading(n);case 3:if(!e.sent){e.next=7;break}t.state="done",e.next=8;break;case 7:t.state="none";case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 29:case"end":return e.stop()}}),e)})))()},addLiquidityETH:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,o,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="TRX"===t.token0.tokenSymbol?"token1":"token0",o=Math.floor((new Date).getTime()/1e3)+t.deadline,e.next=4,t.$utils.call({contractAddress:t.$contracts.Router.address,method:"quote(uint,uint,uint)",parameter:[{type:"uint",value:t.token1Amount.toSun(t.token1.tokenDecimal)},{type:"uint",value:t.reserve1.toString()},{type:"uint",value:t.reserve0.toString()}]});case 4:return r=e.sent.constant_result[0].decode(["uint"]).toString(),e.next=7,t.$utils.call({contractAddress:t.$contracts.Router.address,method:"quote(uint,uint,uint)",parameter:[{type:"uint",value:t.token0Amount.toSun(t.token0.tokenDecimal)},{type:"uint",value:t.reserve0.toString()},{type:"uint",value:t.reserve1.toString()}]});case 7:a=e.sent.constant_result[0].decode(["uint"]).toString(),i=[["address","uint","uint","uint"],[t.burnToken?t.burnToken.tokenAddress:d,t.burn,t.bonus,t.gasPrice]],t.$contracts.Router.addLiquidityETH(t[n].tokenAddress,t.token1Amount.toSun(t.token1.tokenDecimal),r,a,t.$address,o,i.encode()).send({callValue:t.token0Amount.toSun(),feeLimit:"1000".toSun()}).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.state="in",e.next=3,t.$loading(n);case 3:if(!e.sent){e.next=7;break}t.state="done",e.next=8;break;case 7:t.state="none";case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e)})))()},approve:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token0",n=tronWeb.contract(i,this[e].tokenAddress);n.approve(this.$contracts.Router.address,(10*Number(this["".concat(e,"Amount")])).toSun(this[e].tokenDecimal)).send().then(function(){var n=Object(s["a"])(regeneratorRuntime.mark((function n(o){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.state="approve",n.next=3,t.$loading(o);case 3:if(!n.sent){n.next=10;break}return n.next=6,t.$utils.call({contractAddress:t[e].tokenAddress,method:"allowance(address,address)",parameter:[{type:"address",value:t.$address},{type:"address",value:t.$contracts.Router.address}]});case 6:t["".concat(e,"Allowance")]=n.sent.constant_result[0].decode(["uint256"]).toString().fromSun(t[e].tokenDecimal),t.waitApprove.length>0?t.approve("token1"):t.state="approved",n.next=11;break;case 10:t.state="none";case 11:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())},select:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var o,r,s,a,i,u,c,d,l,p,k,m,v,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=t.token,r=t.who,s=void 0===r?"token0":r,a="token0"===s?e.token1:e.token0,o.tokenSymbol!==a.tokenSymbol){n.next=4;break}return n.abrupt("return",vant.Toast.fail(e.$t("joinFundPool.text12")));case 4:if(e[s]=o,"TRX"!==o.tokenSymbol){n.next=11;break}return n.next=8,e.getTRXBalance();case 8:n.t0=n.sent,n.next=14;break;case 11:return n.next=13,e.getTokenBalance(o);case 13:n.t0=n.sent;case 14:return e["".concat(s,"Balance")]=n.t0,n.next=17,e.$utils.call({contractAddress:e.$contracts.Factory.address,method:"getPair(address,address)",parameter:[{type:"address",value:e.token0.tokenAddress},{type:"address",value:e.token1.tokenAddress}]});case 17:if(i=n.sent.constant_result[0],e.pairAddress=0!==Number(i)?i.decode(["address"]):null,!e.pairAddress){n.next=47;break}return n.next=22,e.$utils.call({contractAddress:e.pairAddress,method:"getReserves()"});case 22:return u=n.sent.constant_result[0].decode(["uint112","uint112","uint","uint","uint","uint"],["_reserve0","_reserve1","_tradeFeeRate","_burn0or1","_rate","_posRate"]),c=u._reserve0,d=u._reserve1,l="0x".concat(tronWeb.address.toHex(e.token0.tokenAddress)).toBN().gt("0x".concat(tronWeb.address.toHex(e.token1.tokenAddress))),e.reserve0=l?d.toString().toBN():c.toString().toBN(),e.reserve1=l?c.toString().toBN():d.toString().toBN(),n.next=30,e.$utils.call({contractAddress:e.pairAddress,method:"totalSupply()"});case 30:return e.totalLiquidity=n.sent.constant_result[0].decode(["uint"]).toString().toBN(),e.rate="1".toSun(e.token0.tokenDecimal).toBN().multipliedBy(e.reserve1).div(e.reserve0).toString().fromSun(e.token1.tokenDecimal).toFixed(6),e.reRate="1".toSun(e.token1.tokenDecimal).toBN().multipliedBy(e.reserve0).div(e.reserve1).toString().fromSun(e.token0.tokenDecimal).toFixed(6),n.next=35,e.$utils.call({contractAddress:e.pairAddress,method:"getNftParma()"});case 35:p=n.sent.constant_result[0].decode(["bytes"]).decode(["address","uint","uint","uint","uint"],["burnToken","burnRate","posRate","tradeRate","totalShare"]),k=p.burnToken,m=p.burnRate,v=p.posRate,f=p.tradeRate,e.gasPrice=f.toNumber(),e.burn=m.toNumber(),e.bonus=v.toNumber(),e.burnToken=tronWeb.address.fromHex(k)===e.token0.tokenAddress?e.token0:tronWeb.address.fromHex(k)===e.token1.tokenAddress?e.token1:null,e.bonusToken=e.burnToken,n.next=58;break;case 47:e.reserve0=0,e.reserve1=0,e.totalLiquidity=0,e.rate="--",e.reRate="--",e.gasPrice=1,e.burn=5,e.bonus=5,e.burnToken=null,e.bonusToken=null,e.canModify=!0;case 58:if("TRX"===o.tokenSymbol){n.next=64;break}return n.next=61,e.$utils.call({contractAddress:o.tokenAddress,method:"allowance(address,address)",parameter:[{type:"address",value:e.$address},{type:"address",value:e.$contracts.Router.address}]});case 61:e["".concat(s,"Allowance")]=n.sent.constant_result[0].decode(["uint"]).toString().fromSun(o.tokenDecimal),n.next=65;break;case 64:e["".concat(s,"Allowance")]=1e8;case 65:e.$emit("change",e.token0,e.token1);case 66:case"end":return n.stop()}}),n)})))()},inputToken0:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("0"!==t.reserve0.toString()){e.next=2;break}return e.abrupt("return",!1);case 2:if(!t.token1Inputing){e.next=4;break}return e.abrupt("return",t.token1Inputing=!1);case 4:if(""!==t.token0Amount){e.next=9;break}return t.token1Amount="",t.prop="--",t.overflow=!1,e.abrupt("return",!1);case 9:t.token0Inputing=!0,t.token0Amount.length>0&&(t.token1Amount=t.token0Amount.toSun(t.token0.tokenDecimal).toBN().multipliedBy(t.reserve1).div(t.reserve0).toString().fromSun(t.token1.tokenDecimal).toFixed(2)),n=t.token0Amount.toSun(t.token0.tokenDecimal).toBN(),t.prop="".concat(n.div(t.reserve0.plus(n)).multipliedBy("100".toBN()).toString().toFixed(6),"%");case 13:case"end":return e.stop()}}),e)})))()},inputToken1:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("0"!==t.reserve0.toString()){e.next=2;break}return e.abrupt("return",!1);case 2:if(!t.token0Inputing){e.next=4;break}return e.abrupt("return",t.token0Inputing=!1);case 4:if(""!==t.token1Amount){e.next=9;break}return t.token0Amount="",t.prop="--",t.overflow=!1,e.abrupt("return",!1);case 9:t.token1Inputing=!0,t.token1Amount.length>0&&(t.token0Amount=t.token1Amount.toSun(t.token1.tokenDecimal).toBN().multipliedBy(t.reserve0).div(t.reserve1).toString().fromSun(t.token0.tokenDecimal).toFixed(t.token0.tokenDecimal)),n=t.token0Amount.toSun().toBN(),t.prop="".concat(n.div(t.reserve0.plus(n)).multipliedBy("100".toBN()).toString().toFixed(6),"%");case 13:case"end":return e.stop()}}),e)})))()},switchRate:function(){if(this.rateChanged=!this.rateChanged,!this.pairAddress)return!1;var t;t=this.rateChanged?"1".toSun(this.token1.tokenDecimal).toBN().multipliedBy(this.reserve0).div(this.reserve1).toString().fromSun(this.token0.tokenDecimal).toFixed(6):"1".toSun(this.token0.tokenDecimal).toBN().multipliedBy(this.reserve1).div(this.reserve0).toString().fromSun(this.token1.tokenDecimal).toFixed(6),this.rate=t>0?t:"<0.000001"},getTRXBalance:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,tronWeb.trx.getBalance(t.$address);case 2:return e.abrupt("return",e.sent.fromSun().toFixed(2));case 3:case"end":return e.stop()}}),e)})))()},getTokenBalance:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$utils.call({contractAddress:t.tokenAddress,method:"balanceOf(address)",parameter:[{type:"address",value:e.$address}]});case 2:return n.abrupt("return",n.sent.constant_result[0].decode(["uint256"]).toString().fromSun(t.tokenDecimal).toFixed(2));case 3:case"end":return n.stop()}}),n)})))()},changeDeadline:function(t){var e=t.slipPoint,n=t.deadline;this.slipPoint=e,this.deadline=n},openSetting:function(){this.$refs.tradingSetup.open()},openSearch:function(t){this.$refs.searchTokens.open(t)},close:function(){this.state="none",this.token0Amount="",this.token1Amount="",this.init()},addGas:function(){if(!this.canModify)return vant.Toast.fail(this.$t("nftswap.text4"));this.gasPrice++,this.gasPrice>100&&(this.gasPrice=100)},lessGas:function(){if(!this.canModify)return vant.Toast.fail(this.$t("nftswap.text4"));this.gasPrice--,this.gasPrice<1&&(this.gasPrice=1)},showBurnOptions:function(){if(!this.canModify)return vant.Toast.fail(this.$t("nftswap.text4"));this.burnOptionsShow=!0},inputBrunOrBonus:function(){var t=Number(this.burn),e=Number(this.bonus),n=Number(this.gasPrice);t>5*n&&(this.burn=5*n),e>5*n&&(this.bonus=5*n)}}}),p=l,k=p,m=(n("ffab"),n("a867"),n("2877")),v=Object(m["a"])(k,o,r,!1,null,"ebaddd2a",null);e["default"]=v.exports},"7a58":function(t,e,n){t.exports=n.p+"img/liquidity1.65738509.png"},"86d4":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAArCAYAAACNWyPFAAADhklEQVRYR63XR6idVRTF8V+MmtgjsYugBg0oZiIklkHAgG0izqwJ0QQjdlBjbAMVFQsIYm8TBRUEBRFFFBQn4sACYkGDDUOw9x5lhf3B9eXed+/3ve9M3uM9zln3nL3Xf+07S/9raxyCe3Ao7prVs8a2OAIPYUGd/VmfInNwDO7HvsjZf+D2vkS2x0m4A7vXDX7FLbi1D5GdcQpuxrwS+BFX40H8PhOR7M2hq3EVdsK/+AaX4skIRLSrSPbthotxIXbAJmzA+Xi+6rH5Yl1EtsJeuAZnIvX4B5/gHLyGPwe7tq3IbOxXBT4Wc/E3PsDZeBN/TbVFG5GYLL2fFl1cAmnRt0rgw2ECbZ5rm3Lvw+XmeOI3vI5V+LRuNNTbk9wkBx6OR7A/4uqf8SrW4MuqyUh4jBPZDkcjN0ix82Q/4YXqqq/GCYx7rvT9sgJd2jVF/x5P43J8W207Fn+jbhKTBRO3YVekbb/Go7geP0wqMOom83EarkOQkbURd+NOBBlx9sRr8Cb5fY/qljzHjnXKF7gBj1fBWwkM3iQCe+MSnFsuDibi4suq0GnZ1gKNSN47Lr4Wp5bJgomPSjBeiEDnlRvExSnwieWBYOE9rMS7g6DrqhKRZ3FceSAcehunY/0oTLQVi8h32KWIHHoGdPHCL11rMAyQawvbQXYK+znW4ZmqRadiT0V9jBdf3Fjplv8nfFKnTB3h1IyEGp/EdCdkRiqH5+8xYDI6Yq0NOCq0EqHNSJOJI62dvH6i2jvcindar6nsCnWPqmfK7NRA8bkyaqAYD7VawwDZ5EfwfiASWHmuVyrDg/e0+sRrFIVz8GF4oBIxQZVhLe5fUfXaIstHqU4XWgmohdUMSwo3maPewRkVuf+bSrqIZE9qEuxk3Gymk9zgfSyvnxkmpl3j4jebG4BeWbiJaVOTYCfT4xvNpNj1Js2+fJhkfKbF8ypr0s6hw0V4cTpST3KTQaFk/VmFnRg4JIhpr8BT1Rxb0KGNSCOWzA+lE88Ba1b8k6n+vmFg7SKSQ3OLk/PdA5kJck68dC9umoqhriIRCoaOr+FizxKKlx6r5wuGNj/dTESyPxhaWrNZIjwtHy8lJi4o9m2aqUiEGgwlFg4qoZj0pWrxDX2IRCgYytfqzMuLSiheCoaW9yXS0OGAEjqyhOKll/sUaeiwT32HCYZCi4/7FmmaKW0dgx6c0PsPjAzCNM08Nz8AAAAASUVORK5CYII="},a867:function(t,e,n){"use strict";n("b2fe")},b2fe:function(t,e,n){},bccf:function(t,e,n){"use strict";n("d99b")},c590:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAArCAYAAACNWyPFAAADsUlEQVRYR63XWajtcxjG8c/PPA+ZSRlCmW6U8UJRphu5Mx6ZQuYyTxcIGUqZObihUIqSSBS5ObkwlAxxMuUkHMcxHPNPz+7dp2Wftc9ea539u9ntVev/Xe/vfZ/nef/NPJ/e+zrYGw9hX9zX5pPRe18PB+Mx7F7P/nLeIL339XEEHsFOyLP/wN3zAum9b4TjcQ+2qQp+wx24c40hvffNcCJuxxYFWI7rsbC19vvEkN57vpuHnoPrsCk6fsDleDaAQCeCFGBrXIqLsTH+xRJciJdba+nH1Bkb0ntfC9vjBpyG9OMffI5z8VZr7c/BqR0L0ntfGztXg4/CBvgbH+MsvNNa+2umLEaGlMgy+xnRAwuQK3m3AJ8MA4x8Xb33dbEPHi81RxMrsAhn44vWWioaeuaspER2AJ7ALoiqf8GbOA/ftNbSk1nPaiG99w1xWFWQZseXfsYrNVXfzQVY7XX13jP3R+JBZFzT9GV4HldiaWstYzvnGVpJ7z0ii03chS2Rsf0eT+Jm/DQqYGglvfetcDJuQiwj51s8gHuxvLUWZY98VlZSKt62piXXsUk95WvcgqfT8HEBKyspwA64DOeXinPfUfEV1egVkwCmIGUTUfGNOKlElpH8tICLWmvRxMQnkKg4DT6uNBBb+BBn4INBo5uUEsiLOLo0ENW+h1OweDabGBcWyI/YvBw57hmjixZ+nbQHM39EIFeVbceyM5pf4Rq8EH+aD1AgEV50cWulW35Iwid9ytYx0dgOVjOlk8rpY3F/KTyfR4ALCza2AFeBFCgROr3SZOOIlSSvn6nxXjaOlQyFFCiue2hdU3anaVN8qYQaU1ytrQ+bvFUMciA/ElC7IYGVFeeNyvDY+6wBNRKkKsqD98OjlYgJqixrScLT069xNDRraFWm71XDcFDZTfao93FqRe7/tpLZRDpXMqYnsZ2sm9PbSWznIyzI31FsZ5SMz5TFQK8tu4lo05PFtT2+Pb0pTlTJ9JcqCpLx2RYvqKxJFMQdLsGrq3PqOSuZAUrWn1m2k9SMDUW0V+O5DMcwGxoZMgBL5selE88x1pyltdU/PMxYx4YM2NAJefdAdoI8J1rKK9xtM/eAiSADNnRMLRfbFShaeqquLzY0tXBMDBmwocNrN8sEZuSjpcTERfG++N0aQQqUvThrbGJhjwJFpK/ViC9ZY8iADeW1Ovvy/gWKlmJDC+YFUqBc1a4FOqRA0dLr8wYpUNxhx3qHiQ3l/8/mFVKgPDNjHYHumdD7D1iiQylQCWPqAAAAAElFTkSuQmCC"},cb1f:function(t,e,n){"use strict";n("44f3")},d01f:function(t,e,n){},d81d:function(t,e,n){"use strict";var o=n("23e7"),r=n("b727").map,s=n("1dde"),a=n("ae40"),i=s("map"),u=a("map");o({target:"Array",proto:!0,forced:!i||!u},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},d99b:function(t,e,n){},e0d3:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:"none"!==t.state,expression:"state !== 'none'"}],staticClass:"transaction-state"},[n("before",{directives:[{name:"show",rawName:"v-show",value:["approve","approved"].includes(t.state),expression:"['approve', 'approved'].includes(state)"}],attrs:{state:t.state,trxAmount:t.trxAmount,tokenInfo:t.tokenInfo},on:{addLiquidity:t.addLiquidity}}),n("in",{directives:[{name:"show",rawName:"v-show",value:"in"===t.state,expression:"state === 'in'"}],attrs:{trxAmount:t.trxAmount,tokenInfo:t.tokenInfo,lp:t.lp,rate:t.rate,reRate:t.reRate,prop:t.prop}}),n("after",{directives:[{name:"show",rawName:"v-show",value:"done"===t.state,expression:"state === 'done'"}],attrs:{trxAmount:t.trxAmount,tokenInfo:t.tokenInfo},on:{close:t.close}})],1)},r=[],s=(n("a9e3"),n("d3b7"),{components:{before:function(){return n.e("chunk-54ccbfe6").then(n.bind(null,"6c15"))},in:function(){return n.e("chunk-b25a6f1e").then(n.bind(null,"7089"))},after:function(){return n.e("chunk-2fbb1fee").then(n.bind(null,"229b"))}},props:{state:{type:String,required:!0},trxAmount:{type:[Number,String],required:!0},tokenInfo:{type:Object,required:!0},lp:{type:[Number,String],required:!0},rate:{type:[Number,String],required:!0},reRate:{type:[Number,String],required:!0},prop:{type:[Number,String],required:!0}},data:function(){return{}},methods:{addLiquidity:function(){this.$emit("addLiquidity")},close:function(){this.$emit("close")}}}),a=s,i=a,u=(n("fc5a"),n("2877")),c=Object(u["a"])(i,o,r,!1,null,"402f4639",null);e["default"]=c.exports},f0b7:function(t,e,n){t.exports=n.p+"img/not-liquidity.72d8e47f.png"},f8fd:function(t,e,n){},f9c5:function(t,e,n){"use strict";n("f8fd")},fc5a:function(t,e,n){"use strict";n("3ca2")},fd23:function(t,e,n){},fe12:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAACnklEQVRIS8WWsWsTYRjGn+dyhVKqOFiooFAFseriUhB0SMFBQVDQaC8UvOYU2uSgih39D6xQMalWTLxBesFWEBwcFMygODrUYqdOSjs4BBq02ORe+dJeTWKqRO/01u+753fP+73f8x4R0hMfSp0RDY8I3pjOpm83YhgSF0YieZ3Uxjf0rzbCQwNHo1F9177DLsnzCi7wht3s5JRvNDSwAtTCBShDMODm0k/UWqjgX8E3wWdNc0eH1jEq4AkAu4M8e5K6r+k7r4IvWPaxiMgsye4ggVtqCYqMmcluPcI5gjsB+SweJ4Tep6A/gKBF8viG7jjjln0TwBiAj2sVr2/GmVwOGhq37FEAE+vdLQ/cbOYKjYT9gUSvJ5WRfO7uvVChIrNLi/NGoVAoK8eiYF4F/XknXQgSXOe0Blq9TmGBjYR9jsRstbwN0FDBvttm0FDBStww7V7XSS80Oz4alj0HoOdrpbTnqeMUgzzjWq14wrYASQs4qGKTKk+7ug61z8xMlsKCKt24lXoI0Ny8TlvBoqbZrtYKjrMaxAf5YECc6WxmqOmQGEyMHPAYeSkienlF9gdRjd+CB8zhHmqRtyq3RWQ5aLCITLi5zLU6xyq32zTtFYheBYW31u8695t2Zavlj1updwCPiHDMzd25tQmuhUKwsOZ5/UHl9sCQfVHTkK+GSeXbQWWmCq5zCilpHi974F8PC9E8nYLTIG0CukDybjZjVAOkzmmr9Wthv4i8Lq/IKb9RaVipSwSdFjRa2CqrInwvEGd5cX5KTSX/ZcZiyU59G5+rIS2QUgU8+TibftOC+h9tXT/j/wD/0dWxZGfbdu0FgKP/wvnW9zjksv8UmQ33ufjFK+0NY2o1zer1P0/tGYD2pUqpL6hBUduF3wHhjnJzZY6yMwAAAABJRU5ErkJggg=="},ffab:function(t,e,n){"use strict";n("fd23")}}]);